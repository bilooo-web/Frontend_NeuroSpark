import{proxyCustomElement as e,HTMLElement as t,h as r,Fragment as n,transformTag as i}from"@stencil/core/internal/client";import{M as u,d as a}from"./error-message2.js";var o=typeof globalThis!=="undefined"?globalThis:typeof window!=="undefined"?window:typeof global!=="undefined"?global:typeof self!=="undefined"?self:{};var f={};
/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */var l;function c(){if(l)return f;l=1;(function(e){(function(){var t=function(){this.init()};t.prototype={init:function(){var e=this||r;e._counter=1e3;e._html5AudioPool=[];e.html5PoolSize=10;e._codecs={};e._howls=[];e._muted=false;e._volume=1;e._canPlayEvent="canplaythrough";e._navigator=typeof window!=="undefined"&&window.navigator?window.navigator:null;e.masterGain=null;e.noAudio=false;e.usingWebAudio=true;e.autoSuspend=true;e.ctx=null;e.autoUnlock=true;e._setup();return e},volume:function(e){var t=this||r;e=parseFloat(e);if(!t.ctx){s()}if(typeof e!=="undefined"&&e>=0&&e<=1){t._volume=e;if(t._muted){return t}if(t.usingWebAudio){t.masterGain.gain.setValueAtTime(e,r.ctx.currentTime)}for(var n=0;n<t._howls.length;n++){if(!t._howls[n]._webAudio){var i=t._howls[n]._getSoundIds();for(var u=0;u<i.length;u++){var a=t._howls[n]._soundById(i[u]);if(a&&a._node){a._node.volume=a._volume*e}}}}return t}return t._volume},mute:function(e){var t=this||r;if(!t.ctx){s()}t._muted=e;if(t.usingWebAudio){t.masterGain.gain.setValueAtTime(e?0:t._volume,r.ctx.currentTime)}for(var n=0;n<t._howls.length;n++){if(!t._howls[n]._webAudio){var i=t._howls[n]._getSoundIds();for(var u=0;u<i.length;u++){var a=t._howls[n]._soundById(i[u]);if(a&&a._node){a._node.muted=e?true:a._muted}}}}return t},stop:function(){var e=this||r;for(var t=0;t<e._howls.length;t++){e._howls[t].stop()}return e},unload:function(){var e=this||r;for(var t=e._howls.length-1;t>=0;t--){e._howls[t].unload()}if(e.usingWebAudio&&e.ctx&&typeof e.ctx.close!=="undefined"){e.ctx.close();e.ctx=null;s()}return e},codecs:function(e){return(this||r)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||r;e.state=e.ctx?e.ctx.state||"suspended":"suspended";e._autoSuspend();if(!e.usingWebAudio){if(typeof Audio!=="undefined"){try{var t=new Audio;if(typeof t.oncanplaythrough==="undefined"){e._canPlayEvent="canplay"}}catch(t){e.noAudio=true}}else{e.noAudio=true}}try{var t=new Audio;if(t.muted){e.noAudio=true}}catch(e){}if(!e.noAudio){e._setupCodecs()}return e},_setupCodecs:function(){var e=this||r;var t=null;try{t=typeof Audio!=="undefined"?new Audio:null}catch(t){return e}if(!t||typeof t.canPlayType!=="function"){return e}var n=t.canPlayType("audio/mpeg;").replace(/^no$/,"");var i=e._navigator?e._navigator.userAgent:"";var u=i.match(/OPR\/(\d+)/g);var a=u&&parseInt(u[0].split("/")[1],10)<33;var o=i.indexOf("Safari")!==-1&&i.indexOf("Chrome")===-1;var f=i.match(/Version\/(.*?) /);var l=o&&f&&parseInt(f[1],10)<15;e._codecs={mp3:!!(!a&&(n||t.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!n,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(t.canPlayType('audio/wav; codecs="1"')||t.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(t.canPlayType("audio/x-m4b;")||t.canPlayType("audio/m4b;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!l&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!l&&t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(t.canPlayType("audio/x-flac;")||t.canPlayType("audio/flac;")).replace(/^no$/,"")};return e},_unlockAudio:function(){var e=this||r;if(e._audioUnlocked||!e.ctx){return}e._audioUnlocked=false;e.autoUnlock=false;if(!e._mobileUnloaded&&e.ctx.sampleRate!==44100){e._mobileUnloaded=true;e.unload()}e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var t=function(r){while(e._html5AudioPool.length<e.html5PoolSize){try{var n=new Audio;n._unlocked=true;e._releaseHtml5Audio(n)}catch(r){e.noAudio=true;break}}for(var i=0;i<e._howls.length;i++){if(!e._howls[i]._webAudio){var u=e._howls[i]._getSoundIds();for(var a=0;a<u.length;a++){var o=e._howls[i]._soundById(u[a]);if(o&&o._node&&!o._node._unlocked){o._node._unlocked=true;o._node.load()}}}}e._autoResume();var f=e.ctx.createBufferSource();f.buffer=e._scratchBuffer;f.connect(e.ctx.destination);if(typeof f.start==="undefined"){f.noteOn(0)}else{f.start(0)}if(typeof e.ctx.resume==="function"){e.ctx.resume()}f.onended=function(){f.disconnect(0);e._audioUnlocked=true;document.removeEventListener("touchstart",t,true);document.removeEventListener("touchend",t,true);document.removeEventListener("click",t,true);document.removeEventListener("keydown",t,true);for(var r=0;r<e._howls.length;r++){e._howls[r]._emit("unlock")}}};document.addEventListener("touchstart",t,true);document.addEventListener("touchend",t,true);document.addEventListener("click",t,true);document.addEventListener("keydown",t,true);return e},_obtainHtml5Audio:function(){var e=this||r;if(e._html5AudioPool.length){return e._html5AudioPool.pop()}var t=(new Audio).play();if(t&&typeof Promise!=="undefined"&&(t instanceof Promise||typeof t.then==="function")){t.catch((function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}))}return new Audio},_releaseHtml5Audio:function(e){var t=this||r;if(e._unlocked){t._html5AudioPool.push(e)}return t},_autoSuspend:function(){var e=this;if(!e.autoSuspend||!e.ctx||typeof e.ctx.suspend==="undefined"||!r.usingWebAudio){return}for(var t=0;t<e._howls.length;t++){if(e._howls[t]._webAudio){for(var n=0;n<e._howls[t]._sounds.length;n++){if(!e._howls[t]._sounds[n]._paused){return e}}}}if(e._suspendTimer){clearTimeout(e._suspendTimer)}e._suspendTimer=setTimeout((function(){if(!e.autoSuspend){return}e._suspendTimer=null;e.state="suspending";var t=function(){e.state="suspended";if(e._resumeAfterSuspend){delete e._resumeAfterSuspend;e._autoResume()}};e.ctx.suspend().then(t,t)}),3e4);return e},_autoResume:function(){var e=this;if(!e.ctx||typeof e.ctx.resume==="undefined"||!r.usingWebAudio){return}if(e.state==="running"&&e.ctx.state!=="interrupted"&&e._suspendTimer){clearTimeout(e._suspendTimer);e._suspendTimer=null}else if(e.state==="suspended"||e.state==="running"&&e.ctx.state==="interrupted"){e.ctx.resume().then((function(){e.state="running";for(var t=0;t<e._howls.length;t++){e._howls[t]._emit("resume")}}));if(e._suspendTimer){clearTimeout(e._suspendTimer);e._suspendTimer=null}}else if(e.state==="suspending"){e._resumeAfterSuspend=true}return e}};var r=new t;var n=function(e){var t=this;if(!e.src||e.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}t.init(e)};n.prototype={init:function(e){var t=this;if(!r.ctx){s()}t._autoplay=e.autoplay||false;t._format=typeof e.format!=="string"?e.format:[e.format];t._html5=e.html5||false;t._muted=e.mute||false;t._loop=e.loop||false;t._pool=e.pool||5;t._preload=typeof e.preload==="boolean"||e.preload==="metadata"?e.preload:true;t._rate=e.rate||1;t._sprite=e.sprite||{};t._src=typeof e.src!=="string"?e.src:[e.src];t._volume=e.volume!==undefined?e.volume:1;t._xhr={method:e.xhr&&e.xhr.method?e.xhr.method:"GET",headers:e.xhr&&e.xhr.headers?e.xhr.headers:null,withCredentials:e.xhr&&e.xhr.withCredentials?e.xhr.withCredentials:false};t._duration=0;t._state="unloaded";t._sounds=[];t._endTimers={};t._queue=[];t._playLock=false;t._onend=e.onend?[{fn:e.onend}]:[];t._onfade=e.onfade?[{fn:e.onfade}]:[];t._onload=e.onload?[{fn:e.onload}]:[];t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[];t._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[];t._onpause=e.onpause?[{fn:e.onpause}]:[];t._onplay=e.onplay?[{fn:e.onplay}]:[];t._onstop=e.onstop?[{fn:e.onstop}]:[];t._onmute=e.onmute?[{fn:e.onmute}]:[];t._onvolume=e.onvolume?[{fn:e.onvolume}]:[];t._onrate=e.onrate?[{fn:e.onrate}]:[];t._onseek=e.onseek?[{fn:e.onseek}]:[];t._onunlock=e.onunlock?[{fn:e.onunlock}]:[];t._onresume=[];t._webAudio=r.usingWebAudio&&!t._html5;if(typeof r.ctx!=="undefined"&&r.ctx&&r.autoUnlock){r._unlockAudio()}r._howls.push(t);if(t._autoplay){t._queue.push({event:"play",action:function(){t.play()}})}if(t._preload&&t._preload!=="none"){t.load()}return t},load:function(){var e=this;var t=null;if(r.noAudio){e._emit("loaderror",null,"No audio support.");return}if(typeof e._src==="string"){e._src=[e._src]}for(var n=0;n<e._src.length;n++){var u,o;if(e._format&&e._format[n]){u=e._format[n]}else{o=e._src[n];if(typeof o!=="string"){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}u=/^data:audio\/([^;,]+);/i.exec(o);if(!u){u=/\.([^.]+)$/.exec(o.split("?",1)[0])}if(u){u=u[1].toLowerCase()}}if(!u){console.warn('No file extension was found. Consider using the "format" property or specify an extension.')}if(u&&r.codecs(u)){t=e._src[n];break}}if(!t){e._emit("loaderror",null,"No codec support for selected audio sources.");return}e._src=t;e._state="loading";if(window.location.protocol==="https:"&&t.slice(0,5)==="http:"){e._html5=true;e._webAudio=false}new i(e);if(e._webAudio){a(e)}return e},play:function(e,t){var n=this;var i=null;if(typeof e==="number"){i=e;e=null}else if(typeof e==="string"&&n._state==="loaded"&&!n._sprite[e]){return null}else if(typeof e==="undefined"){e="__default";if(!n._playLock){var u=0;for(var a=0;a<n._sounds.length;a++){if(n._sounds[a]._paused&&!n._sounds[a]._ended){u++;i=n._sounds[a]._id}}if(u===1){e=null}else{i=null}}}var o=i?n._soundById(i):n._inactiveSound();if(!o){return null}if(i&&!e){e=o._sprite||"__default"}if(n._state!=="loaded"){o._sprite=e;o._ended=false;var f=o._id;n._queue.push({event:"play",action:function(){n.play(f)}});return f}if(i&&!o._paused){if(!t){n._loadQueue("play")}return o._id}if(n._webAudio){r._autoResume()}var l=Math.max(0,o._seek>0?o._seek:n._sprite[e][0]/1e3);var c=Math.max(0,(n._sprite[e][0]+n._sprite[e][1])/1e3-l);var s=c*1e3/Math.abs(o._rate);var v=n._sprite[e][0]/1e3;var d=(n._sprite[e][0]+n._sprite[e][1])/1e3;o._sprite=e;o._ended=false;var h=function(){o._paused=false;o._seek=l;o._start=v;o._stop=d;o._loop=!!(o._loop||n._sprite[e][2])};if(l>=d){n._ended(o);return}var b=o._node;if(n._webAudio){var m=function(){n._playLock=false;h();n._refreshBuffer(o);var e=o._muted||n._muted?0:o._volume;b.gain.setValueAtTime(e,r.ctx.currentTime);o._playStart=r.ctx.currentTime;if(typeof b.bufferSource.start==="undefined"){o._loop?b.bufferSource.noteGrainOn(0,l,86400):b.bufferSource.noteGrainOn(0,l,c)}else{o._loop?b.bufferSource.start(0,l,86400):b.bufferSource.start(0,l,c)}if(s!==Infinity){n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),s)}if(!t){setTimeout((function(){n._emit("play",o._id);n._loadQueue()}),0)}};if(r.state==="running"&&r.ctx.state!=="interrupted"){m()}else{n._playLock=true;n.once("resume",m);n._clearTimer(o._id)}}else{var g=function(){b.currentTime=l;b.muted=o._muted||n._muted||r._muted||b.muted;b.volume=o._volume*r.volume();b.playbackRate=o._rate;try{var i=b.play();if(i&&typeof Promise!=="undefined"&&(i instanceof Promise||typeof i.then==="function")){n._playLock=true;h();i.then((function(){n._playLock=false;b._unlocked=true;if(!t){n._emit("play",o._id)}else{n._loadQueue()}})).catch((function(){n._playLock=false;n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue "+"on mobile devices and Chrome where playback was not within a user interaction.");o._ended=true;o._paused=true}))}else if(!t){n._playLock=false;h();n._emit("play",o._id)}b.playbackRate=o._rate;if(b.paused){n._emit("playerror",o._id,"Playback was unable to start. This is most commonly an issue "+"on mobile devices and Chrome where playback was not within a user interaction.");return}if(e!=="__default"||o._loop){n._endTimers[o._id]=setTimeout(n._ended.bind(n,o),s)}else{n._endTimers[o._id]=function(){n._ended(o);b.removeEventListener("ended",n._endTimers[o._id],false)};b.addEventListener("ended",n._endTimers[o._id],false)}}catch(e){n._emit("playerror",o._id,e)}};if(b.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"){b.src=n._src;b.load()}var p=window&&window.ejecta||!b.readyState&&r._navigator.isCocoonJS;if(b.readyState>=3||p){g()}else{n._playLock=true;n._state="loading";var _=function(){n._state="loaded";g();b.removeEventListener(r._canPlayEvent,_,false)};b.addEventListener(r._canPlayEvent,_,false);n._clearTimer(o._id)}}return o._id},pause:function(e){var t=this;if(t._state!=="loaded"||t._playLock){t._queue.push({event:"pause",action:function(){t.pause(e)}});return t}var r=t._getSoundIds(e);for(var n=0;n<r.length;n++){t._clearTimer(r[n]);var i=t._soundById(r[n]);if(i&&!i._paused){i._seek=t.seek(r[n]);i._rateSeek=0;i._paused=true;t._stopFade(r[n]);if(i._node){if(t._webAudio){if(!i._node.bufferSource){continue}if(typeof i._node.bufferSource.stop==="undefined"){i._node.bufferSource.noteOff(0)}else{i._node.bufferSource.stop(0)}t._cleanBuffer(i._node)}else if(!isNaN(i._node.duration)||i._node.duration===Infinity){i._node.pause()}}}if(!arguments[1]){t._emit("pause",i?i._id:null)}}return t},stop:function(e,t){var r=this;if(r._state!=="loaded"||r._playLock){r._queue.push({event:"stop",action:function(){r.stop(e)}});return r}var n=r._getSoundIds(e);for(var i=0;i<n.length;i++){r._clearTimer(n[i]);var u=r._soundById(n[i]);if(u){u._seek=u._start||0;u._rateSeek=0;u._paused=true;u._ended=true;r._stopFade(n[i]);if(u._node){if(r._webAudio){if(u._node.bufferSource){if(typeof u._node.bufferSource.stop==="undefined"){u._node.bufferSource.noteOff(0)}else{u._node.bufferSource.stop(0)}r._cleanBuffer(u._node)}}else if(!isNaN(u._node.duration)||u._node.duration===Infinity){u._node.currentTime=u._start||0;u._node.pause();if(u._node.duration===Infinity){r._clearSound(u._node)}}}if(!t){r._emit("stop",u._id)}}}return r},mute:function(e,t){var n=this;if(n._state!=="loaded"||n._playLock){n._queue.push({event:"mute",action:function(){n.mute(e,t)}});return n}if(typeof t==="undefined"){if(typeof e==="boolean"){n._muted=e}else{return n._muted}}var i=n._getSoundIds(t);for(var u=0;u<i.length;u++){var a=n._soundById(i[u]);if(a){a._muted=e;if(a._interval){n._stopFade(a._id)}if(n._webAudio&&a._node){a._node.gain.setValueAtTime(e?0:a._volume,r.ctx.currentTime)}else if(a._node){a._node.muted=r._muted?true:e}n._emit("mute",a._id)}}return n},volume:function(){var e=this;var t=arguments;var n,i;if(t.length===0){return e._volume}else if(t.length===1||t.length===2&&typeof t[1]==="undefined"){var u=e._getSoundIds();var a=u.indexOf(t[0]);if(a>=0){i=parseInt(t[0],10)}else{n=parseFloat(t[0])}}else if(t.length>=2){n=parseFloat(t[0]);i=parseInt(t[1],10)}var o;if(typeof n!=="undefined"&&n>=0&&n<=1){if(e._state!=="loaded"||e._playLock){e._queue.push({event:"volume",action:function(){e.volume.apply(e,t)}});return e}if(typeof i==="undefined"){e._volume=n}i=e._getSoundIds(i);for(var f=0;f<i.length;f++){o=e._soundById(i[f]);if(o){o._volume=n;if(!t[2]){e._stopFade(i[f])}if(e._webAudio&&o._node&&!o._muted){o._node.gain.setValueAtTime(n,r.ctx.currentTime)}else if(o._node&&!o._muted){o._node.volume=n*r.volume()}e._emit("volume",o._id)}}}else{o=i?e._soundById(i):e._sounds[0];return o?o._volume:0}return e},fade:function(e,t,n,i){var u=this;if(u._state!=="loaded"||u._playLock){u._queue.push({event:"fade",action:function(){u.fade(e,t,n,i)}});return u}e=Math.min(Math.max(0,parseFloat(e)),1);t=Math.min(Math.max(0,parseFloat(t)),1);n=parseFloat(n);u.volume(e,i);var a=u._getSoundIds(i);for(var o=0;o<a.length;o++){var f=u._soundById(a[o]);if(f){if(!i){u._stopFade(a[o])}if(u._webAudio&&!f._muted){var l=r.ctx.currentTime;var c=l+n/1e3;f._volume=e;f._node.gain.setValueAtTime(e,l);f._node.gain.linearRampToValueAtTime(t,c)}u._startFadeInterval(f,e,t,n,a[o],typeof i==="undefined")}}return u},_startFadeInterval:function(e,t,r,n,i,u){var a=this;var o=t;var f=r-t;var l=Math.abs(f/.01);var c=Math.max(4,l>0?n/l:n);var s=Date.now();e._fadeTo=r;e._interval=setInterval((function(){var i=(Date.now()-s)/n;s=Date.now();o+=f*i;o=Math.round(o*100)/100;if(f<0){o=Math.max(r,o)}else{o=Math.min(r,o)}if(a._webAudio){e._volume=o}else{a.volume(o,e._id,true)}if(u){a._volume=o}if(r<t&&o<=r||r>t&&o>=r){clearInterval(e._interval);e._interval=null;e._fadeTo=null;a.volume(r,e._id);a._emit("fade",e._id)}}),c)},_stopFade:function(e){var t=this;var n=t._soundById(e);if(n&&n._interval){if(t._webAudio){n._node.gain.cancelScheduledValues(r.ctx.currentTime)}clearInterval(n._interval);n._interval=null;t.volume(n._fadeTo,e);n._fadeTo=null;t._emit("fade",e)}return t},loop:function(){var e=this;var t=arguments;var r,n,i;if(t.length===0){return e._loop}else if(t.length===1){if(typeof t[0]==="boolean"){r=t[0];e._loop=r}else{i=e._soundById(parseInt(t[0],10));return i?i._loop:false}}else if(t.length===2){r=t[0];n=parseInt(t[1],10)}var u=e._getSoundIds(n);for(var a=0;a<u.length;a++){i=e._soundById(u[a]);if(i){i._loop=r;if(e._webAudio&&i._node&&i._node.bufferSource){i._node.bufferSource.loop=r;if(r){i._node.bufferSource.loopStart=i._start||0;i._node.bufferSource.loopEnd=i._stop;if(e.playing(u[a])){e.pause(u[a],true);e.play(u[a],true)}}}}}return e},rate:function(){var e=this;var t=arguments;var n,i;if(t.length===0){i=e._sounds[0]._id}else if(t.length===1){var u=e._getSoundIds();var a=u.indexOf(t[0]);if(a>=0){i=parseInt(t[0],10)}else{n=parseFloat(t[0])}}else if(t.length===2){n=parseFloat(t[0]);i=parseInt(t[1],10)}var o;if(typeof n==="number"){if(e._state!=="loaded"||e._playLock){e._queue.push({event:"rate",action:function(){e.rate.apply(e,t)}});return e}if(typeof i==="undefined"){e._rate=n}i=e._getSoundIds(i);for(var f=0;f<i.length;f++){o=e._soundById(i[f]);if(o){if(e.playing(i[f])){o._rateSeek=e.seek(i[f]);o._playStart=e._webAudio?r.ctx.currentTime:o._playStart}o._rate=n;if(e._webAudio&&o._node&&o._node.bufferSource){o._node.bufferSource.playbackRate.setValueAtTime(n,r.ctx.currentTime)}else if(o._node){o._node.playbackRate=n}var l=e.seek(i[f]);var c=(e._sprite[o._sprite][0]+e._sprite[o._sprite][1])/1e3-l;var s=c*1e3/Math.abs(o._rate);if(e._endTimers[i[f]]||!o._paused){e._clearTimer(i[f]);e._endTimers[i[f]]=setTimeout(e._ended.bind(e,o),s)}e._emit("rate",o._id)}}}else{o=e._soundById(i);return o?o._rate:e._rate}return e},seek:function(){var e=this;var t=arguments;var n,i;if(t.length===0){if(e._sounds.length){i=e._sounds[0]._id}}else if(t.length===1){var u=e._getSoundIds();var a=u.indexOf(t[0]);if(a>=0){i=parseInt(t[0],10)}else if(e._sounds.length){i=e._sounds[0]._id;n=parseFloat(t[0])}}else if(t.length===2){n=parseFloat(t[0]);i=parseInt(t[1],10)}if(typeof i==="undefined"){return 0}if(typeof n==="number"&&(e._state!=="loaded"||e._playLock)){e._queue.push({event:"seek",action:function(){e.seek.apply(e,t)}});return e}var o=e._soundById(i);if(o){if(typeof n==="number"&&n>=0){var f=e.playing(i);if(f){e.pause(i,true)}o._seek=n;o._ended=false;e._clearTimer(i);if(!e._webAudio&&o._node&&!isNaN(o._node.duration)){o._node.currentTime=n}var l=function(){if(f){e.play(i,true)}e._emit("seek",i)};if(f&&!e._webAudio){var c=function(){if(!e._playLock){l()}else{setTimeout(c,0)}};setTimeout(c,0)}else{l()}}else{if(e._webAudio){var s=e.playing(i)?r.ctx.currentTime-o._playStart:0;var v=o._rateSeek?o._rateSeek-o._seek:0;return o._seek+(v+s*Math.abs(o._rate))}else{return o._node.currentTime}}}return e},playing:function(e){var t=this;if(typeof e==="number"){var r=t._soundById(e);return r?!r._paused:false}for(var n=0;n<t._sounds.length;n++){if(!t._sounds[n]._paused){return true}}return false},duration:function(e){var t=this;var r=t._duration;var n=t._soundById(e);if(n){r=t._sprite[n._sprite][1]/1e3}return r},state:function(){return this._state},unload:function(){var e=this;var t=e._sounds;for(var n=0;n<t.length;n++){if(!t[n]._paused){e.stop(t[n]._id)}if(!e._webAudio){e._clearSound(t[n]._node);t[n]._node.removeEventListener("error",t[n]._errorFn,false);t[n]._node.removeEventListener(r._canPlayEvent,t[n]._loadFn,false);t[n]._node.removeEventListener("ended",t[n]._endFn,false);r._releaseHtml5Audio(t[n]._node)}delete t[n]._node;e._clearTimer(t[n]._id)}var i=r._howls.indexOf(e);if(i>=0){r._howls.splice(i,1)}var a=true;for(n=0;n<r._howls.length;n++){if(r._howls[n]._src===e._src||e._src.indexOf(r._howls[n]._src)>=0){a=false;break}}if(u&&a){delete u[e._src]}r.noAudio=false;e._state="unloaded";e._sounds=[];e=null;return null},on:function(e,t,r,n){var i=this;var u=i["_on"+e];if(typeof t==="function"){u.push(n?{id:r,fn:t,once:n}:{id:r,fn:t})}return i},off:function(e,t,r){var n=this;var i=n["_on"+e];var u=0;if(typeof t==="number"){r=t;t=null}if(t||r){for(u=0;u<i.length;u++){var a=r===i[u].id;if(t===i[u].fn&&a||!t&&a){i.splice(u,1);break}}}else if(e){n["_on"+e]=[]}else{var o=Object.keys(n);for(u=0;u<o.length;u++){if(o[u].indexOf("_on")===0&&Array.isArray(n[o[u]])){n[o[u]]=[]}}}return n},once:function(e,t,r){var n=this;n.on(e,t,r,1);return n},_emit:function(e,t,r){var n=this;var i=n["_on"+e];for(var u=i.length-1;u>=0;u--){if(!i[u].id||i[u].id===t||e==="load"){setTimeout(function(e){e.call(this,t,r)}.bind(n,i[u].fn),0);if(i[u].once){n.off(e,i[u].fn,i[u].id)}}}n._loadQueue(e);return n},_loadQueue:function(e){var t=this;if(t._queue.length>0){var r=t._queue[0];if(r.event===e){t._queue.shift();t._loadQueue()}if(!e){r.action()}}return t},_ended:function(e){var t=this;var n=e._sprite;if(!t._webAudio&&e._node&&!e._node.paused&&!e._node.ended&&e._node.currentTime<e._stop){setTimeout(t._ended.bind(t,e),100);return t}var i=!!(e._loop||t._sprite[n][2]);t._emit("end",e._id);if(!t._webAudio&&i){t.stop(e._id,true).play(e._id)}if(t._webAudio&&i){t._emit("play",e._id);e._seek=e._start||0;e._rateSeek=0;e._playStart=r.ctx.currentTime;var u=(e._stop-e._start)*1e3/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),u)}if(t._webAudio&&!i){e._paused=true;e._ended=true;e._seek=e._start||0;e._rateSeek=0;t._clearTimer(e._id);t._cleanBuffer(e._node);r._autoSuspend()}if(!t._webAudio&&!i){t.stop(e._id,true)}return t},_clearTimer:function(e){var t=this;if(t._endTimers[e]){if(typeof t._endTimers[e]!=="function"){clearTimeout(t._endTimers[e])}else{var r=t._soundById(e);if(r&&r._node){r._node.removeEventListener("ended",t._endTimers[e],false)}}delete t._endTimers[e]}return t},_soundById:function(e){var t=this;for(var r=0;r<t._sounds.length;r++){if(e===t._sounds[r]._id){return t._sounds[r]}}return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++){if(e._sounds[t]._ended){return e._sounds[t].reset()}}return new i(e)},_drain:function(){var e=this;var t=e._pool;var r=0;var n=0;if(e._sounds.length<t){return}for(n=0;n<e._sounds.length;n++){if(e._sounds[n]._ended){r++}}for(n=e._sounds.length-1;n>=0;n--){if(r<=t){return}if(e._sounds[n]._ended){if(e._webAudio&&e._sounds[n]._node){e._sounds[n]._node.disconnect(0)}e._sounds.splice(n,1);r--}}},_getSoundIds:function(e){var t=this;if(typeof e==="undefined"){var r=[];for(var n=0;n<t._sounds.length;n++){r.push(t._sounds[n]._id)}return r}else{return[e]}},_refreshBuffer:function(e){var t=this;e._node.bufferSource=r.ctx.createBufferSource();e._node.bufferSource.buffer=u[t._src];if(e._panner){e._node.bufferSource.connect(e._panner)}else{e._node.bufferSource.connect(e._node)}e._node.bufferSource.loop=e._loop;if(e._loop){e._node.bufferSource.loopStart=e._start||0;e._node.bufferSource.loopEnd=e._stop||0}e._node.bufferSource.playbackRate.setValueAtTime(e._rate,r.ctx.currentTime);return t},_cleanBuffer:function(e){var t=this;var n=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!e.bufferSource){return t}if(r._scratchBuffer&&e.bufferSource){e.bufferSource.onended=null;e.bufferSource.disconnect(0);if(n){try{e.bufferSource.buffer=r._scratchBuffer}catch(e){}}}e.bufferSource=null;return t},_clearSound:function(e){var t=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);if(!t){e.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"}}};var i=function(e){this._parent=e;this.init()};i.prototype={init:function(){var e=this;var t=e._parent;e._muted=t._muted;e._loop=t._loop;e._volume=t._volume;e._rate=t._rate;e._seek=0;e._paused=true;e._ended=true;e._sprite="__default";e._id=++r._counter;t._sounds.push(e);e.create();return e},create:function(){var e=this;var t=e._parent;var n=r._muted||e._muted||e._parent._muted?0:e._volume;if(t._webAudio){e._node=typeof r.ctx.createGain==="undefined"?r.ctx.createGainNode():r.ctx.createGain();e._node.gain.setValueAtTime(n,r.ctx.currentTime);e._node.paused=true;e._node.connect(r.masterGain)}else if(!r.noAudio){e._node=r._obtainHtml5Audio();e._errorFn=e._errorListener.bind(e);e._node.addEventListener("error",e._errorFn,false);e._loadFn=e._loadListener.bind(e);e._node.addEventListener(r._canPlayEvent,e._loadFn,false);e._endFn=e._endListener.bind(e);e._node.addEventListener("ended",e._endFn,false);e._node.src=t._src;e._node.preload=t._preload===true?"auto":t._preload;e._node.volume=n*r.volume();e._node.load()}return e},reset:function(){var e=this;var t=e._parent;e._muted=t._muted;e._loop=t._loop;e._volume=t._volume;e._rate=t._rate;e._seek=0;e._rateSeek=0;e._paused=true;e._ended=true;e._sprite="__default";e._id=++r._counter;return e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0);e._node.removeEventListener("error",e._errorFn,false)},_loadListener:function(){var e=this;var t=e._parent;t._duration=Math.ceil(e._node.duration*10)/10;if(Object.keys(t._sprite).length===0){t._sprite={__default:[0,t._duration*1e3]}}if(t._state!=="loaded"){t._state="loaded";t._emit("load");t._loadQueue()}e._node.removeEventListener(r._canPlayEvent,e._loadFn,false)},_endListener:function(){var e=this;var t=e._parent;if(t._duration===Infinity){t._duration=Math.ceil(e._node.duration*10)/10;if(t._sprite.__default[1]===Infinity){t._sprite.__default[1]=t._duration*1e3}t._ended(e)}e._node.removeEventListener("ended",e._endFn,false)}};var u={};var a=function(e){var t=e._src;if(u[t]){e._duration=u[t].duration;c(e);return}if(/^data:[^;]+;base64,/.test(t)){var r=atob(t.split(",")[1]);var n=new Uint8Array(r.length);for(var i=0;i<r.length;++i){n[i]=r.charCodeAt(i)}l(n.buffer,e)}else{var a=new XMLHttpRequest;a.open(e._xhr.method,t,true);a.withCredentials=e._xhr.withCredentials;a.responseType="arraybuffer";if(e._xhr.headers){Object.keys(e._xhr.headers).forEach((function(t){a.setRequestHeader(t,e._xhr.headers[t])}))}a.onload=function(){var t=(a.status+"")[0];if(t!=="0"&&t!=="2"&&t!=="3"){e._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".");return}l(a.response,e)};a.onerror=function(){if(e._webAudio){e._html5=true;e._webAudio=false;e._sounds=[];delete u[t];e.load()}};f(a)}};var f=function(e){try{e.send()}catch(t){e.onerror()}};var l=function(e,t){var n=function(){t._emit("loaderror",null,"Decoding audio data failed.")};var i=function(e){if(e&&t._sounds.length>0){u[t._src]=e;c(t,e)}else{n()}};if(typeof Promise!=="undefined"&&r.ctx.decodeAudioData.length===1){r.ctx.decodeAudioData(e).then(i).catch(n)}else{r.ctx.decodeAudioData(e,i,n)}};var c=function(e,t){if(t&&!e._duration){e._duration=t.duration}if(Object.keys(e._sprite).length===0){e._sprite={__default:[0,e._duration*1e3]}}if(e._state!=="loaded"){e._state="loaded";e._emit("load");e._loadQueue()}};var s=function(){if(!r.usingWebAudio){return}try{if(typeof AudioContext!=="undefined"){r.ctx=new AudioContext}else if(typeof webkitAudioContext!=="undefined"){r.ctx=new webkitAudioContext}else{r.usingWebAudio=false}}catch(e){r.usingWebAudio=false}if(!r.ctx){r.usingWebAudio=false}var e=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform);var t=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);var n=t?parseInt(t[1],10):null;if(e&&n&&n<9){var i=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());if(r._navigator&&!i){r.usingWebAudio=false}}if(r.usingWebAudio){r.masterGain=typeof r.ctx.createGain==="undefined"?r.ctx.createGainNode():r.ctx.createGain();r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime);r.masterGain.connect(r.ctx.destination)}r._setup()};{e.Howler=r;e.Howl=n}if(typeof o!=="undefined"){o.HowlerGlobal=t;o.Howler=r;o.Howl=n;o.Sound=i}else if(typeof window!=="undefined"){window.HowlerGlobal=t;window.Howler=r;window.Howl=n;window.Sound=i}})();
/*!
		 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
		 *  
		 *  howler.js v2.2.4
		 *  howlerjs.com
		 *
		 *  (c) 2013-2020, James Simpson of GoldFire Studios
		 *  goldfirestudios.com
		 *
		 *  MIT License
		 */(function(){HowlerGlobal.prototype._pos=[0,0,0];HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0];HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener){return t}for(var r=t._howls.length-1;r>=0;r--){t._howls[r].stereo(e)}return t};HowlerGlobal.prototype.pos=function(e,t,r){var n=this;if(!n.ctx||!n.ctx.listener){return n}t=typeof t!=="number"?n._pos[1]:t;r=typeof r!=="number"?n._pos[2]:r;if(typeof e==="number"){n._pos=[e,t,r];if(typeof n.ctx.listener.positionX!=="undefined"){n.ctx.listener.positionX.setTargetAtTime(n._pos[0],Howler.ctx.currentTime,.1);n.ctx.listener.positionY.setTargetAtTime(n._pos[1],Howler.ctx.currentTime,.1);n.ctx.listener.positionZ.setTargetAtTime(n._pos[2],Howler.ctx.currentTime,.1)}else{n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2])}}else{return n._pos}return n};HowlerGlobal.prototype.orientation=function(e,t,r,n,i,u){var a=this;if(!a.ctx||!a.ctx.listener){return a}var o=a._orientation;t=typeof t!=="number"?o[1]:t;r=typeof r!=="number"?o[2]:r;n=typeof n!=="number"?o[3]:n;i=typeof i!=="number"?o[4]:i;u=typeof u!=="number"?o[5]:u;if(typeof e==="number"){a._orientation=[e,t,r,n,i,u];if(typeof a.ctx.listener.forwardX!=="undefined"){a.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1);a.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1);a.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1);a.ctx.listener.upX.setTargetAtTime(n,Howler.ctx.currentTime,.1);a.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1);a.ctx.listener.upZ.setTargetAtTime(u,Howler.ctx.currentTime,.1)}else{a.ctx.listener.setOrientation(e,t,r,n,i,u)}}else{return o}return a};Howl.prototype.init=function(e){return function(t){var r=this;r._orientation=t.orientation||[1,0,0];r._stereo=t.stereo||null;r._pos=t.pos||null;r._pannerAttr={coneInnerAngle:typeof t.coneInnerAngle!=="undefined"?t.coneInnerAngle:360,coneOuterAngle:typeof t.coneOuterAngle!=="undefined"?t.coneOuterAngle:360,coneOuterGain:typeof t.coneOuterGain!=="undefined"?t.coneOuterGain:0,distanceModel:typeof t.distanceModel!=="undefined"?t.distanceModel:"inverse",maxDistance:typeof t.maxDistance!=="undefined"?t.maxDistance:1e4,panningModel:typeof t.panningModel!=="undefined"?t.panningModel:"HRTF",refDistance:typeof t.refDistance!=="undefined"?t.refDistance:1,rolloffFactor:typeof t.rolloffFactor!=="undefined"?t.rolloffFactor:1};r._onstereo=t.onstereo?[{fn:t.onstereo}]:[];r._onpos=t.onpos?[{fn:t.onpos}]:[];r._onorientation=t.onorientation?[{fn:t.onorientation}]:[];return e.call(this,t)}}(Howl.prototype.init);Howl.prototype.stereo=function(t,r){var n=this;if(!n._webAudio){return n}if(n._state!=="loaded"){n._queue.push({event:"stereo",action:function(){n.stereo(t,r)}});return n}var i=typeof Howler.ctx.createStereoPanner==="undefined"?"spatial":"stereo";if(typeof r==="undefined"){if(typeof t==="number"){n._stereo=t;n._pos=[t,0,0]}else{return n._stereo}}var u=n._getSoundIds(r);for(var a=0;a<u.length;a++){var o=n._soundById(u[a]);if(o){if(typeof t==="number"){o._stereo=t;o._pos=[t,0,0];if(o._node){o._pannerAttr.panningModel="equalpower";if(!o._panner||!o._panner.pan){e(o,i)}if(i==="spatial"){if(typeof o._panner.positionX!=="undefined"){o._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime);o._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime);o._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)}else{o._panner.setPosition(t,0,0)}}else{o._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)}}n._emit("stereo",o._id)}else{return o._stereo}}}return n};Howl.prototype.pos=function(t,r,n,i){var u=this;if(!u._webAudio){return u}if(u._state!=="loaded"){u._queue.push({event:"pos",action:function(){u.pos(t,r,n,i)}});return u}r=typeof r!=="number"?0:r;n=typeof n!=="number"?-.5:n;if(typeof i==="undefined"){if(typeof t==="number"){u._pos=[t,r,n]}else{return u._pos}}var a=u._getSoundIds(i);for(var o=0;o<a.length;o++){var f=u._soundById(a[o]);if(f){if(typeof t==="number"){f._pos=[t,r,n];if(f._node){if(!f._panner||f._panner.pan){e(f,"spatial")}if(typeof f._panner.positionX!=="undefined"){f._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime);f._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime);f._panner.positionZ.setValueAtTime(n,Howler.ctx.currentTime)}else{f._panner.setPosition(t,r,n)}}u._emit("pos",f._id)}else{return f._pos}}}return u};Howl.prototype.orientation=function(t,r,n,i){var u=this;if(!u._webAudio){return u}if(u._state!=="loaded"){u._queue.push({event:"orientation",action:function(){u.orientation(t,r,n,i)}});return u}r=typeof r!=="number"?u._orientation[1]:r;n=typeof n!=="number"?u._orientation[2]:n;if(typeof i==="undefined"){if(typeof t==="number"){u._orientation=[t,r,n]}else{return u._orientation}}var a=u._getSoundIds(i);for(var o=0;o<a.length;o++){var f=u._soundById(a[o]);if(f){if(typeof t==="number"){f._orientation=[t,r,n];if(f._node){if(!f._panner){if(!f._pos){f._pos=u._pos||[0,0,-.5]}e(f,"spatial")}if(typeof f._panner.orientationX!=="undefined"){f._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime);f._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime);f._panner.orientationZ.setValueAtTime(n,Howler.ctx.currentTime)}else{f._panner.setOrientation(t,r,n)}}u._emit("orientation",f._id)}else{return f._orientation}}}return u};Howl.prototype.pannerAttr=function(){var t=this;var r=arguments;var n,i,u;if(!t._webAudio){return t}if(r.length===0){return t._pannerAttr}else if(r.length===1){if(typeof r[0]==="object"){n=r[0];if(typeof i==="undefined"){if(!n.pannerAttr){n.pannerAttr={coneInnerAngle:n.coneInnerAngle,coneOuterAngle:n.coneOuterAngle,coneOuterGain:n.coneOuterGain,distanceModel:n.distanceModel,maxDistance:n.maxDistance,refDistance:n.refDistance,rolloffFactor:n.rolloffFactor,panningModel:n.panningModel}}t._pannerAttr={coneInnerAngle:typeof n.pannerAttr.coneInnerAngle!=="undefined"?n.pannerAttr.coneInnerAngle:t._coneInnerAngle,coneOuterAngle:typeof n.pannerAttr.coneOuterAngle!=="undefined"?n.pannerAttr.coneOuterAngle:t._coneOuterAngle,coneOuterGain:typeof n.pannerAttr.coneOuterGain!=="undefined"?n.pannerAttr.coneOuterGain:t._coneOuterGain,distanceModel:typeof n.pannerAttr.distanceModel!=="undefined"?n.pannerAttr.distanceModel:t._distanceModel,maxDistance:typeof n.pannerAttr.maxDistance!=="undefined"?n.pannerAttr.maxDistance:t._maxDistance,refDistance:typeof n.pannerAttr.refDistance!=="undefined"?n.pannerAttr.refDistance:t._refDistance,rolloffFactor:typeof n.pannerAttr.rolloffFactor!=="undefined"?n.pannerAttr.rolloffFactor:t._rolloffFactor,panningModel:typeof n.pannerAttr.panningModel!=="undefined"?n.pannerAttr.panningModel:t._panningModel}}}else{u=t._soundById(parseInt(r[0],10));return u?u._pannerAttr:t._pannerAttr}}else if(r.length===2){n=r[0];i=parseInt(r[1],10)}var a=t._getSoundIds(i);for(var o=0;o<a.length;o++){u=t._soundById(a[o]);if(u){var f=u._pannerAttr;f={coneInnerAngle:typeof n.coneInnerAngle!=="undefined"?n.coneInnerAngle:f.coneInnerAngle,coneOuterAngle:typeof n.coneOuterAngle!=="undefined"?n.coneOuterAngle:f.coneOuterAngle,coneOuterGain:typeof n.coneOuterGain!=="undefined"?n.coneOuterGain:f.coneOuterGain,distanceModel:typeof n.distanceModel!=="undefined"?n.distanceModel:f.distanceModel,maxDistance:typeof n.maxDistance!=="undefined"?n.maxDistance:f.maxDistance,refDistance:typeof n.refDistance!=="undefined"?n.refDistance:f.refDistance,rolloffFactor:typeof n.rolloffFactor!=="undefined"?n.rolloffFactor:f.rolloffFactor,panningModel:typeof n.panningModel!=="undefined"?n.panningModel:f.panningModel};var l=u._panner;if(!l){if(!u._pos){u._pos=t._pos||[0,0,-.5]}e(u,"spatial");l=u._panner}l.coneInnerAngle=f.coneInnerAngle;l.coneOuterAngle=f.coneOuterAngle;l.coneOuterGain=f.coneOuterGain;l.distanceModel=f.distanceModel;l.maxDistance=f.maxDistance;l.refDistance=f.refDistance;l.rolloffFactor=f.rolloffFactor;l.panningModel=f.panningModel}}return t};Sound.prototype.init=function(e){return function(){var t=this;var r=t._parent;t._orientation=r._orientation;t._stereo=r._stereo;t._pos=r._pos;t._pannerAttr=r._pannerAttr;e.call(this);if(t._stereo){r.stereo(t._stereo)}else if(t._pos){r.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}}(Sound.prototype.init);Sound.prototype.reset=function(e){return function(){var t=this;var r=t._parent;t._orientation=r._orientation;t._stereo=r._stereo;t._pos=r._pos;t._pannerAttr=r._pannerAttr;if(t._stereo){r.stereo(t._stereo)}else if(t._pos){r.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}else if(t._panner){t._panner.disconnect(0);t._panner=undefined;r._refreshBuffer(t)}return e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial";if(t==="spatial"){e._panner=Howler.ctx.createPanner();e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle;e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle;e._panner.coneOuterGain=e._pannerAttr.coneOuterGain;e._panner.distanceModel=e._pannerAttr.distanceModel;e._panner.maxDistance=e._pannerAttr.maxDistance;e._panner.refDistance=e._pannerAttr.refDistance;e._panner.rolloffFactor=e._pannerAttr.rolloffFactor;e._panner.panningModel=e._pannerAttr.panningModel;if(typeof e._panner.positionX!=="undefined"){e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime);e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime);e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)}else{e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2])}if(typeof e._panner.orientationX!=="undefined"){e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime);e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime);e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)}else{e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])}}else{e._panner=Howler.ctx.createStereoPanner();e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)}e._panner.connect(e._node);if(!e._paused){e._parent.pause(e._id,true).play(e._id,true)}}})()})(f);return f}var s=c();var v={};var d={};var h={};var b={};var m;function g(){if(m)return b;m=1;Object.defineProperty(b,"__esModule",{value:true});b.isFunction=void 0;function e(e){return typeof e==="function"}b.isFunction=e;return b}var p={};var _={};var y={};var w;function O(){if(w)return y;w=1;Object.defineProperty(y,"__esModule",{value:true});y.createErrorClass=void 0;function e(e){var t=function(e){Error.call(e);e.stack=(new Error).stack};var r=e(t);r.prototype=Object.create(Error.prototype);r.prototype.constructor=r;return r}y.createErrorClass=e;return y}var j;function M(){if(j)return _;j=1;Object.defineProperty(_,"__esModule",{value:true});_.UnsubscriptionError=void 0;var e=O();_.UnsubscriptionError=e.createErrorClass((function(e){return function t(r){e(this);this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"";this.name="UnsubscriptionError";this.errors=r}}));return _}var x={};var k;function A(){if(k)return x;k=1;Object.defineProperty(x,"__esModule",{value:true});x.arrRemove=void 0;function e(e,t){if(e){var r=e.indexOf(t);0<=r&&e.splice(r,1)}}x.arrRemove=e;return x}var E;function S(){if(E)return p;E=1;var e=p&&p.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var t=p&&p.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var r=p&&p.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(p,"__esModule",{value:true});p.isSubscription=p.EMPTY_SUBSCRIPTION=p.Subscription=void 0;var n=g();var i=M();var u=A();var a=function(){function a(e){this.initialTeardown=e;this.closed=false;this._parentage=null;this._finalizers=null}a.prototype.unsubscribe=function(){var u,a,o,l;var c;if(!this.closed){this.closed=true;var s=this._parentage;if(s){this._parentage=null;if(Array.isArray(s)){try{for(var v=e(s),d=v.next();!d.done;d=v.next()){var h=d.value;h.remove(this)}}catch(e){u={error:e}}finally{try{if(d&&!d.done&&(a=v.return))a.call(v)}finally{if(u)throw u.error}}}else{s.remove(this)}}var b=this.initialTeardown;if(n.isFunction(b)){try{b()}catch(e){c=e instanceof i.UnsubscriptionError?e.errors:[e]}}var m=this._finalizers;if(m){this._finalizers=null;try{for(var g=e(m),p=g.next();!p.done;p=g.next()){var _=p.value;try{f(_)}catch(e){c=c!==null&&c!==void 0?c:[];if(e instanceof i.UnsubscriptionError){c=r(r([],t(c)),t(e.errors))}else{c.push(e)}}}}catch(e){o={error:e}}finally{try{if(p&&!p.done&&(l=g.return))l.call(g)}finally{if(o)throw o.error}}}if(c){throw new i.UnsubscriptionError(c)}}};a.prototype.add=function(e){var t;if(e&&e!==this){if(this.closed){f(e)}else{if(e instanceof a){if(e.closed||e._hasParent(this)){return}e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}};a.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)};a.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e};a.prototype._removeParent=function(e){var t=this._parentage;if(t===e){this._parentage=null}else if(Array.isArray(t)){u.arrRemove(t,e)}};a.prototype.remove=function(e){var t=this._finalizers;t&&u.arrRemove(t,e);if(e instanceof a){e._removeParent(this)}};a.EMPTY=function(){var e=new a;e.closed=true;return e}();return a}();p.Subscription=a;p.EMPTY_SUBSCRIPTION=a.EMPTY;function o(e){return e instanceof a||e&&"closed"in e&&n.isFunction(e.remove)&&n.isFunction(e.add)&&n.isFunction(e.unsubscribe)}p.isSubscription=o;function f(e){if(n.isFunction(e)){e()}else{e.unsubscribe()}}return p}var T={};var I;function C(){if(I)return T;I=1;Object.defineProperty(T,"__esModule",{value:true});T.config=void 0;T.config={onUnhandledError:null,onStoppedNotification:null,Promise:undefined,useDeprecatedSynchronousErrorHandling:false,useDeprecatedNextContext:false};return T}var F={};var P={};var N;function H(){if(N)return P;N=1;(function(e){var t=P&&P.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var r=P&&P.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(e,"__esModule",{value:true});e.timeoutProvider=void 0;e.timeoutProvider={setTimeout:function(n,i){var u=[];for(var a=2;a<arguments.length;a++){u[a-2]=arguments[a]}var o=e.timeoutProvider.delegate;if(o===null||o===void 0?void 0:o.setTimeout){return o.setTimeout.apply(o,r([n,i],t(u)))}return setTimeout.apply(void 0,r([n,i],t(u)))},clearTimeout:function(t){var r=e.timeoutProvider.delegate;return((r===null||r===void 0?void 0:r.clearTimeout)||clearTimeout)(t)},delegate:undefined}})(P);return P}var L;function R(){if(L)return F;L=1;Object.defineProperty(F,"__esModule",{value:true});F.reportUnhandledError=void 0;var e=C();var t=H();function r(r){t.timeoutProvider.setTimeout((function(){var t=e.config.onUnhandledError;if(t){t(r)}else{throw r}}))}F.reportUnhandledError=r;return F}var z={};var D;function W(){if(D)return z;D=1;Object.defineProperty(z,"__esModule",{value:true});z.noop=void 0;function e(){}z.noop=e;return z}var B={};var U;function $(){if(U)return B;U=1;Object.defineProperty(B,"__esModule",{value:true});B.createNotification=B.nextNotification=B.errorNotification=B.COMPLETE_NOTIFICATION=void 0;B.COMPLETE_NOTIFICATION=function(){return r("C",undefined,undefined)}();function e(e){return r("E",undefined,e)}B.errorNotification=e;function t(e){return r("N",e,undefined)}B.nextNotification=t;function r(e,t,r){return{kind:e,value:t,error:r}}B.createNotification=r;return B}var q={};var V;function G(){if(V)return q;V=1;Object.defineProperty(q,"__esModule",{value:true});q.captureError=q.errorContext=void 0;var e=C();var t=null;function r(r){if(e.config.useDeprecatedSynchronousErrorHandling){var n=!t;if(n){t={errorThrown:false,error:null}}r();if(n){var i=t,u=i.errorThrown,a=i.error;t=null;if(u){throw a}}}else{r()}}q.errorContext=r;function n(r){if(e.config.useDeprecatedSynchronousErrorHandling&&t){t.errorThrown=true;t.error=r}}q.captureError=n;return q}var Y;function K(){if(Y)return h;Y=1;(function(e){var t=h&&h.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:true});e.EMPTY_OBSERVER=e.SafeSubscriber=e.Subscriber=void 0;var r=g();var n=S();var i=C();var u=R();var a=W();var o=$();var f=H();var l=G();var c=function(r){t(i,r);function i(t){var i=r.call(this)||this;i.isStopped=false;if(t){i.destination=t;if(n.isSubscription(t)){t.add(i)}}else{i.destination=e.EMPTY_OBSERVER}return i}i.create=function(e,t,r){return new b(e,t,r)};i.prototype.next=function(e){if(this.isStopped){_(o.nextNotification(e),this)}else{this._next(e)}};i.prototype.error=function(e){if(this.isStopped){_(o.errorNotification(e),this)}else{this.isStopped=true;this._error(e)}};i.prototype.complete=function(){if(this.isStopped){_(o.COMPLETE_NOTIFICATION,this)}else{this.isStopped=true;this._complete()}};i.prototype.unsubscribe=function(){if(!this.closed){this.isStopped=true;r.prototype.unsubscribe.call(this);this.destination=null}};i.prototype._next=function(e){this.destination.next(e)};i.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}};i.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}};return i}(n.Subscription);e.Subscriber=c;var s=Function.prototype.bind;function v(e,t){return s.call(e,t)}var d=function(){function e(e){this.partialObserver=e}e.prototype.next=function(e){var t=this.partialObserver;if(t.next){try{t.next(e)}catch(e){m(e)}}};e.prototype.error=function(e){var t=this.partialObserver;if(t.error){try{t.error(e)}catch(e){m(e)}}else{m(e)}};e.prototype.complete=function(){var e=this.partialObserver;if(e.complete){try{e.complete()}catch(e){m(e)}}};return e}();var b=function(e){t(n,e);function n(t,n,u){var a=e.call(this)||this;var o;if(r.isFunction(t)||!t){o={next:t!==null&&t!==void 0?t:undefined,error:n!==null&&n!==void 0?n:undefined,complete:u!==null&&u!==void 0?u:undefined}}else{var f;if(a&&i.config.useDeprecatedNextContext){f=Object.create(t);f.unsubscribe=function(){return a.unsubscribe()};o={next:t.next&&v(t.next,f),error:t.error&&v(t.error,f),complete:t.complete&&v(t.complete,f)}}else{o=t}}a.destination=new d(o);return a}return n}(c);e.SafeSubscriber=b;function m(e){if(i.config.useDeprecatedSynchronousErrorHandling){l.captureError(e)}else{u.reportUnhandledError(e)}}function p(e){throw e}function _(e,t){var r=i.config.onStoppedNotification;r&&f.timeoutProvider.setTimeout((function(){return r(e,t)}))}e.EMPTY_OBSERVER={closed:true,next:a.noop,error:p,complete:a.noop}})(h);return h}var Q={};var X;function Z(){if(X)return Q;X=1;Object.defineProperty(Q,"__esModule",{value:true});Q.observable=void 0;Q.observable=function(){return typeof Symbol==="function"&&Symbol.observable||"@@observable"}();return Q}var J={};var ee={};var te;function re(){if(te)return ee;te=1;Object.defineProperty(ee,"__esModule",{value:true});ee.identity=void 0;function e(e){return e}ee.identity=e;return ee}var ne;function ie(){if(ne)return J;ne=1;Object.defineProperty(J,"__esModule",{value:true});J.pipeFromArray=J.pipe=void 0;var e=re();function t(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return r(e)}J.pipe=t;function r(t){if(t.length===0){return e.identity}if(t.length===1){return t[0]}return function e(r){return t.reduce((function(e,t){return t(e)}),r)}}J.pipeFromArray=r;return J}var ue;function ae(){if(ue)return d;ue=1;Object.defineProperty(d,"__esModule",{value:true});d.Observable=void 0;var e=K();var t=S();var r=Z();var n=ie();var i=C();var u=g();var a=G();var o=function(){function t(e){if(e){this._subscribe=e}}t.prototype.lift=function(e){var r=new t;r.source=this;r.operator=e;return r};t.prototype.subscribe=function(t,r,n){var i=this;var u=c(t)?t:new e.SafeSubscriber(t,r,n);a.errorContext((function(){var e=i,t=e.operator,r=e.source;u.add(t?t.call(u,r):r?i._subscribe(u):i._trySubscribe(u))}));return u};t.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}};t.prototype.forEach=function(t,r){var n=this;r=f(r);return new r((function(r,i){var u=new e.SafeSubscriber({next:function(e){try{t(e)}catch(e){i(e);u.unsubscribe()}},error:i,complete:r});n.subscribe(u)}))};t.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)};t.prototype[r.observable]=function(){return this};t.prototype.pipe=function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return n.pipeFromArray(e)(this)};t.prototype.toPromise=function(e){var t=this;e=f(e);return new e((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))};t.create=function(e){return new t(e)};return t}();d.Observable=o;function f(e){var t;return(t=e!==null&&e!==void 0?e:i.config.Promise)!==null&&t!==void 0?t:Promise}function l(e){return e&&u.isFunction(e.next)&&u.isFunction(e.error)&&u.isFunction(e.complete)}function c(r){return r&&r instanceof e.Subscriber||l(r)&&t.isSubscription(r)}return d}var oe={};var fe={};var le={};var ce;function se(){if(ce)return le;ce=1;Object.defineProperty(le,"__esModule",{value:true});le.operate=le.hasLift=void 0;var e=g();function t(t){return e.isFunction(t===null||t===void 0?void 0:t.lift)}le.hasLift=t;function r(e){return function(r){if(t(r)){return r.lift((function(t){try{return e(t,this)}catch(e){this.error(e)}}))}throw new TypeError("Unable to lift unknown Observable type")}}le.operate=r;return le}var ve={};var de;function he(){if(de)return ve;de=1;var e=ve&&ve.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(ve,"__esModule",{value:true});ve.OperatorSubscriber=ve.createOperatorSubscriber=void 0;var t=K();function r(e,t,r,i,u){return new n(e,t,r,i,u)}ve.createOperatorSubscriber=r;var n=function(t){e(r,t);function r(e,r,n,i,u,a){var o=t.call(this,e)||this;o.onFinalize=u;o.shouldUnsubscribe=a;o._next=r?function(t){try{r(t)}catch(t){e.error(t)}}:t.prototype._next;o._error=i?function(t){try{i(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error;o._complete=n?function(){try{n()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete;return o}r.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;t.prototype.unsubscribe.call(this);!r&&((e=this.onFinalize)===null||e===void 0?void 0:e.call(this))}};return r}(t.Subscriber);ve.OperatorSubscriber=n;return ve}var be;function me(){if(be)return fe;be=1;Object.defineProperty(fe,"__esModule",{value:true});fe.refCount=void 0;var e=se();var t=he();function r(){return e.operate((function(e,r){var n=null;e._refCount++;var i=t.createOperatorSubscriber(r,undefined,undefined,undefined,(function(){if(!e||e._refCount<=0||0<--e._refCount){n=null;return}var t=e._connection;var i=n;n=null;if(t&&(!i||t===i)){t.unsubscribe()}r.unsubscribe()}));e.subscribe(i);if(!i.closed){n=e.connect()}}))}fe.refCount=r;return fe}var ge;function pe(){if(ge)return oe;ge=1;var e=oe&&oe.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(oe,"__esModule",{value:true});oe.ConnectableObservable=void 0;var t=ae();var r=S();var n=me();var i=he();var u=se();var a=function(t){e(a,t);function a(e,r){var n=t.call(this)||this;n.source=e;n.subjectFactory=r;n._subject=null;n._refCount=0;n._connection=null;if(u.hasLift(e)){n.lift=e.lift}return n}a.prototype._subscribe=function(e){return this.getSubject().subscribe(e)};a.prototype.getSubject=function(){var e=this._subject;if(!e||e.isStopped){this._subject=this.subjectFactory()}return this._subject};a.prototype._teardown=function(){this._refCount=0;var e=this._connection;this._subject=this._connection=null;e===null||e===void 0?void 0:e.unsubscribe()};a.prototype.connect=function(){var e=this;var t=this._connection;if(!t){t=this._connection=new r.Subscription;var n=this.getSubject();t.add(this.source.subscribe(i.createOperatorSubscriber(n,undefined,(function(){e._teardown();n.complete()}),(function(t){e._teardown();n.error(t)}),(function(){return e._teardown()}))));if(t.closed){this._connection=null;t=r.Subscription.EMPTY}}return t};a.prototype.refCount=function(){return n.refCount()(this)};return a}(t.Observable);oe.ConnectableObservable=a;return oe}var _e={};var ye={};var we;function Oe(){if(we)return ye;we=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.performanceTimestampProvider=void 0;e.performanceTimestampProvider={now:function(){return(e.performanceTimestampProvider.delegate||performance).now()},delegate:undefined}})(ye);return ye}var je={};var Me;function xe(){if(Me)return je;Me=1;(function(e){var t=je&&je.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var r=je&&je.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(e,"__esModule",{value:true});e.animationFrameProvider=void 0;var n=S();e.animationFrameProvider={schedule:function(t){var r=requestAnimationFrame;var i=cancelAnimationFrame;var u=e.animationFrameProvider.delegate;if(u){r=u.requestAnimationFrame;i=u.cancelAnimationFrame}var a=r((function(e){i=undefined;t(e)}));return new n.Subscription((function(){return i===null||i===void 0?void 0:i(a)}))},requestAnimationFrame:function(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}var u=e.animationFrameProvider.delegate;return((u===null||u===void 0?void 0:u.requestAnimationFrame)||requestAnimationFrame).apply(void 0,r([],t(n)))},cancelAnimationFrame:function(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}var u=e.animationFrameProvider.delegate;return((u===null||u===void 0?void 0:u.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,r([],t(n)))},delegate:undefined}})(je);return je}var ke;function Ae(){if(ke)return _e;ke=1;Object.defineProperty(_e,"__esModule",{value:true});_e.animationFrames=void 0;var e=ae();var t=Oe();var r=xe();function n(e){return e?i(e):u}_e.animationFrames=n;function i(n){return new e.Observable((function(e){var i=n||t.performanceTimestampProvider;var u=i.now();var a=0;var o=function(){if(!e.closed){a=r.animationFrameProvider.requestAnimationFrame((function(t){a=0;var r=i.now();e.next({timestamp:n?r:t,elapsed:r-u});o()}))}};o();return function(){if(a){r.animationFrameProvider.cancelAnimationFrame(a)}}}))}var u=i();return _e}var Ee={};var Se={};var Te;function Ie(){if(Te)return Se;Te=1;Object.defineProperty(Se,"__esModule",{value:true});Se.ObjectUnsubscribedError=void 0;var e=O();Se.ObjectUnsubscribedError=e.createErrorClass((function(e){return function t(){e(this);this.name="ObjectUnsubscribedError";this.message="object unsubscribed"}}));return Se}var Ce;function Fe(){if(Ce)return Ee;Ce=1;var e=Ee&&Ee.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();var t=Ee&&Ee.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ee,"__esModule",{value:true});Ee.AnonymousSubject=Ee.Subject=void 0;var r=ae();var n=S();var i=Ie();var u=A();var a=G();var o=function(o){e(l,o);function l(){var e=o.call(this)||this;e.closed=false;e.currentObservers=null;e.observers=[];e.isStopped=false;e.hasError=false;e.thrownError=null;return e}l.prototype.lift=function(e){var t=new f(this,this);t.operator=e;return t};l.prototype._throwIfClosed=function(){if(this.closed){throw new i.ObjectUnsubscribedError}};l.prototype.next=function(e){var r=this;a.errorContext((function(){var n,i;r._throwIfClosed();if(!r.isStopped){if(!r.currentObservers){r.currentObservers=Array.from(r.observers)}try{for(var u=t(r.currentObservers),a=u.next();!a.done;a=u.next()){var o=a.value;o.next(e)}}catch(e){n={error:e}}finally{try{if(a&&!a.done&&(i=u.return))i.call(u)}finally{if(n)throw n.error}}}}))};l.prototype.error=function(e){var t=this;a.errorContext((function(){t._throwIfClosed();if(!t.isStopped){t.hasError=t.isStopped=true;t.thrownError=e;var r=t.observers;while(r.length){r.shift().error(e)}}}))};l.prototype.complete=function(){var e=this;a.errorContext((function(){e._throwIfClosed();if(!e.isStopped){e.isStopped=true;var t=e.observers;while(t.length){t.shift().complete()}}}))};l.prototype.unsubscribe=function(){this.isStopped=this.closed=true;this.observers=this.currentObservers=null};Object.defineProperty(l.prototype,"observed",{get:function(){var e;return((e=this.observers)===null||e===void 0?void 0:e.length)>0},enumerable:false,configurable:true});l.prototype._trySubscribe=function(e){this._throwIfClosed();return o.prototype._trySubscribe.call(this,e)};l.prototype._subscribe=function(e){this._throwIfClosed();this._checkFinalizedStatuses(e);return this._innerSubscribe(e)};l.prototype._innerSubscribe=function(e){var t=this;var r=this,i=r.hasError,a=r.isStopped,o=r.observers;if(i||a){return n.EMPTY_SUBSCRIPTION}this.currentObservers=null;o.push(e);return new n.Subscription((function(){t.currentObservers=null;u.arrRemove(o,e)}))};l.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t.thrownError,i=t.isStopped;if(r){e.error(n)}else if(i){e.complete()}};l.prototype.asObservable=function(){var e=new r.Observable;e.source=this;return e};l.create=function(e,t){return new f(e,t)};return l}(r.Observable);Ee.Subject=o;var f=function(t){e(r,t);function r(e,r){var n=t.call(this)||this;n.destination=e;n.source=r;return n}r.prototype.next=function(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0?void 0:r.call(t,e)};r.prototype.error=function(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0?void 0:r.call(t,e)};r.prototype.complete=function(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0?void 0:t.call(e)};r.prototype._subscribe=function(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:n.EMPTY_SUBSCRIPTION};return r}(o);Ee.AnonymousSubject=f;return Ee}var Pe={};var Ne;function He(){if(Ne)return Pe;Ne=1;var e=Pe&&Pe.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Pe,"__esModule",{value:true});Pe.BehaviorSubject=void 0;var t=Fe();var r=function(t){e(r,t);function r(e){var r=t.call(this)||this;r._value=e;return r}Object.defineProperty(r.prototype,"value",{get:function(){return this.getValue()},enumerable:false,configurable:true});r.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);!r.closed&&e.next(this._value);return r};r.prototype.getValue=function(){var e=this,t=e.hasError,r=e.thrownError,n=e._value;if(t){throw r}this._throwIfClosed();return n};r.prototype.next=function(e){t.prototype.next.call(this,this._value=e)};return r}(t.Subject);Pe.BehaviorSubject=r;return Pe}var Le={};var Re={};var ze;function De(){if(ze)return Re;ze=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.dateTimestampProvider=void 0;e.dateTimestampProvider={now:function(){return(e.dateTimestampProvider.delegate||Date).now()},delegate:undefined}})(Re);return Re}var We;function Be(){if(We)return Le;We=1;var e=Le&&Le.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Le,"__esModule",{value:true});Le.ReplaySubject=void 0;var t=Fe();var r=De();var n=function(t){e(n,t);function n(e,n,i){if(e===void 0){e=Infinity}if(n===void 0){n=Infinity}if(i===void 0){i=r.dateTimestampProvider}var u=t.call(this)||this;u._bufferSize=e;u._windowTime=n;u._timestampProvider=i;u._buffer=[];u._infiniteTimeWindow=true;u._infiniteTimeWindow=n===Infinity;u._bufferSize=Math.max(1,e);u._windowTime=Math.max(1,n);return u}n.prototype.next=function(e){var r=this,n=r.isStopped,i=r._buffer,u=r._infiniteTimeWindow,a=r._timestampProvider,o=r._windowTime;if(!n){i.push(e);!u&&i.push(a.now()+o)}this._trimBuffer();t.prototype.next.call(this,e)};n.prototype._subscribe=function(e){this._throwIfClosed();this._trimBuffer();var t=this._innerSubscribe(e);var r=this,n=r._infiniteTimeWindow,i=r._buffer;var u=i.slice();for(var a=0;a<u.length&&!e.closed;a+=n?1:2){e.next(u[a])}this._checkFinalizedStatuses(e);return t};n.prototype._trimBuffer=function(){var e=this,t=e._bufferSize,r=e._timestampProvider,n=e._buffer,i=e._infiniteTimeWindow;var u=(i?1:2)*t;t<Infinity&&u<n.length&&n.splice(0,n.length-u);if(!i){var a=r.now();var o=0;for(var f=1;f<n.length&&n[f]<=a;f+=2){o=f}o&&n.splice(0,o+1)}};return n}(t.Subject);Le.ReplaySubject=n;return Le}var Ue={};var $e;function qe(){if($e)return Ue;$e=1;var e=Ue&&Ue.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ue,"__esModule",{value:true});Ue.AsyncSubject=void 0;var t=Fe();var r=function(t){e(r,t);function r(){var e=t!==null&&t.apply(this,arguments)||this;e._value=null;e._hasValue=false;e._isComplete=false;return e}r.prototype._checkFinalizedStatuses=function(e){var t=this,r=t.hasError,n=t._hasValue,i=t._value,u=t.thrownError,a=t.isStopped,o=t._isComplete;if(r){e.error(u)}else if(a||o){n&&e.next(i);e.complete()}};r.prototype.next=function(e){if(!this.isStopped){this._value=e;this._hasValue=true}};r.prototype.complete=function(){var e=this,r=e._hasValue,n=e._value,i=e._isComplete;if(!i){this._isComplete=true;r&&t.prototype.next.call(this,n);t.prototype.complete.call(this)}};return r}(t.Subject);Ue.AsyncSubject=r;return Ue}var Ve={};var Ge={};var Ye={};var Ke={};var Qe;function Xe(){if(Qe)return Ke;Qe=1;var e=Ke&&Ke.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ke,"__esModule",{value:true});Ke.Action=void 0;var t=S();var r=function(t){e(r,t);function r(e,r){return t.call(this)||this}r.prototype.schedule=function(e,t){return this};return r}(t.Subscription);Ke.Action=r;return Ke}var Ze={};var Je;function et(){if(Je)return Ze;Je=1;(function(e){var t=Ze&&Ze.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var r=Ze&&Ze.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(e,"__esModule",{value:true});e.intervalProvider=void 0;e.intervalProvider={setInterval:function(n,i){var u=[];for(var a=2;a<arguments.length;a++){u[a-2]=arguments[a]}var o=e.intervalProvider.delegate;if(o===null||o===void 0?void 0:o.setInterval){return o.setInterval.apply(o,r([n,i],t(u)))}return setInterval.apply(void 0,r([n,i],t(u)))},clearInterval:function(t){var r=e.intervalProvider.delegate;return((r===null||r===void 0?void 0:r.clearInterval)||clearInterval)(t)},delegate:undefined}})(Ze);return Ze}var tt;function rt(){if(tt)return Ye;tt=1;var e=Ye&&Ye.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ye,"__esModule",{value:true});Ye.AsyncAction=void 0;var t=Xe();var r=et();var n=A();var i=function(t){e(i,t);function i(e,r){var n=t.call(this,e,r)||this;n.scheduler=e;n.work=r;n.pending=false;return n}i.prototype.schedule=function(e,t){var r;if(t===void 0){t=0}if(this.closed){return this}this.state=e;var n=this.id;var i=this.scheduler;if(n!=null){this.id=this.recycleAsyncId(i,n,t)}this.pending=true;this.delay=t;this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,t);return this};i.prototype.requestAsyncId=function(e,t,n){if(n===void 0){n=0}return r.intervalProvider.setInterval(e.flush.bind(e,this),n)};i.prototype.recycleAsyncId=function(e,t,n){if(n===void 0){n=0}if(n!=null&&this.delay===n&&this.pending===false){return t}if(t!=null){r.intervalProvider.clearInterval(t)}return undefined};i.prototype.execute=function(e,t){if(this.closed){return new Error("executing a cancelled action")}this.pending=false;var r=this._execute(e,t);if(r){return r}else if(this.pending===false&&this.id!=null){this.id=this.recycleAsyncId(this.scheduler,this.id,null)}};i.prototype._execute=function(e,t){var r=false;var n;try{this.work(e)}catch(e){r=true;n=e?e:new Error("Scheduled action threw falsy error")}if(r){this.unsubscribe();return n}};i.prototype.unsubscribe=function(){if(!this.closed){var e=this,r=e.id,i=e.scheduler;var u=i.actions;this.work=this.state=this.scheduler=null;this.pending=false;n.arrRemove(u,this);if(r!=null){this.id=this.recycleAsyncId(i,r,null)}this.delay=null;t.prototype.unsubscribe.call(this)}};return i}(t.Action);Ye.AsyncAction=i;return Ye}var nt={};var it={};var ut;function at(){if(ut)return it;ut=1;Object.defineProperty(it,"__esModule",{value:true});it.TestTools=it.Immediate=void 0;var e=1;var t;var r={};function n(e){if(e in r){delete r[e];return true}return false}it.Immediate={setImmediate:function(i){var u=e++;r[u]=true;if(!t){t=Promise.resolve()}t.then((function(){return n(u)&&i()}));return u},clearImmediate:function(e){n(e)}};it.TestTools={pending:function(){return Object.keys(r).length}};return it}var ot;function ft(){if(ot)return nt;ot=1;(function(e){var t=nt&&nt.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var r=nt&&nt.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(e,"__esModule",{value:true});e.immediateProvider=void 0;var n=at();var i=n.Immediate.setImmediate,u=n.Immediate.clearImmediate;e.immediateProvider={setImmediate:function(){var n=[];for(var u=0;u<arguments.length;u++){n[u]=arguments[u]}var a=e.immediateProvider.delegate;return((a===null||a===void 0?void 0:a.setImmediate)||i).apply(void 0,r([],t(n)))},clearImmediate:function(t){var r=e.immediateProvider.delegate;return((r===null||r===void 0?void 0:r.clearImmediate)||u)(t)},delegate:undefined}})(nt);return nt}var lt;function ct(){if(lt)return Ge;lt=1;var e=Ge&&Ge.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ge,"__esModule",{value:true});Ge.AsapAction=void 0;var t=rt();var r=ft();var n=function(t){e(n,t);function n(e,r){var n=t.call(this,e,r)||this;n.scheduler=e;n.work=r;return n}n.prototype.requestAsyncId=function(e,n,i){if(i===void 0){i=0}if(i!==null&&i>0){return t.prototype.requestAsyncId.call(this,e,n,i)}e.actions.push(this);return e._scheduled||(e._scheduled=r.immediateProvider.setImmediate(e.flush.bind(e,undefined)))};n.prototype.recycleAsyncId=function(e,n,i){var u;if(i===void 0){i=0}if(i!=null?i>0:this.delay>0){return t.prototype.recycleAsyncId.call(this,e,n,i)}var a=e.actions;if(n!=null&&((u=a[a.length-1])===null||u===void 0?void 0:u.id)!==n){r.immediateProvider.clearImmediate(n);if(e._scheduled===n){e._scheduled=undefined}}return undefined};return n}(t.AsyncAction);Ge.AsapAction=n;return Ge}var st={};var vt={};var dt={};var ht;function bt(){if(ht)return dt;ht=1;Object.defineProperty(dt,"__esModule",{value:true});dt.Scheduler=void 0;var e=De();var t=function(){function t(e,r){if(r===void 0){r=t.now}this.schedulerActionCtor=e;this.now=r}t.prototype.schedule=function(e,t,r){if(t===void 0){t=0}return new this.schedulerActionCtor(this,e).schedule(r,t)};t.now=e.dateTimestampProvider.now;return t}();dt.Scheduler=t;return dt}var mt;function gt(){if(mt)return vt;mt=1;var e=vt&&vt.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(vt,"__esModule",{value:true});vt.AsyncScheduler=void 0;var t=bt();var r=function(r){e(n,r);function n(e,n){if(n===void 0){n=t.Scheduler.now}var i=r.call(this,e,n)||this;i.actions=[];i._active=false;return i}n.prototype.flush=function(e){var t=this.actions;if(this._active){t.push(e);return}var r;this._active=true;do{if(r=e.execute(e.state,e.delay)){break}}while(e=t.shift());this._active=false;if(r){while(e=t.shift()){e.unsubscribe()}throw r}};return n}(t.Scheduler);vt.AsyncScheduler=r;return vt}var pt;function _t(){if(pt)return st;pt=1;var e=st&&st.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(st,"__esModule",{value:true});st.AsapScheduler=void 0;var t=gt();var r=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.flush=function(e){this._active=true;var t=this._scheduled;this._scheduled=undefined;var r=this.actions;var n;e=e||r.shift();do{if(n=e.execute(e.state,e.delay)){break}}while((e=r[0])&&e.id===t&&r.shift());this._active=false;if(n){while((e=r[0])&&e.id===t&&r.shift()){e.unsubscribe()}throw n}};return r}(t.AsyncScheduler);st.AsapScheduler=r;return st}var yt;function wt(){if(yt)return Ve;yt=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.asap=e.asapScheduler=void 0;var t=ct();var r=_t();e.asapScheduler=new r.AsapScheduler(t.AsapAction);e.asap=e.asapScheduler})(Ve);return Ve}var Ot={};var jt;function Mt(){if(jt)return Ot;jt=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.async=e.asyncScheduler=void 0;var t=rt();var r=gt();e.asyncScheduler=new r.AsyncScheduler(t.AsyncAction);e.async=e.asyncScheduler})(Ot);return Ot}var xt={};var kt={};var At;function Et(){if(At)return kt;At=1;var e=kt&&kt.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(kt,"__esModule",{value:true});kt.QueueAction=void 0;var t=rt();var r=function(t){e(r,t);function r(e,r){var n=t.call(this,e,r)||this;n.scheduler=e;n.work=r;return n}r.prototype.schedule=function(e,r){if(r===void 0){r=0}if(r>0){return t.prototype.schedule.call(this,e,r)}this.delay=r;this.state=e;this.scheduler.flush(this);return this};r.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)};r.prototype.requestAsyncId=function(e,r,n){if(n===void 0){n=0}if(n!=null&&n>0||n==null&&this.delay>0){return t.prototype.requestAsyncId.call(this,e,r,n)}e.flush(this);return 0};return r}(t.AsyncAction);kt.QueueAction=r;return kt}var St={};var Tt;function It(){if(Tt)return St;Tt=1;var e=St&&St.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(St,"__esModule",{value:true});St.QueueScheduler=void 0;var t=gt();var r=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}return r}(t.AsyncScheduler);St.QueueScheduler=r;return St}var Ct;function Ft(){if(Ct)return xt;Ct=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.queue=e.queueScheduler=void 0;var t=Et();var r=It();e.queueScheduler=new r.QueueScheduler(t.QueueAction);e.queue=e.queueScheduler})(xt);return xt}var Pt={};var Nt={};var Ht;function Lt(){if(Ht)return Nt;Ht=1;var e=Nt&&Nt.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Nt,"__esModule",{value:true});Nt.AnimationFrameAction=void 0;var t=rt();var r=xe();var n=function(t){e(n,t);function n(e,r){var n=t.call(this,e,r)||this;n.scheduler=e;n.work=r;return n}n.prototype.requestAsyncId=function(e,n,i){if(i===void 0){i=0}if(i!==null&&i>0){return t.prototype.requestAsyncId.call(this,e,n,i)}e.actions.push(this);return e._scheduled||(e._scheduled=r.animationFrameProvider.requestAnimationFrame((function(){return e.flush(undefined)})))};n.prototype.recycleAsyncId=function(e,n,i){var u;if(i===void 0){i=0}if(i!=null?i>0:this.delay>0){return t.prototype.recycleAsyncId.call(this,e,n,i)}var a=e.actions;if(n!=null&&n===e._scheduled&&((u=a[a.length-1])===null||u===void 0?void 0:u.id)!==n){r.animationFrameProvider.cancelAnimationFrame(n);e._scheduled=undefined}return undefined};return n}(t.AsyncAction);Nt.AnimationFrameAction=n;return Nt}var Rt={};var zt;function Dt(){if(zt)return Rt;zt=1;var e=Rt&&Rt.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Rt,"__esModule",{value:true});Rt.AnimationFrameScheduler=void 0;var t=gt();var r=function(t){e(r,t);function r(){return t!==null&&t.apply(this,arguments)||this}r.prototype.flush=function(e){this._active=true;var t;if(e){t=e.id}else{t=this._scheduled;this._scheduled=undefined}var r=this.actions;var n;e=e||r.shift();do{if(n=e.execute(e.state,e.delay)){break}}while((e=r[0])&&e.id===t&&r.shift());this._active=false;if(n){while((e=r[0])&&e.id===t&&r.shift()){e.unsubscribe()}throw n}};return r}(t.AsyncScheduler);Rt.AnimationFrameScheduler=r;return Rt}var Wt;function Bt(){if(Wt)return Pt;Wt=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.animationFrame=e.animationFrameScheduler=void 0;var t=Lt();var r=Dt();e.animationFrameScheduler=new r.AnimationFrameScheduler(t.AnimationFrameAction);e.animationFrame=e.animationFrameScheduler})(Pt);return Pt}var Ut={};var $t;function qt(){if($t)return Ut;$t=1;var e=Ut&&Ut.__extends||function(){var e=function(t,r){e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r))e[r]=t[r]};return e(t,r)};return function(t,r){if(typeof r!=="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");e(t,r);function n(){this.constructor=t}t.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(Ut,"__esModule",{value:true});Ut.VirtualAction=Ut.VirtualTimeScheduler=void 0;var t=rt();var r=S();var n=gt();var i=function(t){e(r,t);function r(e,r){if(e===void 0){e=u}if(r===void 0){r=Infinity}var n=t.call(this,e,(function(){return n.frame}))||this;n.maxFrames=r;n.frame=0;n.index=-1;return n}r.prototype.flush=function(){var e=this,t=e.actions,r=e.maxFrames;var n;var i;while((i=t[0])&&i.delay<=r){t.shift();this.frame=i.delay;if(n=i.execute(i.state,i.delay)){break}}if(n){while(i=t.shift()){i.unsubscribe()}throw n}};r.frameTimeFactor=10;return r}(n.AsyncScheduler);Ut.VirtualTimeScheduler=i;var u=function(t){e(n,t);function n(e,r,n){if(n===void 0){n=e.index+=1}var i=t.call(this,e,r)||this;i.scheduler=e;i.work=r;i.index=n;i.active=true;i.index=e.index=n;return i}n.prototype.schedule=function(e,i){if(i===void 0){i=0}if(Number.isFinite(i)){if(!this.id){return t.prototype.schedule.call(this,e,i)}this.active=false;var u=new n(this.scheduler,this.work);this.add(u);return u.schedule(e,i)}else{return r.Subscription.EMPTY}};n.prototype.requestAsyncId=function(e,t,r){if(r===void 0){r=0}this.delay=e.frame+r;var i=e.actions;i.push(this);i.sort(n.sortActions);return 1};n.prototype.recycleAsyncId=function(e,t,r){return undefined};n.prototype._execute=function(e,r){if(this.active===true){return t.prototype._execute.call(this,e,r)}};n.sortActions=function(e,t){if(e.delay===t.delay){if(e.index===t.index){return 0}else if(e.index>t.index){return 1}else{return-1}}else if(e.delay>t.delay){return 1}else{return-1}};return n}(t.AsyncAction);Ut.VirtualAction=u;return Ut}var Vt={};var Gt={};var Yt;function Kt(){if(Yt)return Gt;Yt=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.empty=e.EMPTY=void 0;var t=ae();e.EMPTY=new t.Observable((function(e){return e.complete()}));function r(t){return t?n(t):e.EMPTY}e.empty=r;function n(e){return new t.Observable((function(t){return e.schedule((function(){return t.complete()}))}))}})(Gt);return Gt}var Qt={};var Xt={};var Zt={};var Jt;function er(){if(Jt)return Zt;Jt=1;Object.defineProperty(Zt,"__esModule",{value:true});Zt.isScheduler=void 0;var e=g();function t(t){return t&&e.isFunction(t.schedule)}Zt.isScheduler=t;return Zt}var tr;function rr(){if(tr)return Xt;tr=1;Object.defineProperty(Xt,"__esModule",{value:true});Xt.popNumber=Xt.popScheduler=Xt.popResultSelector=void 0;var e=g();var t=er();function r(e){return e[e.length-1]}function n(t){return e.isFunction(r(t))?t.pop():undefined}Xt.popResultSelector=n;function i(e){return t.isScheduler(r(e))?e.pop():undefined}Xt.popScheduler=i;function u(e,t){return typeof r(e)==="number"?e.pop():t}Xt.popNumber=u;return Xt}var nr={};var ir={};var ur={};var ar={};var or={};var fr;function lr(){if(fr)return or;fr=1;Object.defineProperty(or,"__esModule",{value:true});or.isArrayLike=void 0;or.isArrayLike=function(e){return e&&typeof e.length==="number"&&typeof e!=="function"};return or}var cr={};var sr;function vr(){if(sr)return cr;sr=1;Object.defineProperty(cr,"__esModule",{value:true});cr.isPromise=void 0;var e=g();function t(t){return e.isFunction(t===null||t===void 0?void 0:t.then)}cr.isPromise=t;return cr}var dr={};var hr;function br(){if(hr)return dr;hr=1;Object.defineProperty(dr,"__esModule",{value:true});dr.isInteropObservable=void 0;var e=Z();var t=g();function r(r){return t.isFunction(r[e.observable])}dr.isInteropObservable=r;return dr}var mr={};var gr;function pr(){if(gr)return mr;gr=1;Object.defineProperty(mr,"__esModule",{value:true});mr.isAsyncIterable=void 0;var e=g();function t(t){return Symbol.asyncIterator&&e.isFunction(t===null||t===void 0?void 0:t[Symbol.asyncIterator])}mr.isAsyncIterable=t;return mr}var _r={};var yr;function wr(){if(yr)return _r;yr=1;Object.defineProperty(_r,"__esModule",{value:true});_r.createInvalidObservableTypeError=void 0;function e(e){return new TypeError("You provided "+(e!==null&&typeof e==="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}_r.createInvalidObservableTypeError=e;return _r}var Or={};var jr={};var Mr;function xr(){if(Mr)return jr;Mr=1;Object.defineProperty(jr,"__esModule",{value:true});jr.iterator=jr.getSymbolIterator=void 0;function e(){if(typeof Symbol!=="function"||!Symbol.iterator){return"@@iterator"}return Symbol.iterator}jr.getSymbolIterator=e;jr.iterator=e();return jr}var kr;function Ar(){if(kr)return Or;kr=1;Object.defineProperty(Or,"__esModule",{value:true});Or.isIterable=void 0;var e=xr();var t=g();function r(r){return t.isFunction(r===null||r===void 0?void 0:r[e.iterator])}Or.isIterable=r;return Or}var Er={};var Sr;function Tr(){if(Sr)return Er;Sr=1;var e=Er&&Er.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return f([e,t])}}function f(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(u=a[0]&2?i["return"]:a[0]?i["throw"]||((u=i["return"])&&u.call(i),0):i.next)&&!(u=u.call(i,a[1])).done)return u;if(i=0,u)a=[a[0]&2,u.value];switch(a[0]){case 0:case 1:u=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(u=r.trys,u=u.length>0&&u[u.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!u||a[1]>u[0]&&a[1]<u[3])){r.label=a[1];break}if(a[0]===6&&r.label<u[1]){r.label=u[1];u=a;break}if(u&&r.label<u[2]){r.label=u[2];r.ops.push(a);break}if(u[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=u=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var t=Er&&Er.__await||function(e){return this instanceof t?(this.v=e,this):new t(e)};var r=Er&&Er.__asyncGenerator||function(e,r,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(e,r||[]),u,a=[];return u={},o("next"),o("throw"),o("return"),u[Symbol.asyncIterator]=function(){return this},u;function o(e){if(i[e])u[e]=function(t){return new Promise((function(r,n){a.push([e,t,r,n])>1||f(e,t)}))}}function f(e,t){try{l(i[e](t))}catch(e){v(a[0][3],e)}}function l(e){e.value instanceof t?Promise.resolve(e.value.v).then(c,s):v(a[0][2],e)}function c(e){f("next",e)}function s(e){f("throw",e)}function v(e,t){if(e(t),a.shift(),a.length)f(a[0][0],a[0][1])}};Object.defineProperty(Er,"__esModule",{value:true});Er.isReadableStreamLike=Er.readableStreamLikeToAsyncGenerator=void 0;var n=g();function i(n){return r(this,arguments,(function r(){var i,u,a,o;return e(this,(function(e){switch(e.label){case 0:i=n.getReader();e.label=1;case 1:e.trys.push([1,,9,10]);e.label=2;case 2:return[4,t(i.read())];case 3:u=e.sent(),a=u.value,o=u.done;if(!o)return[3,5];return[4,t(void 0)];case 4:return[2,e.sent()];case 5:return[4,t(a)];case 6:return[4,e.sent()];case 7:e.sent();return[3,2];case 8:return[3,10];case 9:i.releaseLock();return[7];case 10:return[2]}}))}))}Er.readableStreamLikeToAsyncGenerator=i;function u(e){return n.isFunction(e===null||e===void 0?void 0:e.getReader)}Er.isReadableStreamLike=u;return Er}var Ir;function Cr(){if(Ir)return ar;Ir=1;var e=ar&&ar.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,u){function a(e){try{f(n.next(e))}catch(e){u(e)}}function o(e){try{f(n["throw"](e))}catch(e){u(e)}}function f(e){e.done?r(e.value):i(e.value).then(a,o)}f((n=n.apply(e,t||[])).next())}))};var t=ar&&ar.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return f([e,t])}}function f(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(u=a[0]&2?i["return"]:a[0]?i["throw"]||((u=i["return"])&&u.call(i),0):i.next)&&!(u=u.call(i,a[1])).done)return u;if(i=0,u)a=[a[0]&2,u.value];switch(a[0]){case 0:case 1:u=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(u=r.trys,u=u.length>0&&u[u.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!u||a[1]>u[0]&&a[1]<u[3])){r.label=a[1];break}if(a[0]===6&&r.label<u[1]){r.label=u[1];u=a;break}if(u&&r.label<u[2]){r.label=u[2];r.ops.push(a);break}if(u[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=u=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var r=ar&&ar.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof n==="function"?n(e):e[Symbol.iterator](),r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r);function i(t){r[t]=e[t]&&function(r){return new Promise((function(n,i){r=e[t](r),u(n,i,r.done,r.value)}))}}function u(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)}};var n=ar&&ar.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ar,"__esModule",{value:true});ar.fromReadableStreamLike=ar.fromAsyncIterable=ar.fromIterable=ar.fromPromise=ar.fromArrayLike=ar.fromInteropObservable=ar.innerFrom=void 0;var i=lr();var u=vr();var a=ae();var o=br();var f=pr();var l=wr();var c=Ar();var s=Tr();var v=g();var d=R();var h=Z();function b(e){if(e instanceof a.Observable){return e}if(e!=null){if(o.isInteropObservable(e)){return m(e)}if(i.isArrayLike(e)){return p(e)}if(u.isPromise(e)){return _(e)}if(f.isAsyncIterable(e)){return w(e)}if(c.isIterable(e)){return y(e)}if(s.isReadableStreamLike(e)){return O(e)}}throw l.createInvalidObservableTypeError(e)}ar.innerFrom=b;function m(e){return new a.Observable((function(t){var r=e[h.observable]();if(v.isFunction(r.subscribe)){return r.subscribe(t)}throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}ar.fromInteropObservable=m;function p(e){return new a.Observable((function(t){for(var r=0;r<e.length&&!t.closed;r++){t.next(e[r])}t.complete()}))}ar.fromArrayLike=p;function _(e){return new a.Observable((function(t){e.then((function(e){if(!t.closed){t.next(e);t.complete()}}),(function(e){return t.error(e)})).then(null,d.reportUnhandledError)}))}ar.fromPromise=_;function y(e){return new a.Observable((function(t){var r,i;try{for(var u=n(e),a=u.next();!a.done;a=u.next()){var o=a.value;t.next(o);if(t.closed){return}}}catch(e){r={error:e}}finally{try{if(a&&!a.done&&(i=u.return))i.call(u)}finally{if(r)throw r.error}}t.complete()}))}ar.fromIterable=y;function w(e){return new a.Observable((function(t){j(e,t).catch((function(e){return t.error(e)}))}))}ar.fromAsyncIterable=w;function O(e){return w(s.readableStreamLikeToAsyncGenerator(e))}ar.fromReadableStreamLike=O;function j(n,i){var u,a;var o,f;return e(this,void 0,void 0,(function(){var e,l;return t(this,(function(t){switch(t.label){case 0:t.trys.push([0,5,6,11]);u=r(n);t.label=1;case 1:return[4,u.next()];case 2:if(!(a=t.sent(),!a.done))return[3,4];e=a.value;i.next(e);if(i.closed){return[2]}t.label=3;case 3:return[3,1];case 4:return[3,11];case 5:l=t.sent();o={error:l};return[3,11];case 6:t.trys.push([6,,9,10]);if(!(a&&!a.done&&(f=u.return)))return[3,8];return[4,f.call(u)];case 7:t.sent();t.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:i.complete();return[2]}}))}))}return ar}var Fr={};var Pr={};var Nr;function Hr(){if(Nr)return Pr;Nr=1;Object.defineProperty(Pr,"__esModule",{value:true});Pr.executeSchedule=void 0;function e(e,t,r,n,i){if(n===void 0){n=0}if(i===void 0){i=false}var u=t.schedule((function(){r();if(i){e.add(this.schedule(null,n))}else{this.unsubscribe()}}),n);e.add(u);if(!i){return u}}Pr.executeSchedule=e;return Pr}var Lr;function Rr(){if(Lr)return Fr;Lr=1;Object.defineProperty(Fr,"__esModule",{value:true});Fr.observeOn=void 0;var e=Hr();var t=se();var r=he();function n(n,i){if(i===void 0){i=0}return t.operate((function(t,u){t.subscribe(r.createOperatorSubscriber(u,(function(t){return e.executeSchedule(u,n,(function(){return u.next(t)}),i)}),(function(){return e.executeSchedule(u,n,(function(){return u.complete()}),i)}),(function(t){return e.executeSchedule(u,n,(function(){return u.error(t)}),i)})))}))}Fr.observeOn=n;return Fr}var zr={};var Dr;function Wr(){if(Dr)return zr;Dr=1;Object.defineProperty(zr,"__esModule",{value:true});zr.subscribeOn=void 0;var e=se();function t(t,r){if(r===void 0){r=0}return e.operate((function(e,n){n.add(t.schedule((function(){return e.subscribe(n)}),r))}))}zr.subscribeOn=t;return zr}var Br;function Ur(){if(Br)return ur;Br=1;Object.defineProperty(ur,"__esModule",{value:true});ur.scheduleObservable=void 0;var e=Cr();var t=Rr();var r=Wr();function n(n,i){return e.innerFrom(n).pipe(r.subscribeOn(i),t.observeOn(i))}ur.scheduleObservable=n;return ur}var $r={};var qr;function Vr(){if(qr)return $r;qr=1;Object.defineProperty($r,"__esModule",{value:true});$r.schedulePromise=void 0;var e=Cr();var t=Rr();var r=Wr();function n(n,i){return e.innerFrom(n).pipe(r.subscribeOn(i),t.observeOn(i))}$r.schedulePromise=n;return $r}var Gr={};var Yr;function Kr(){if(Yr)return Gr;Yr=1;Object.defineProperty(Gr,"__esModule",{value:true});Gr.scheduleArray=void 0;var e=ae();function t(t,r){return new e.Observable((function(e){var n=0;return r.schedule((function(){if(n===t.length){e.complete()}else{e.next(t[n++]);if(!e.closed){this.schedule()}}}))}))}Gr.scheduleArray=t;return Gr}var Qr={};var Xr;function Zr(){if(Xr)return Qr;Xr=1;Object.defineProperty(Qr,"__esModule",{value:true});Qr.scheduleIterable=void 0;var e=ae();var t=xr();var r=g();var n=Hr();function i(i,u){return new e.Observable((function(e){var a;n.executeSchedule(e,u,(function(){a=i[t.iterator]();n.executeSchedule(e,u,(function(){var t;var r;var n;try{t=a.next(),r=t.value,n=t.done}catch(t){e.error(t);return}if(n){e.complete()}else{e.next(r)}}),0,true)}));return function(){return r.isFunction(a===null||a===void 0?void 0:a.return)&&a.return()}}))}Qr.scheduleIterable=i;return Qr}var Jr={};var en;function tn(){if(en)return Jr;en=1;Object.defineProperty(Jr,"__esModule",{value:true});Jr.scheduleAsyncIterable=void 0;var e=ae();var t=Hr();function r(r,n){if(!r){throw new Error("Iterable cannot be null")}return new e.Observable((function(e){t.executeSchedule(e,n,(function(){var i=r[Symbol.asyncIterator]();t.executeSchedule(e,n,(function(){i.next().then((function(t){if(t.done){e.complete()}else{e.next(t.value)}}))}),0,true)}))}))}Jr.scheduleAsyncIterable=r;return Jr}var rn={};var nn;function un(){if(nn)return rn;nn=1;Object.defineProperty(rn,"__esModule",{value:true});rn.scheduleReadableStreamLike=void 0;var e=tn();var t=Tr();function r(r,n){return e.scheduleAsyncIterable(t.readableStreamLikeToAsyncGenerator(r),n)}rn.scheduleReadableStreamLike=r;return rn}var an;function on(){if(an)return ir;an=1;Object.defineProperty(ir,"__esModule",{value:true});ir.scheduled=void 0;var e=Ur();var t=Vr();var r=Kr();var n=Zr();var i=tn();var u=br();var a=vr();var o=lr();var f=Ar();var l=pr();var c=wr();var s=Tr();var v=un();function d(d,h){if(d!=null){if(u.isInteropObservable(d)){return e.scheduleObservable(d,h)}if(o.isArrayLike(d)){return r.scheduleArray(d,h)}if(a.isPromise(d)){return t.schedulePromise(d,h)}if(l.isAsyncIterable(d)){return i.scheduleAsyncIterable(d,h)}if(f.isIterable(d)){return n.scheduleIterable(d,h)}if(s.isReadableStreamLike(d)){return v.scheduleReadableStreamLike(d,h)}}throw c.createInvalidObservableTypeError(d)}ir.scheduled=d;return ir}var fn;function ln(){if(fn)return nr;fn=1;Object.defineProperty(nr,"__esModule",{value:true});nr.from=void 0;var e=on();var t=Cr();function r(r,n){return n?e.scheduled(r,n):t.innerFrom(r)}nr.from=r;return nr}var cn;function sn(){if(cn)return Qt;cn=1;Object.defineProperty(Qt,"__esModule",{value:true});Qt.of=void 0;var e=rr();var t=ln();function r(){var r=[];for(var n=0;n<arguments.length;n++){r[n]=arguments[n]}var i=e.popScheduler(r);return t.from(r,i)}Qt.of=r;return Qt}var vn={};var dn;function hn(){if(dn)return vn;dn=1;Object.defineProperty(vn,"__esModule",{value:true});vn.throwError=void 0;var e=ae();var t=g();function r(r,n){var i=t.isFunction(r)?r:function(){return r};var u=function(e){return e.error(i())};return new e.Observable(n?function(e){return n.schedule(u,0,e)}:u)}vn.throwError=r;return vn}var bn;function mn(){if(bn)return Vt;bn=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.observeNotification=e.Notification=e.NotificationKind=void 0;var t=Kt();var r=sn();var n=hn();var i=g();(function(e){e["NEXT"]="N";e["ERROR"]="E";e["COMPLETE"]="C"})(e.NotificationKind||(e.NotificationKind={}));var u=function(){function e(e,t,r){this.kind=e;this.value=t;this.error=r;this.hasValue=e==="N"}e.prototype.observe=function(e){return a(this,e)};e.prototype.do=function(e,t,r){var n=this,i=n.kind,u=n.value,a=n.error;return i==="N"?e===null||e===void 0?void 0:e(u):i==="E"?t===null||t===void 0?void 0:t(a):r===null||r===void 0?void 0:r()};e.prototype.accept=function(e,t,r){var n;return i.isFunction((n=e)===null||n===void 0?void 0:n.next)?this.observe(e):this.do(e,t,r)};e.prototype.toObservable=function(){var e=this,i=e.kind,u=e.value,a=e.error;var o=i==="N"?r.of(u):i==="E"?n.throwError((function(){return a})):i==="C"?t.EMPTY:0;if(!o){throw new TypeError("Unexpected notification kind "+i)}return o};e.createNext=function(t){return new e("N",t)};e.createError=function(t){return new e("E",undefined,t)};e.createComplete=function(){return e.completeNotification};e.completeNotification=new e("C");return e}();e.Notification=u;function a(e,t){var r,n,i;var u=e,a=u.kind,o=u.value,f=u.error;if(typeof a!=="string"){throw new TypeError('Invalid notification, missing "kind"')}a==="N"?(r=t.next)===null||r===void 0?void 0:r.call(t,o):a==="E"?(n=t.error)===null||n===void 0?void 0:n.call(t,f):(i=t.complete)===null||i===void 0?void 0:i.call(t)}e.observeNotification=a})(Vt);return Vt}var gn={};var pn;function _n(){if(pn)return gn;pn=1;Object.defineProperty(gn,"__esModule",{value:true});gn.isObservable=void 0;var e=ae();var t=g();function r(r){return!!r&&(r instanceof e.Observable||t.isFunction(r.lift)&&t.isFunction(r.subscribe))}gn.isObservable=r;return gn}var yn={};var wn={};var On;function jn(){if(On)return wn;On=1;Object.defineProperty(wn,"__esModule",{value:true});wn.EmptyError=void 0;var e=O();wn.EmptyError=e.createErrorClass((function(e){return function t(){e(this);this.name="EmptyError";this.message="no elements in sequence"}}));return wn}var Mn;function xn(){if(Mn)return yn;Mn=1;Object.defineProperty(yn,"__esModule",{value:true});yn.lastValueFrom=void 0;var e=jn();function t(t,r){var n=typeof r==="object";return new Promise((function(i,u){var a=false;var o;t.subscribe({next:function(e){o=e;a=true},error:u,complete:function(){if(a){i(o)}else if(n){i(r.defaultValue)}else{u(new e.EmptyError)}}})}))}yn.lastValueFrom=t;return yn}var kn={};var An;function En(){if(An)return kn;An=1;Object.defineProperty(kn,"__esModule",{value:true});kn.firstValueFrom=void 0;var e=jn();var t=K();function r(r,n){var i=typeof n==="object";return new Promise((function(u,a){var o=new t.SafeSubscriber({next:function(e){u(e);o.unsubscribe()},error:a,complete:function(){if(i){u(n.defaultValue)}else{a(new e.EmptyError)}}});r.subscribe(o)}))}kn.firstValueFrom=r;return kn}var Sn={};var Tn;function In(){if(Tn)return Sn;Tn=1;Object.defineProperty(Sn,"__esModule",{value:true});Sn.ArgumentOutOfRangeError=void 0;var e=O();Sn.ArgumentOutOfRangeError=e.createErrorClass((function(e){return function t(){e(this);this.name="ArgumentOutOfRangeError";this.message="argument out of range"}}));return Sn}var Cn={};var Fn;function Pn(){if(Fn)return Cn;Fn=1;Object.defineProperty(Cn,"__esModule",{value:true});Cn.NotFoundError=void 0;var e=O();Cn.NotFoundError=e.createErrorClass((function(e){return function t(r){e(this);this.name="NotFoundError";this.message=r}}));return Cn}var Nn={};var Hn;function Ln(){if(Hn)return Nn;Hn=1;Object.defineProperty(Nn,"__esModule",{value:true});Nn.SequenceError=void 0;var e=O();Nn.SequenceError=e.createErrorClass((function(e){return function t(r){e(this);this.name="SequenceError";this.message=r}}));return Nn}var Rn={};var zn={};var Dn;function Wn(){if(Dn)return zn;Dn=1;Object.defineProperty(zn,"__esModule",{value:true});zn.isValidDate=void 0;function e(e){return e instanceof Date&&!isNaN(e)}zn.isValidDate=e;return zn}var Bn;function Un(){if(Bn)return Rn;Bn=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.timeout=e.TimeoutError=void 0;var t=Mt();var r=Wn();var n=se();var i=Cr();var u=O();var a=he();var o=Hr();e.TimeoutError=u.createErrorClass((function(e){return function t(r){if(r===void 0){r=null}e(this);this.message="Timeout has occurred";this.name="TimeoutError";this.info=r}}));function f(e,u){var f=r.isValidDate(e)?{first:e}:typeof e==="number"?{each:e}:e,c=f.first,s=f.each,v=f.with,d=v===void 0?l:v,h=f.scheduler,b=h===void 0?u!==null&&u!==void 0?u:t.asyncScheduler:h,m=f.meta,g=m===void 0?null:m;if(c==null&&s==null){throw new TypeError("No timeout provided.")}return n.operate((function(e,t){var r;var n;var u=null;var f=0;var l=function(e){n=o.executeSchedule(t,b,(function(){try{r.unsubscribe();i.innerFrom(d({meta:g,lastValue:u,seen:f})).subscribe(t)}catch(e){t.error(e)}}),e)};r=e.subscribe(a.createOperatorSubscriber(t,(function(e){n===null||n===void 0?void 0:n.unsubscribe();f++;t.next(u=e);s>0&&l(s)}),undefined,undefined,(function(){if(!(n===null||n===void 0?void 0:n.closed)){n===null||n===void 0?void 0:n.unsubscribe()}u=null})));!f&&l(c!=null?typeof c==="number"?c:+c-b.now():s)}))}e.timeout=f;function l(t){throw new e.TimeoutError(t)}})(Rn);return Rn}var $n={};var qn={};var Vn={};var Gn={};var Yn;function Kn(){if(Yn)return Gn;Yn=1;Object.defineProperty(Gn,"__esModule",{value:true});Gn.map=void 0;var e=se();var t=he();function r(r,n){return e.operate((function(e,i){var u=0;e.subscribe(t.createOperatorSubscriber(i,(function(e){i.next(r.call(n,e,u++))})))}))}Gn.map=r;return Gn}var Qn;function Xn(){if(Qn)return Vn;Qn=1;var e=Vn&&Vn.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Vn&&Vn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Vn,"__esModule",{value:true});Vn.mapOneOrManyArgs=void 0;var r=Kn();var n=Array.isArray;function i(r,i){return n(i)?r.apply(void 0,t([],e(i))):r(i)}function u(e){return r.map((function(t){return i(e,t)}))}Vn.mapOneOrManyArgs=u;return Vn}var Zn;function Jn(){if(Zn)return qn;Zn=1;var e=qn&&qn.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=qn&&qn.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(qn,"__esModule",{value:true});qn.bindCallbackInternals=void 0;var r=er();var n=ae();var i=Wr();var u=Xn();var a=Rr();var o=qe();function f(l,c,s,v){if(s){if(r.isScheduler(s)){v=s}else{return function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return f(l,c,v).apply(this,e).pipe(u.mapOneOrManyArgs(s))}}}if(v){return function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}return f(l,c).apply(this,e).pipe(i.subscribeOn(v),a.observeOn(v))}}return function(){var r=this;var i=[];for(var u=0;u<arguments.length;u++){i[u]=arguments[u]}var a=new o.AsyncSubject;var f=true;return new n.Observable((function(n){var u=a.subscribe(n);if(f){f=false;var o=false;var s=false;c.apply(r,t(t([],e(i)),[function(){var e=[];for(var t=0;t<arguments.length;t++){e[t]=arguments[t]}if(l){var r=e.shift();if(r!=null){a.error(r);return}}a.next(1<e.length?e:e[0]);s=true;if(o){a.complete()}}]));if(s){a.complete()}o=true}return u}))}}qn.bindCallbackInternals=f;return qn}var ei;function ti(){if(ei)return $n;ei=1;Object.defineProperty($n,"__esModule",{value:true});$n.bindCallback=void 0;var e=Jn();function t(t,r,n){return e.bindCallbackInternals(false,t,r,n)}$n.bindCallback=t;return $n}var ri={};var ni;function ii(){if(ni)return ri;ni=1;Object.defineProperty(ri,"__esModule",{value:true});ri.bindNodeCallback=void 0;var e=Jn();function t(t,r,n){return e.bindCallbackInternals(true,t,r,n)}ri.bindNodeCallback=t;return ri}var ui={};var ai={};var oi;function fi(){if(oi)return ai;oi=1;Object.defineProperty(ai,"__esModule",{value:true});ai.argsArgArrayOrObject=void 0;var e=Array.isArray;var t=Object.getPrototypeOf,r=Object.prototype,n=Object.keys;function i(t){if(t.length===1){var r=t[0];if(e(r)){return{args:r,keys:null}}if(u(r)){var i=n(r);return{args:i.map((function(e){return r[e]})),keys:i}}}return{args:t,keys:null}}ai.argsArgArrayOrObject=i;function u(e){return e&&typeof e==="object"&&t(e)===r}return ai}var li={};var ci;function si(){if(ci)return li;ci=1;Object.defineProperty(li,"__esModule",{value:true});li.createObject=void 0;function e(e,t){return e.reduce((function(e,r,n){return e[r]=t[n],e}),{})}li.createObject=e;return li}var vi;function di(){if(vi)return ui;vi=1;Object.defineProperty(ui,"__esModule",{value:true});ui.combineLatestInit=ui.combineLatest=void 0;var e=ae();var t=fi();var r=ln();var n=re();var i=Xn();var u=rr();var a=si();var o=he();var f=Hr();function l(){var o=[];for(var f=0;f<arguments.length;f++){o[f]=arguments[f]}var l=u.popScheduler(o);var s=u.popResultSelector(o);var v=t.argsArgArrayOrObject(o),d=v.args,h=v.keys;if(d.length===0){return r.from([],l)}var b=new e.Observable(c(d,l,h?function(e){return a.createObject(h,e)}:n.identity));return s?b.pipe(i.mapOneOrManyArgs(s)):b}ui.combineLatest=l;function c(e,t,i){if(i===void 0){i=n.identity}return function(n){s(t,(function(){var u=e.length;var a=new Array(u);var f=u;var l=u;var c=function(u){s(t,(function(){var c=r.from(e[u],t);var s=false;c.subscribe(o.createOperatorSubscriber(n,(function(e){a[u]=e;if(!s){s=true;l--}if(!l){n.next(i(a.slice()))}}),(function(){if(! --f){n.complete()}})))}),n)};for(var v=0;v<u;v++){c(v)}}),n)}}ui.combineLatestInit=c;function s(e,t,r){if(e){f.executeSchedule(r,e,t)}else{t()}}return ui}var hi={};var bi={};var mi={};var gi={};var pi={};var _i;function yi(){if(_i)return pi;_i=1;Object.defineProperty(pi,"__esModule",{value:true});pi.mergeInternals=void 0;var e=Cr();var t=Hr();var r=he();function n(n,i,u,a,o,f,l,c){var s=[];var v=0;var d=0;var h=false;var b=function(){if(h&&!s.length&&!v){i.complete()}};var m=function(e){return v<a?g(e):s.push(e)};var g=function(n){f&&i.next(n);v++;var c=false;e.innerFrom(u(n,d++)).subscribe(r.createOperatorSubscriber(i,(function(e){o===null||o===void 0?void 0:o(e);if(f){m(e)}else{i.next(e)}}),(function(){c=true}),undefined,(function(){if(c){try{v--;var e=function(){var e=s.shift();if(l){t.executeSchedule(i,l,(function(){return g(e)}))}else{g(e)}};while(s.length&&v<a){e()}b()}catch(e){i.error(e)}}})))};n.subscribe(r.createOperatorSubscriber(i,m,(function(){h=true;b()})));return function(){c===null||c===void 0?void 0:c()}}pi.mergeInternals=n;return pi}var wi;function Oi(){if(wi)return gi;wi=1;Object.defineProperty(gi,"__esModule",{value:true});gi.mergeMap=void 0;var e=Kn();var t=Cr();var r=se();var n=yi();var i=g();function u(a,o,f){if(f===void 0){f=Infinity}if(i.isFunction(o)){return u((function(r,n){return e.map((function(e,t){return o(r,e,n,t)}))(t.innerFrom(a(r,n)))}),f)}else if(typeof o==="number"){f=o}return r.operate((function(e,t){return n.mergeInternals(e,t,a,f)}))}gi.mergeMap=u;return gi}var ji;function Mi(){if(ji)return mi;ji=1;Object.defineProperty(mi,"__esModule",{value:true});mi.mergeAll=void 0;var e=Oi();var t=re();function r(r){if(r===void 0){r=Infinity}return e.mergeMap(t.identity,r)}mi.mergeAll=r;return mi}var xi;function ki(){if(xi)return bi;xi=1;Object.defineProperty(bi,"__esModule",{value:true});bi.concatAll=void 0;var e=Mi();function t(){return e.mergeAll(1)}bi.concatAll=t;return bi}var Ai;function Ei(){if(Ai)return hi;Ai=1;Object.defineProperty(hi,"__esModule",{value:true});hi.concat=void 0;var e=ki();var t=rr();var r=ln();function n(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}return e.concatAll()(r.from(n,t.popScheduler(n)))}hi.concat=n;return hi}var Si={};var Ti={};var Ii;function Ci(){if(Ii)return Ti;Ii=1;Object.defineProperty(Ti,"__esModule",{value:true});Ti.defer=void 0;var e=ae();var t=Cr();function r(r){return new e.Observable((function(e){t.innerFrom(r()).subscribe(e)}))}Ti.defer=r;return Ti}var Fi;function Pi(){if(Fi)return Si;Fi=1;Object.defineProperty(Si,"__esModule",{value:true});Si.connectable=void 0;var e=Fe();var t=ae();var r=Ci();var n={connector:function(){return new e.Subject},resetOnDisconnect:true};function i(e,i){if(i===void 0){i=n}var u=null;var a=i.connector,o=i.resetOnDisconnect,f=o===void 0?true:o;var l=a();var c=new t.Observable((function(e){return l.subscribe(e)}));c.connect=function(){if(!u||u.closed){u=r.defer((function(){return e})).subscribe(l);if(f){u.add((function(){return l=a()}))}}return u};return c}Si.connectable=i;return Si}var Ni={};var Hi;function Li(){if(Hi)return Ni;Hi=1;Object.defineProperty(Ni,"__esModule",{value:true});Ni.forkJoin=void 0;var e=ae();var t=fi();var r=Cr();var n=rr();var i=he();var u=Xn();var a=si();function o(){var o=[];for(var f=0;f<arguments.length;f++){o[f]=arguments[f]}var l=n.popResultSelector(o);var c=t.argsArgArrayOrObject(o),s=c.args,v=c.keys;var d=new e.Observable((function(e){var t=s.length;if(!t){e.complete();return}var n=new Array(t);var u=t;var o=t;var f=function(t){var f=false;r.innerFrom(s[t]).subscribe(i.createOperatorSubscriber(e,(function(e){if(!f){f=true;o--}n[t]=e}),(function(){return u--}),undefined,(function(){if(!u||!f){if(!o){e.next(v?a.createObject(v,n):n)}e.complete()}})))};for(var l=0;l<t;l++){f(l)}}));return l?d.pipe(u.mapOneOrManyArgs(l)):d}Ni.forkJoin=o;return Ni}var Ri={};var zi;function Di(){if(zi)return Ri;zi=1;var e=Ri&&Ri.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};Object.defineProperty(Ri,"__esModule",{value:true});Ri.fromEvent=void 0;var t=Cr();var r=ae();var n=Oi();var i=lr();var u=g();var a=Xn();var o=["addListener","removeListener"];var f=["addEventListener","removeEventListener"];var l=["on","off"];function c(b,m,g,p){if(u.isFunction(g)){p=g;g=undefined}if(p){return c(b,m,g).pipe(a.mapOneOrManyArgs(p))}var _=e(h(b)?f.map((function(e){return function(t){return b[e](m,t,g)}})):v(b)?o.map(s(b,m)):d(b)?l.map(s(b,m)):[],2),y=_[0],w=_[1];if(!y){if(i.isArrayLike(b)){return n.mergeMap((function(e){return c(e,m,g)}))(t.innerFrom(b))}}if(!y){throw new TypeError("Invalid event target")}return new r.Observable((function(e){var t=function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}return e.next(1<t.length?t:t[0])};y(t);return function(){return w(t)}}))}Ri.fromEvent=c;function s(e,t){return function(r){return function(n){return e[r](t,n)}}}function v(e){return u.isFunction(e.addListener)&&u.isFunction(e.removeListener)}function d(e){return u.isFunction(e.on)&&u.isFunction(e.off)}function h(e){return u.isFunction(e.addEventListener)&&u.isFunction(e.removeEventListener)}return Ri}var Wi={};var Bi;function Ui(){if(Bi)return Wi;Bi=1;Object.defineProperty(Wi,"__esModule",{value:true});Wi.fromEventPattern=void 0;var e=ae();var t=g();var r=Xn();function n(i,u,a){if(a){return n(i,u).pipe(r.mapOneOrManyArgs(a))}return new e.Observable((function(e){var r=function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}return e.next(t.length===1?t[0]:t)};var n=i(r);return t.isFunction(u)?function(){return u(r,n)}:undefined}))}Wi.fromEventPattern=n;return Wi}var $i={};var qi;function Vi(){if(qi)return $i;qi=1;var e=$i&&$i.__generator||function(e,t){var r={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},n,i,u,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return f([e,t])}}function f(a){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(u=a[0]&2?i["return"]:a[0]?i["throw"]||((u=i["return"])&&u.call(i),0):i.next)&&!(u=u.call(i,a[1])).done)return u;if(i=0,u)a=[a[0]&2,u.value];switch(a[0]){case 0:case 1:u=a;break;case 4:r.label++;return{value:a[1],done:false};case 5:r.label++;i=a[1];a=[0];continue;case 7:a=r.ops.pop();r.trys.pop();continue;default:if(!(u=r.trys,u=u.length>0&&u[u.length-1])&&(a[0]===6||a[0]===2)){r=0;continue}if(a[0]===3&&(!u||a[1]>u[0]&&a[1]<u[3])){r.label=a[1];break}if(a[0]===6&&r.label<u[1]){r.label=u[1];u=a;break}if(u&&r.label<u[2]){r.label=u[2];r.ops.push(a);break}if(u[2])r.ops.pop();r.trys.pop();continue}a=t.call(e,r)}catch(e){a=[6,e];i=0}finally{n=u=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};Object.defineProperty($i,"__esModule",{value:true});$i.generate=void 0;var t=re();var r=er();var n=Ci();var i=Zr();function u(u,a,o,f,l){var c,s;var v;var d;if(arguments.length===1){c=u,d=c.initialState,a=c.condition,o=c.iterate,s=c.resultSelector,v=s===void 0?t.identity:s,l=c.scheduler}else{d=u;if(!f||r.isScheduler(f)){v=t.identity;l=f}else{v=f}}function h(){var t;return e(this,(function(e){switch(e.label){case 0:t=d;e.label=1;case 1:if(!(!a||a(t)))return[3,4];return[4,v(t)];case 2:e.sent();e.label=3;case 3:t=o(t);return[3,1];case 4:return[2]}}))}return n.defer(l?function(){return i.scheduleIterable(h(),l)}:h)}$i.generate=u;return $i}var Gi={};var Yi;function Ki(){if(Yi)return Gi;Yi=1;Object.defineProperty(Gi,"__esModule",{value:true});Gi.iif=void 0;var e=Ci();function t(t,r,n){return e.defer((function(){return t()?r:n}))}Gi.iif=t;return Gi}var Qi={};var Xi={};var Zi;function Ji(){if(Zi)return Xi;Zi=1;Object.defineProperty(Xi,"__esModule",{value:true});Xi.timer=void 0;var e=ae();var t=Mt();var r=er();var n=Wn();function i(i,u,a){if(i===void 0){i=0}if(a===void 0){a=t.async}var o=-1;if(u!=null){if(r.isScheduler(u)){a=u}else{o=u}}return new e.Observable((function(e){var t=n.isValidDate(i)?+i-a.now():i;if(t<0){t=0}var r=0;return a.schedule((function(){if(!e.closed){e.next(r++);if(0<=o){this.schedule(undefined,o)}else{e.complete()}}}),t)}))}Xi.timer=i;return Xi}var eu;function tu(){if(eu)return Qi;eu=1;Object.defineProperty(Qi,"__esModule",{value:true});Qi.interval=void 0;var e=Mt();var t=Ji();function r(r,n){if(r===void 0){r=0}if(n===void 0){n=e.asyncScheduler}if(r<0){r=0}return t.timer(r,r,n)}Qi.interval=r;return Qi}var ru={};var nu;function iu(){if(nu)return ru;nu=1;Object.defineProperty(ru,"__esModule",{value:true});ru.merge=void 0;var e=Mi();var t=Cr();var r=Kt();var n=rr();var i=ln();function u(){var u=[];for(var a=0;a<arguments.length;a++){u[a]=arguments[a]}var o=n.popScheduler(u);var f=n.popNumber(u,Infinity);var l=u;return!l.length?r.EMPTY:l.length===1?t.innerFrom(l[0]):e.mergeAll(f)(i.from(l,o))}ru.merge=u;return ru}var uu={};var au;function ou(){if(au)return uu;au=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.never=e.NEVER=void 0;var t=ae();var r=W();e.NEVER=new t.Observable(r.noop);function n(){return e.NEVER}e.never=n})(uu);return uu}var fu={};var lu={};var cu;function su(){if(cu)return lu;cu=1;Object.defineProperty(lu,"__esModule",{value:true});lu.argsOrArgArray=void 0;var e=Array.isArray;function t(t){return t.length===1&&e(t[0])?t[0]:t}lu.argsOrArgArray=t;return lu}var vu;function du(){if(vu)return fu;vu=1;Object.defineProperty(fu,"__esModule",{value:true});fu.onErrorResumeNext=void 0;var e=ae();var t=su();var r=he();var n=W();var i=Cr();function u(){var u=[];for(var a=0;a<arguments.length;a++){u[a]=arguments[a]}var o=t.argsOrArgArray(u);return new e.Observable((function(e){var t=0;var u=function(){if(t<o.length){var a=void 0;try{a=i.innerFrom(o[t++])}catch(e){u();return}var f=new r.OperatorSubscriber(e,undefined,n.noop,n.noop);a.subscribe(f);f.add(u)}else{e.complete()}};u()}))}fu.onErrorResumeNext=u;return fu}var hu={};var bu;function mu(){if(bu)return hu;bu=1;Object.defineProperty(hu,"__esModule",{value:true});hu.pairs=void 0;var e=ln();function t(t,r){return e.from(Object.entries(t),r)}hu.pairs=t;return hu}var gu={};var pu={};var _u;function yu(){if(_u)return pu;_u=1;Object.defineProperty(pu,"__esModule",{value:true});pu.not=void 0;function e(e,t){return function(r,n){return!e.call(t,r,n)}}pu.not=e;return pu}var wu={};var Ou;function ju(){if(Ou)return wu;Ou=1;Object.defineProperty(wu,"__esModule",{value:true});wu.filter=void 0;var e=se();var t=he();function r(r,n){return e.operate((function(e,i){var u=0;e.subscribe(t.createOperatorSubscriber(i,(function(e){return r.call(n,e,u++)&&i.next(e)})))}))}wu.filter=r;return wu}var Mu;function xu(){if(Mu)return gu;Mu=1;Object.defineProperty(gu,"__esModule",{value:true});gu.partition=void 0;var e=yu();var t=ju();var r=Cr();function n(n,i,u){return[t.filter(i,u)(r.innerFrom(n)),t.filter(e.not(i,u))(r.innerFrom(n))]}gu.partition=n;return gu}var ku={};var Au;function Eu(){if(Au)return ku;Au=1;Object.defineProperty(ku,"__esModule",{value:true});ku.raceInit=ku.race=void 0;var e=ae();var t=Cr();var r=su();var n=he();function i(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}n=r.argsOrArgArray(n);return n.length===1?t.innerFrom(n[0]):new e.Observable(u(n))}ku.race=i;function u(e){return function(r){var i=[];var u=function(u){i.push(t.innerFrom(e[u]).subscribe(n.createOperatorSubscriber(r,(function(e){if(i){for(var t=0;t<i.length;t++){t!==u&&i[t].unsubscribe()}i=null}r.next(e)}))))};for(var a=0;i&&!r.closed&&a<e.length;a++){u(a)}}}ku.raceInit=u;return ku}var Su={};var Tu;function Iu(){if(Tu)return Su;Tu=1;Object.defineProperty(Su,"__esModule",{value:true});Su.range=void 0;var e=ae();var t=Kt();function r(r,n,i){if(n==null){n=r;r=0}if(n<=0){return t.EMPTY}var u=n+r;return new e.Observable(i?function(e){var t=r;return i.schedule((function(){if(t<u){e.next(t++);this.schedule()}else{e.complete()}}))}:function(e){var t=r;while(t<u&&!e.closed){e.next(t++)}e.complete()})}Su.range=r;return Su}var Cu={};var Fu;function Pu(){if(Fu)return Cu;Fu=1;Object.defineProperty(Cu,"__esModule",{value:true});Cu.using=void 0;var e=ae();var t=Cr();var r=Kt();function n(n,i){return new e.Observable((function(e){var u=n();var a=i(u);var o=a?t.innerFrom(a):r.EMPTY;o.subscribe(e);return function(){if(u){u.unsubscribe()}}}))}Cu.using=n;return Cu}var Nu={};var Hu;function Lu(){if(Hu)return Nu;Hu=1;var e=Nu&&Nu.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Nu&&Nu.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Nu,"__esModule",{value:true});Nu.zip=void 0;var r=ae();var n=Cr();var i=su();var u=Kt();var a=he();var o=rr();function f(){var f=[];for(var l=0;l<arguments.length;l++){f[l]=arguments[l]}var c=o.popResultSelector(f);var s=i.argsOrArgArray(f);return s.length?new r.Observable((function(r){var i=s.map((function(){return[]}));var u=s.map((function(){return false}));r.add((function(){i=u=null}));var o=function(o){n.innerFrom(s[o]).subscribe(a.createOperatorSubscriber(r,(function(n){i[o].push(n);if(i.every((function(e){return e.length}))){var a=i.map((function(e){return e.shift()}));r.next(c?c.apply(void 0,t([],e(a))):a);if(i.some((function(e,t){return!e.length&&u[t]}))){r.complete()}}}),(function(){u[o]=true;!i[o].length&&r.complete()})))};for(var f=0;!r.closed&&f<s.length;f++){o(f)}return function(){i=u=null}})):u.EMPTY}Nu.zip=f;return Nu}var Ru={};var zu;function Du(){if(zu)return Ru;zu=1;Object.defineProperty(Ru,"__esModule",{value:true});return Ru}var Wu={};var Bu;function Uu(){if(Bu)return Wu;Bu=1;Object.defineProperty(Wu,"__esModule",{value:true});Wu.audit=void 0;var e=se();var t=Cr();var r=he();function n(n){return e.operate((function(e,i){var u=false;var a=null;var o=null;var f=false;var l=function(){o===null||o===void 0?void 0:o.unsubscribe();o=null;if(u){u=false;var e=a;a=null;i.next(e)}f&&i.complete()};var c=function(){o=null;f&&i.complete()};e.subscribe(r.createOperatorSubscriber(i,(function(e){u=true;a=e;if(!o){t.innerFrom(n(e)).subscribe(o=r.createOperatorSubscriber(i,l,c))}}),(function(){f=true;(!u||!o||o.closed)&&i.complete()})))}))}Wu.audit=n;return Wu}var $u={};var qu;function Vu(){if(qu)return $u;qu=1;Object.defineProperty($u,"__esModule",{value:true});$u.auditTime=void 0;var e=Mt();var t=Uu();var r=Ji();function n(n,i){if(i===void 0){i=e.asyncScheduler}return t.audit((function(){return r.timer(n,i)}))}$u.auditTime=n;return $u}var Gu={};var Yu;function Ku(){if(Yu)return Gu;Yu=1;Object.defineProperty(Gu,"__esModule",{value:true});Gu.buffer=void 0;var e=se();var t=W();var r=he();var n=Cr();function i(i){return e.operate((function(e,u){var a=[];e.subscribe(r.createOperatorSubscriber(u,(function(e){return a.push(e)}),(function(){u.next(a);u.complete()})));n.innerFrom(i).subscribe(r.createOperatorSubscriber(u,(function(){var e=a;a=[];u.next(e)}),t.noop));return function(){a=null}}))}Gu.buffer=i;return Gu}var Qu={};var Xu;function Zu(){if(Xu)return Qu;Xu=1;var e=Qu&&Qu.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Qu,"__esModule",{value:true});Qu.bufferCount=void 0;var t=se();var r=he();var n=A();function i(i,u){if(u===void 0){u=null}u=u!==null&&u!==void 0?u:i;return t.operate((function(t,a){var o=[];var f=0;t.subscribe(r.createOperatorSubscriber(a,(function(t){var r,l,c,s;var v=null;if(f++%u===0){o.push([])}try{for(var d=e(o),h=d.next();!h.done;h=d.next()){var b=h.value;b.push(t);if(i<=b.length){v=v!==null&&v!==void 0?v:[];v.push(b)}}}catch(e){r={error:e}}finally{try{if(h&&!h.done&&(l=d.return))l.call(d)}finally{if(r)throw r.error}}if(v){try{for(var m=e(v),g=m.next();!g.done;g=m.next()){var b=g.value;n.arrRemove(o,b);a.next(b)}}catch(e){c={error:e}}finally{try{if(g&&!g.done&&(s=m.return))s.call(m)}finally{if(c)throw c.error}}}}),(function(){var t,r;try{for(var n=e(o),i=n.next();!i.done;i=n.next()){var u=i.value;a.next(u)}}catch(e){t={error:e}}finally{try{if(i&&!i.done&&(r=n.return))r.call(n)}finally{if(t)throw t.error}}a.complete()}),undefined,(function(){o=null})))}))}Qu.bufferCount=i;return Qu}var Ju={};var ea;function ta(){if(ea)return Ju;ea=1;var e=Ju&&Ju.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Ju,"__esModule",{value:true});Ju.bufferTime=void 0;var t=S();var r=se();var n=he();var i=A();var u=Mt();var a=rr();var o=Hr();function f(f){var l,c;var s=[];for(var v=1;v<arguments.length;v++){s[v-1]=arguments[v]}var d=(l=a.popScheduler(s))!==null&&l!==void 0?l:u.asyncScheduler;var h=(c=s[0])!==null&&c!==void 0?c:null;var b=s[1]||Infinity;return r.operate((function(r,u){var a=[];var l=false;var c=function(e){var t=e.buffer,r=e.subs;r.unsubscribe();i.arrRemove(a,e);u.next(t);l&&s()};var s=function(){if(a){var e=new t.Subscription;u.add(e);var r=[];var n={buffer:r,subs:e};a.push(n);o.executeSchedule(e,d,(function(){return c(n)}),f)}};if(h!==null&&h>=0){o.executeSchedule(u,d,s,h,true)}else{l=true}s();var v=n.createOperatorSubscriber(u,(function(t){var r,n;var i=a.slice();try{for(var u=e(i),o=u.next();!o.done;o=u.next()){var f=o.value;var l=f.buffer;l.push(t);b<=l.length&&c(f)}}catch(e){r={error:e}}finally{try{if(o&&!o.done&&(n=u.return))n.call(u)}finally{if(r)throw r.error}}}),(function(){while(a===null||a===void 0?void 0:a.length){u.next(a.shift().buffer)}v===null||v===void 0?void 0:v.unsubscribe();u.complete();u.unsubscribe()}),undefined,(function(){return a=null}));r.subscribe(v)}))}Ju.bufferTime=f;return Ju}var ra={};var na;function ia(){if(na)return ra;na=1;var e=ra&&ra.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ra,"__esModule",{value:true});ra.bufferToggle=void 0;var t=S();var r=se();var n=Cr();var i=he();var u=W();var a=A();function o(o,f){return r.operate((function(r,l){var c=[];n.innerFrom(o).subscribe(i.createOperatorSubscriber(l,(function(e){var r=[];c.push(r);var o=new t.Subscription;var s=function(){a.arrRemove(c,r);l.next(r);o.unsubscribe()};o.add(n.innerFrom(f(e)).subscribe(i.createOperatorSubscriber(l,s,u.noop)))}),u.noop));r.subscribe(i.createOperatorSubscriber(l,(function(t){var r,n;try{for(var i=e(c),u=i.next();!u.done;u=i.next()){var a=u.value;a.push(t)}}catch(e){r={error:e}}finally{try{if(u&&!u.done&&(n=i.return))n.call(i)}finally{if(r)throw r.error}}}),(function(){while(c.length>0){l.next(c.shift())}l.complete()})))}))}ra.bufferToggle=o;return ra}var ua={};var aa;function oa(){if(aa)return ua;aa=1;Object.defineProperty(ua,"__esModule",{value:true});ua.bufferWhen=void 0;var e=se();var t=W();var r=he();var n=Cr();function i(i){return e.operate((function(e,u){var a=null;var o=null;var f=function(){o===null||o===void 0?void 0:o.unsubscribe();var e=a;a=[];e&&u.next(e);n.innerFrom(i()).subscribe(o=r.createOperatorSubscriber(u,f,t.noop))};f();e.subscribe(r.createOperatorSubscriber(u,(function(e){return a===null||a===void 0?void 0:a.push(e)}),(function(){a&&u.next(a);u.complete()}),undefined,(function(){return a=o=null})))}))}ua.bufferWhen=i;return ua}var fa={};var la;function ca(){if(la)return fa;la=1;Object.defineProperty(fa,"__esModule",{value:true});fa.catchError=void 0;var e=Cr();var t=he();var r=se();function n(i){return r.operate((function(r,u){var a=null;var o=false;var f;a=r.subscribe(t.createOperatorSubscriber(u,undefined,undefined,(function(t){f=e.innerFrom(i(t,n(i)(r)));if(a){a.unsubscribe();a=null;f.subscribe(u)}else{o=true}})));if(o){a.unsubscribe();a=null;f.subscribe(u)}}))}fa.catchError=n;return fa}var sa={};var va={};var da={};var ha={};var ba={};var ma={};var ga;function pa(){if(ga)return ma;ga=1;Object.defineProperty(ma,"__esModule",{value:true});ma.scanInternals=void 0;var e=he();function t(t,r,n,i,u){return function(a,o){var f=n;var l=r;var c=0;a.subscribe(e.createOperatorSubscriber(o,(function(e){var r=c++;l=f?t(l,e,r):(f=true,e);i&&o.next(l)}),u&&function(){f&&o.next(l);o.complete()}))}}ma.scanInternals=t;return ma}var _a;function ya(){if(_a)return ba;_a=1;Object.defineProperty(ba,"__esModule",{value:true});ba.reduce=void 0;var e=pa();var t=se();function r(r,n){return t.operate(e.scanInternals(r,n,arguments.length>=2,false,true))}ba.reduce=r;return ba}var wa;function Oa(){if(wa)return ha;wa=1;Object.defineProperty(ha,"__esModule",{value:true});ha.toArray=void 0;var e=ya();var t=se();var r=function(e,t){return e.push(t),e};function n(){return t.operate((function(t,n){e.reduce(r,[])(t).subscribe(n)}))}ha.toArray=n;return ha}var ja;function Ma(){if(ja)return da;ja=1;Object.defineProperty(da,"__esModule",{value:true});da.joinAllInternals=void 0;var e=re();var t=Xn();var r=ie();var n=Oi();var i=Oa();function u(u,a){return r.pipe(i.toArray(),n.mergeMap((function(e){return u(e)})),a?t.mapOneOrManyArgs(a):e.identity)}da.joinAllInternals=u;return da}var xa;function ka(){if(xa)return va;xa=1;Object.defineProperty(va,"__esModule",{value:true});va.combineLatestAll=void 0;var e=di();var t=Ma();function r(r){return t.joinAllInternals(e.combineLatest,r)}va.combineLatestAll=r;return va}var Aa;function Ea(){if(Aa)return sa;Aa=1;Object.defineProperty(sa,"__esModule",{value:true});sa.combineAll=void 0;var e=ka();sa.combineAll=e.combineLatestAll;return sa}var Sa={};var Ta={};var Ia;function Ca(){if(Ia)return Ta;Ia=1;var e=Ta&&Ta.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Ta&&Ta.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ta,"__esModule",{value:true});Ta.combineLatest=void 0;var r=di();var n=se();var i=su();var u=Xn();var a=ie();var o=rr();function f(){var l=[];for(var c=0;c<arguments.length;c++){l[c]=arguments[c]}var s=o.popResultSelector(l);return s?a.pipe(f.apply(void 0,t([],e(l))),u.mapOneOrManyArgs(s)):n.operate((function(n,u){r.combineLatestInit(t([n],e(i.argsOrArgArray(l))))(u)}))}Ta.combineLatest=f;return Ta}var Fa;function Pa(){if(Fa)return Sa;Fa=1;var e=Sa&&Sa.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Sa&&Sa.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Sa,"__esModule",{value:true});Sa.combineLatestWith=void 0;var r=Ca();function n(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}return r.combineLatest.apply(void 0,t([],e(n)))}Sa.combineLatestWith=n;return Sa}var Na={};var Ha;function La(){if(Ha)return Na;Ha=1;Object.defineProperty(Na,"__esModule",{value:true});Na.concatMap=void 0;var e=Oi();var t=g();function r(r,n){return t.isFunction(n)?e.mergeMap(r,n,1):e.mergeMap(r,1)}Na.concatMap=r;return Na}var Ra={};var za;function Da(){if(za)return Ra;za=1;Object.defineProperty(Ra,"__esModule",{value:true});Ra.concatMapTo=void 0;var e=La();var t=g();function r(r,n){return t.isFunction(n)?e.concatMap((function(){return r}),n):e.concatMap((function(){return r}))}Ra.concatMapTo=r;return Ra}var Wa={};var Ba={};var Ua;function $a(){if(Ua)return Ba;Ua=1;var e=Ba&&Ba.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Ba&&Ba.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ba,"__esModule",{value:true});Ba.concat=void 0;var r=se();var n=ki();var i=rr();var u=ln();function a(){var a=[];for(var o=0;o<arguments.length;o++){a[o]=arguments[o]}var f=i.popScheduler(a);return r.operate((function(r,i){n.concatAll()(u.from(t([r],e(a)),f)).subscribe(i)}))}Ba.concat=a;return Ba}var qa;function Va(){if(qa)return Wa;qa=1;var e=Wa&&Wa.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Wa&&Wa.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Wa,"__esModule",{value:true});Wa.concatWith=void 0;var r=$a();function n(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}return r.concat.apply(void 0,t([],e(n)))}Wa.concatWith=n;return Wa}var Ga={};var Ya={};var Ka;function Qa(){if(Ka)return Ya;Ka=1;Object.defineProperty(Ya,"__esModule",{value:true});Ya.fromSubscribable=void 0;var e=ae();function t(t){return new e.Observable((function(e){return t.subscribe(e)}))}Ya.fromSubscribable=t;return Ya}var Xa;function Za(){if(Xa)return Ga;Xa=1;Object.defineProperty(Ga,"__esModule",{value:true});Ga.connect=void 0;var e=Fe();var t=Cr();var r=se();var n=Qa();var i={connector:function(){return new e.Subject}};function u(e,u){if(u===void 0){u=i}var a=u.connector;return r.operate((function(r,i){var u=a();t.innerFrom(e(n.fromSubscribable(u))).subscribe(i);i.add(r.subscribe(u))}))}Ga.connect=u;return Ga}var Ja={};var eo;function to(){if(eo)return Ja;eo=1;Object.defineProperty(Ja,"__esModule",{value:true});Ja.count=void 0;var e=ya();function t(t){return e.reduce((function(e,r,n){return!t||t(r,n)?e+1:e}),0)}Ja.count=t;return Ja}var ro={};var no;function io(){if(no)return ro;no=1;Object.defineProperty(ro,"__esModule",{value:true});ro.debounce=void 0;var e=se();var t=W();var r=he();var n=Cr();function i(i){return e.operate((function(e,u){var a=false;var o=null;var f=null;var l=function(){f===null||f===void 0?void 0:f.unsubscribe();f=null;if(a){a=false;var e=o;o=null;u.next(e)}};e.subscribe(r.createOperatorSubscriber(u,(function(e){f===null||f===void 0?void 0:f.unsubscribe();a=true;o=e;f=r.createOperatorSubscriber(u,l,t.noop);n.innerFrom(i(e)).subscribe(f)}),(function(){l();u.complete()}),undefined,(function(){o=f=null})))}))}ro.debounce=i;return ro}var uo={};var ao;function oo(){if(ao)return uo;ao=1;Object.defineProperty(uo,"__esModule",{value:true});uo.debounceTime=void 0;var e=Mt();var t=se();var r=he();function n(n,i){if(i===void 0){i=e.asyncScheduler}return t.operate((function(e,t){var u=null;var a=null;var o=null;var f=function(){if(u){u.unsubscribe();u=null;var e=a;a=null;t.next(e)}};function l(){var e=o+n;var r=i.now();if(r<e){u=this.schedule(undefined,e-r);t.add(u);return}f()}e.subscribe(r.createOperatorSubscriber(t,(function(e){a=e;o=i.now();if(!u){u=i.schedule(l,n);t.add(u)}}),(function(){f();t.complete()}),undefined,(function(){a=u=null})))}))}uo.debounceTime=n;return uo}var fo={};var lo;function co(){if(lo)return fo;lo=1;Object.defineProperty(fo,"__esModule",{value:true});fo.defaultIfEmpty=void 0;var e=se();var t=he();function r(r){return e.operate((function(e,n){var i=false;e.subscribe(t.createOperatorSubscriber(n,(function(e){i=true;n.next(e)}),(function(){if(!i){n.next(r)}n.complete()})))}))}fo.defaultIfEmpty=r;return fo}var so={};var vo={};var ho={};var bo;function mo(){if(bo)return ho;bo=1;Object.defineProperty(ho,"__esModule",{value:true});ho.take=void 0;var e=Kt();var t=se();var r=he();function n(n){return n<=0?function(){return e.EMPTY}:t.operate((function(e,t){var i=0;e.subscribe(r.createOperatorSubscriber(t,(function(e){if(++i<=n){t.next(e);if(n<=i){t.complete()}}})))}))}ho.take=n;return ho}var go={};var po;function _o(){if(po)return go;po=1;Object.defineProperty(go,"__esModule",{value:true});go.ignoreElements=void 0;var e=se();var t=he();var r=W();function n(){return e.operate((function(e,n){e.subscribe(t.createOperatorSubscriber(n,r.noop))}))}go.ignoreElements=n;return go}var yo={};var wo;function Oo(){if(wo)return yo;wo=1;Object.defineProperty(yo,"__esModule",{value:true});yo.mapTo=void 0;var e=Kn();function t(t){return e.map((function(){return t}))}yo.mapTo=t;return yo}var jo;function Mo(){if(jo)return vo;jo=1;Object.defineProperty(vo,"__esModule",{value:true});vo.delayWhen=void 0;var e=Ei();var t=mo();var r=_o();var n=Oo();var i=Oi();var u=Cr();function a(o,f){if(f){return function(n){return e.concat(f.pipe(t.take(1),r.ignoreElements()),n.pipe(a(o)))}}return i.mergeMap((function(e,r){return u.innerFrom(o(e,r)).pipe(t.take(1),n.mapTo(e))}))}vo.delayWhen=a;return vo}var xo;function ko(){if(xo)return so;xo=1;Object.defineProperty(so,"__esModule",{value:true});so.delay=void 0;var e=Mt();var t=Mo();var r=Ji();function n(n,i){if(i===void 0){i=e.asyncScheduler}var u=r.timer(n,i);return t.delayWhen((function(){return u}))}so.delay=n;return so}var Ao={};var Eo;function So(){if(Eo)return Ao;Eo=1;Object.defineProperty(Ao,"__esModule",{value:true});Ao.dematerialize=void 0;var e=mn();var t=se();var r=he();function n(){return t.operate((function(t,n){t.subscribe(r.createOperatorSubscriber(n,(function(t){return e.observeNotification(t,n)})))}))}Ao.dematerialize=n;return Ao}var To={};var Io;function Co(){if(Io)return To;Io=1;Object.defineProperty(To,"__esModule",{value:true});To.distinct=void 0;var e=se();var t=he();var r=W();var n=Cr();function i(i,u){return e.operate((function(e,a){var o=new Set;e.subscribe(t.createOperatorSubscriber(a,(function(e){var t=i?i(e):e;if(!o.has(t)){o.add(t);a.next(e)}})));u&&n.innerFrom(u).subscribe(t.createOperatorSubscriber(a,(function(){return o.clear()}),r.noop))}))}To.distinct=i;return To}var Fo={};var Po;function No(){if(Po)return Fo;Po=1;Object.defineProperty(Fo,"__esModule",{value:true});Fo.distinctUntilChanged=void 0;var e=re();var t=se();var r=he();function n(n,u){if(u===void 0){u=e.identity}n=n!==null&&n!==void 0?n:i;return t.operate((function(e,t){var i;var a=true;e.subscribe(r.createOperatorSubscriber(t,(function(e){var r=u(e);if(a||!n(i,r)){a=false;i=r;t.next(e)}})))}))}Fo.distinctUntilChanged=n;function i(e,t){return e===t}return Fo}var Ho={};var Lo;function Ro(){if(Lo)return Ho;Lo=1;Object.defineProperty(Ho,"__esModule",{value:true});Ho.distinctUntilKeyChanged=void 0;var e=No();function t(t,r){return e.distinctUntilChanged((function(e,n){return r?r(e[t],n[t]):e[t]===n[t]}))}Ho.distinctUntilKeyChanged=t;return Ho}var zo={};var Do={};var Wo;function Bo(){if(Wo)return Do;Wo=1;Object.defineProperty(Do,"__esModule",{value:true});Do.throwIfEmpty=void 0;var e=jn();var t=se();var r=he();function n(e){if(e===void 0){e=i}return t.operate((function(t,n){var i=false;t.subscribe(r.createOperatorSubscriber(n,(function(e){i=true;n.next(e)}),(function(){return i?n.complete():n.error(e())})))}))}Do.throwIfEmpty=n;function i(){return new e.EmptyError}return Do}var Uo;function $o(){if(Uo)return zo;Uo=1;Object.defineProperty(zo,"__esModule",{value:true});zo.elementAt=void 0;var e=In();var t=ju();var r=Bo();var n=co();var i=mo();function u(u,a){if(u<0){throw new e.ArgumentOutOfRangeError}var o=arguments.length>=2;return function(f){return f.pipe(t.filter((function(e,t){return t===u})),i.take(1),o?n.defaultIfEmpty(a):r.throwIfEmpty((function(){return new e.ArgumentOutOfRangeError})))}}zo.elementAt=u;return zo}var qo={};var Vo;function Go(){if(Vo)return qo;Vo=1;var e=qo&&qo.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=qo&&qo.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(qo,"__esModule",{value:true});qo.endWith=void 0;var r=Ei();var n=sn();function i(){var i=[];for(var u=0;u<arguments.length;u++){i[u]=arguments[u]}return function(u){return r.concat(u,n.of.apply(void 0,t([],e(i))))}}qo.endWith=i;return qo}var Yo={};var Ko;function Qo(){if(Ko)return Yo;Ko=1;Object.defineProperty(Yo,"__esModule",{value:true});Yo.every=void 0;var e=se();var t=he();function r(r,n){return e.operate((function(e,i){var u=0;e.subscribe(t.createOperatorSubscriber(i,(function(t){if(!r.call(n,t,u++,e)){i.next(false);i.complete()}}),(function(){i.next(true);i.complete()})))}))}Yo.every=r;return Yo}var Xo={};var Zo={};var Jo={};var ef;function tf(){if(ef)return Jo;ef=1;Object.defineProperty(Jo,"__esModule",{value:true});Jo.exhaustMap=void 0;var e=Kn();var t=Cr();var r=se();var n=he();function i(u,a){if(a){return function(r){return r.pipe(i((function(r,n){return t.innerFrom(u(r,n)).pipe(e.map((function(e,t){return a(r,e,n,t)})))})))}}return r.operate((function(e,r){var i=0;var a=null;var o=false;e.subscribe(n.createOperatorSubscriber(r,(function(e){if(!a){a=n.createOperatorSubscriber(r,undefined,(function(){a=null;o&&r.complete()}));t.innerFrom(u(e,i++)).subscribe(a)}}),(function(){o=true;!a&&r.complete()})))}))}Jo.exhaustMap=i;return Jo}var rf;function nf(){if(rf)return Zo;rf=1;Object.defineProperty(Zo,"__esModule",{value:true});Zo.exhaustAll=void 0;var e=tf();var t=re();function r(){return e.exhaustMap(t.identity)}Zo.exhaustAll=r;return Zo}var uf;function af(){if(uf)return Xo;uf=1;Object.defineProperty(Xo,"__esModule",{value:true});Xo.exhaust=void 0;var e=nf();Xo.exhaust=e.exhaustAll;return Xo}var of={};var ff;function lf(){if(ff)return of;ff=1;Object.defineProperty(of,"__esModule",{value:true});of.expand=void 0;var e=se();var t=yi();function r(r,n,i){if(n===void 0){n=Infinity}n=(n||0)<1?Infinity:n;return e.operate((function(e,u){return t.mergeInternals(e,u,r,n,undefined,true,i)}))}of.expand=r;return of}var cf={};var sf;function vf(){if(sf)return cf;sf=1;Object.defineProperty(cf,"__esModule",{value:true});cf.finalize=void 0;var e=se();function t(t){return e.operate((function(e,r){try{e.subscribe(r)}finally{r.add(t)}}))}cf.finalize=t;return cf}var df={};var hf;function bf(){if(hf)return df;hf=1;Object.defineProperty(df,"__esModule",{value:true});df.createFind=df.find=void 0;var e=se();var t=he();function r(t,r){return e.operate(n(t,r,"value"))}df.find=r;function n(e,r,n){var i=n==="index";return function(n,u){var a=0;n.subscribe(t.createOperatorSubscriber(u,(function(t){var o=a++;if(e.call(r,t,o,n)){u.next(i?o:t);u.complete()}}),(function(){u.next(i?-1:undefined);u.complete()})))}}df.createFind=n;return df}var mf={};var gf;function pf(){if(gf)return mf;gf=1;Object.defineProperty(mf,"__esModule",{value:true});mf.findIndex=void 0;var e=se();var t=bf();function r(r,n){return e.operate(t.createFind(r,n,"index"))}mf.findIndex=r;return mf}var _f={};var yf;function wf(){if(yf)return _f;yf=1;Object.defineProperty(_f,"__esModule",{value:true});_f.first=void 0;var e=jn();var t=ju();var r=mo();var n=co();var i=Bo();var u=re();function a(a,o){var f=arguments.length>=2;return function(l){return l.pipe(a?t.filter((function(e,t){return a(e,t,l)})):u.identity,r.take(1),f?n.defaultIfEmpty(o):i.throwIfEmpty((function(){return new e.EmptyError})))}}_f.first=a;return _f}var Of={};var jf;function Mf(){if(jf)return Of;jf=1;Object.defineProperty(Of,"__esModule",{value:true});Of.groupBy=void 0;var e=ae();var t=Cr();var r=Fe();var n=se();var i=he();function u(u,a,o,f){return n.operate((function(n,l){var c;if(!a||typeof a==="function"){c=a}else{o=a.duration,c=a.element,f=a.connector}var s=new Map;var v=function(e){s.forEach(e);e(l)};var d=function(e){return v((function(t){return t.error(e)}))};var h=0;var b=false;var m=new i.OperatorSubscriber(l,(function(e){try{var n=u(e);var a=s.get(n);if(!a){s.set(n,a=f?f():new r.Subject);var v=g(n,a);l.next(v);if(o){var h=i.createOperatorSubscriber(a,(function(){a.complete();h===null||h===void 0?void 0:h.unsubscribe()}),undefined,undefined,(function(){return s.delete(n)}));m.add(t.innerFrom(o(v)).subscribe(h))}}a.next(c?c(e):e)}catch(e){d(e)}}),(function(){return v((function(e){return e.complete()}))}),d,(function(){return s.clear()}),(function(){b=true;return h===0}));n.subscribe(m);function g(t,r){var n=new e.Observable((function(e){h++;var t=r.subscribe(e);return function(){t.unsubscribe();--h===0&&b&&m.unsubscribe()}}));n.key=t;return n}}))}Of.groupBy=u;return Of}var xf={};var kf;function Af(){if(kf)return xf;kf=1;Object.defineProperty(xf,"__esModule",{value:true});xf.isEmpty=void 0;var e=se();var t=he();function r(){return e.operate((function(e,r){e.subscribe(t.createOperatorSubscriber(r,(function(){r.next(false);r.complete()}),(function(){r.next(true);r.complete()})))}))}xf.isEmpty=r;return xf}var Ef={};var Sf={};var Tf;function If(){if(Tf)return Sf;Tf=1;var e=Sf&&Sf.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(Sf,"__esModule",{value:true});Sf.takeLast=void 0;var t=Kt();var r=se();var n=he();function i(i){return i<=0?function(){return t.EMPTY}:r.operate((function(t,r){var u=[];t.subscribe(n.createOperatorSubscriber(r,(function(e){u.push(e);i<u.length&&u.shift()}),(function(){var t,n;try{for(var i=e(u),a=i.next();!a.done;a=i.next()){var o=a.value;r.next(o)}}catch(e){t={error:e}}finally{try{if(a&&!a.done&&(n=i.return))n.call(i)}finally{if(t)throw t.error}}r.complete()}),undefined,(function(){u=null})))}))}Sf.takeLast=i;return Sf}var Cf;function Ff(){if(Cf)return Ef;Cf=1;Object.defineProperty(Ef,"__esModule",{value:true});Ef.last=void 0;var e=jn();var t=ju();var r=If();var n=Bo();var i=co();var u=re();function a(a,o){var f=arguments.length>=2;return function(l){return l.pipe(a?t.filter((function(e,t){return a(e,t,l)})):u.identity,r.takeLast(1),f?i.defaultIfEmpty(o):n.throwIfEmpty((function(){return new e.EmptyError})))}}Ef.last=a;return Ef}var Pf={};var Nf;function Hf(){if(Nf)return Pf;Nf=1;Object.defineProperty(Pf,"__esModule",{value:true});Pf.materialize=void 0;var e=mn();var t=se();var r=he();function n(){return t.operate((function(t,n){t.subscribe(r.createOperatorSubscriber(n,(function(t){n.next(e.Notification.createNext(t))}),(function(){n.next(e.Notification.createComplete());n.complete()}),(function(t){n.next(e.Notification.createError(t));n.complete()})))}))}Pf.materialize=n;return Pf}var Lf={};var Rf;function zf(){if(Rf)return Lf;Rf=1;Object.defineProperty(Lf,"__esModule",{value:true});Lf.max=void 0;var e=ya();var t=g();function r(r){return e.reduce(t.isFunction(r)?function(e,t){return r(e,t)>0?e:t}:function(e,t){return e>t?e:t})}Lf.max=r;return Lf}var Df={};var Wf;function Bf(){if(Wf)return Df;Wf=1;Object.defineProperty(Df,"__esModule",{value:true});Df.flatMap=void 0;var e=Oi();Df.flatMap=e.mergeMap;return Df}var Uf={};var $f;function qf(){if($f)return Uf;$f=1;Object.defineProperty(Uf,"__esModule",{value:true});Uf.mergeMapTo=void 0;var e=Oi();var t=g();function r(r,n,i){if(i===void 0){i=Infinity}if(t.isFunction(n)){return e.mergeMap((function(){return r}),n,i)}if(typeof n==="number"){i=n}return e.mergeMap((function(){return r}),i)}Uf.mergeMapTo=r;return Uf}var Vf={};var Gf;function Yf(){if(Gf)return Vf;Gf=1;Object.defineProperty(Vf,"__esModule",{value:true});Vf.mergeScan=void 0;var e=se();var t=yi();function r(r,n,i){if(i===void 0){i=Infinity}return e.operate((function(e,u){var a=n;return t.mergeInternals(e,u,(function(e,t){return r(a,e,t)}),i,(function(e){a=e}),false,undefined,(function(){return a=null}))}))}Vf.mergeScan=r;return Vf}var Kf={};var Qf={};var Xf;function Zf(){if(Xf)return Qf;Xf=1;var e=Qf&&Qf.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Qf&&Qf.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Qf,"__esModule",{value:true});Qf.merge=void 0;var r=se();var n=Mi();var i=rr();var u=ln();function a(){var a=[];for(var o=0;o<arguments.length;o++){a[o]=arguments[o]}var f=i.popScheduler(a);var l=i.popNumber(a,Infinity);return r.operate((function(r,i){n.mergeAll(l)(u.from(t([r],e(a)),f)).subscribe(i)}))}Qf.merge=a;return Qf}var Jf;function el(){if(Jf)return Kf;Jf=1;var e=Kf&&Kf.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Kf&&Kf.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Kf,"__esModule",{value:true});Kf.mergeWith=void 0;var r=Zf();function n(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}return r.merge.apply(void 0,t([],e(n)))}Kf.mergeWith=n;return Kf}var tl={};var rl;function nl(){if(rl)return tl;rl=1;Object.defineProperty(tl,"__esModule",{value:true});tl.min=void 0;var e=ya();var t=g();function r(r){return e.reduce(t.isFunction(r)?function(e,t){return r(e,t)<0?e:t}:function(e,t){return e<t?e:t})}tl.min=r;return tl}var il={};var ul;function al(){if(ul)return il;ul=1;Object.defineProperty(il,"__esModule",{value:true});il.multicast=void 0;var e=pe();var t=g();var r=Za();function n(n,i){var u=t.isFunction(n)?n:function(){return n};if(t.isFunction(i)){return r.connect(i,{connector:u})}return function(t){return new e.ConnectableObservable(t,u)}}il.multicast=n;return il}var ol={};var fl;function ll(){if(fl)return ol;fl=1;var e=ol&&ol.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=ol&&ol.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(ol,"__esModule",{value:true});ol.onErrorResumeNext=ol.onErrorResumeNextWith=void 0;var r=su();var n=du();function i(){var i=[];for(var u=0;u<arguments.length;u++){i[u]=arguments[u]}var a=r.argsOrArgArray(i);return function(r){return n.onErrorResumeNext.apply(void 0,t([r],e(a)))}}ol.onErrorResumeNextWith=i;ol.onErrorResumeNext=i;return ol}var cl={};var sl;function vl(){if(sl)return cl;sl=1;Object.defineProperty(cl,"__esModule",{value:true});cl.pairwise=void 0;var e=se();var t=he();function r(){return e.operate((function(e,r){var n;var i=false;e.subscribe(t.createOperatorSubscriber(r,(function(e){var t=n;n=e;i&&r.next([t,e]);i=true})))}))}cl.pairwise=r;return cl}var dl={};var hl;function bl(){if(hl)return dl;hl=1;Object.defineProperty(dl,"__esModule",{value:true});dl.pluck=void 0;var e=Kn();function t(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}var n=t.length;if(n===0){throw new Error("list of properties cannot be empty.")}return e.map((function(e){var r=e;for(var i=0;i<n;i++){var u=r===null||r===void 0?void 0:r[t[i]];if(typeof u!=="undefined"){r=u}else{return undefined}}return r}))}dl.pluck=t;return dl}var ml={};var gl;function pl(){if(gl)return ml;gl=1;Object.defineProperty(ml,"__esModule",{value:true});ml.publish=void 0;var e=Fe();var t=al();var r=Za();function n(n){return n?function(e){return r.connect(n)(e)}:function(r){return t.multicast(new e.Subject)(r)}}ml.publish=n;return ml}var _l={};var yl;function wl(){if(yl)return _l;yl=1;Object.defineProperty(_l,"__esModule",{value:true});_l.publishBehavior=void 0;var e=He();var t=pe();function r(r){return function(n){var i=new e.BehaviorSubject(r);return new t.ConnectableObservable(n,(function(){return i}))}}_l.publishBehavior=r;return _l}var Ol={};var jl;function Ml(){if(jl)return Ol;jl=1;Object.defineProperty(Ol,"__esModule",{value:true});Ol.publishLast=void 0;var e=qe();var t=pe();function r(){return function(r){var n=new e.AsyncSubject;return new t.ConnectableObservable(r,(function(){return n}))}}Ol.publishLast=r;return Ol}var xl={};var kl;function Al(){if(kl)return xl;kl=1;Object.defineProperty(xl,"__esModule",{value:true});xl.publishReplay=void 0;var e=Be();var t=al();var r=g();function n(n,i,u,a){if(u&&!r.isFunction(u)){a=u}var o=r.isFunction(u)?u:undefined;return function(r){return t.multicast(new e.ReplaySubject(n,i,a),o)(r)}}xl.publishReplay=n;return xl}var El={};var Sl;function Tl(){if(Sl)return El;Sl=1;var e=El&&El.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=El&&El.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(El,"__esModule",{value:true});El.raceWith=void 0;var r=Eu();var n=se();var i=re();function u(){var u=[];for(var a=0;a<arguments.length;a++){u[a]=arguments[a]}return!u.length?i.identity:n.operate((function(n,i){r.raceInit(t([n],e(u)))(i)}))}El.raceWith=u;return El}var Il={};var Cl;function Fl(){if(Cl)return Il;Cl=1;Object.defineProperty(Il,"__esModule",{value:true});Il.repeat=void 0;var e=Kt();var t=se();var r=he();var n=Cr();var i=Ji();function u(u){var a;var o=Infinity;var f;if(u!=null){if(typeof u==="object"){a=u.count,o=a===void 0?Infinity:a,f=u.delay}else{o=u}}return o<=0?function(){return e.EMPTY}:t.operate((function(e,t){var u=0;var a;var l=function(){a===null||a===void 0?void 0:a.unsubscribe();a=null;if(f!=null){var e=typeof f==="number"?i.timer(f):n.innerFrom(f(u));var o=r.createOperatorSubscriber(t,(function(){o.unsubscribe();c()}));e.subscribe(o)}else{c()}};var c=function(){var n=false;a=e.subscribe(r.createOperatorSubscriber(t,undefined,(function(){if(++u<o){if(a){l()}else{n=true}}else{t.complete()}})));if(n){l()}};c()}))}Il.repeat=u;return Il}var Pl={};var Nl;function Hl(){if(Nl)return Pl;Nl=1;Object.defineProperty(Pl,"__esModule",{value:true});Pl.repeatWhen=void 0;var e=Cr();var t=Fe();var r=se();var n=he();function i(i){return r.operate((function(r,u){var a;var o=false;var f;var l=false;var c=false;var s=function(){return c&&l&&(u.complete(),true)};var v=function(){if(!f){f=new t.Subject;e.innerFrom(i(f)).subscribe(n.createOperatorSubscriber(u,(function(){if(a){d()}else{o=true}}),(function(){l=true;s()})))}return f};var d=function(){c=false;a=r.subscribe(n.createOperatorSubscriber(u,undefined,(function(){c=true;!s()&&v().next()})));if(o){a.unsubscribe();a=null;o=false;d()}};d()}))}Pl.repeatWhen=i;return Pl}var Ll={};var Rl;function zl(){if(Rl)return Ll;Rl=1;Object.defineProperty(Ll,"__esModule",{value:true});Ll.retry=void 0;var e=se();var t=he();var r=re();var n=Ji();var i=Cr();function u(u){if(u===void 0){u=Infinity}var a;if(u&&typeof u==="object"){a=u}else{a={count:u}}var o=a.count,f=o===void 0?Infinity:o,l=a.delay,c=a.resetOnSuccess,s=c===void 0?false:c;return f<=0?r.identity:e.operate((function(e,r){var u=0;var a;var o=function(){var c=false;a=e.subscribe(t.createOperatorSubscriber(r,(function(e){if(s){u=0}r.next(e)}),undefined,(function(e){if(u++<f){var s=function(){if(a){a.unsubscribe();a=null;o()}else{c=true}};if(l!=null){var v=typeof l==="number"?n.timer(l):i.innerFrom(l(e,u));var d=t.createOperatorSubscriber(r,(function(){d.unsubscribe();s()}),(function(){r.complete()}));v.subscribe(d)}else{s()}}else{r.error(e)}})));if(c){a.unsubscribe();a=null;o()}};o()}))}Ll.retry=u;return Ll}var Dl={};var Wl;function Bl(){if(Wl)return Dl;Wl=1;Object.defineProperty(Dl,"__esModule",{value:true});Dl.retryWhen=void 0;var e=Cr();var t=Fe();var r=se();var n=he();function i(i){return r.operate((function(r,u){var a;var o=false;var f;var l=function(){a=r.subscribe(n.createOperatorSubscriber(u,undefined,undefined,(function(r){if(!f){f=new t.Subject;e.innerFrom(i(f)).subscribe(n.createOperatorSubscriber(u,(function(){return a?l():o=true})))}if(f){f.next(r)}})));if(o){a.unsubscribe();a=null;o=false;l()}};l()}))}Dl.retryWhen=i;return Dl}var Ul={};var $l;function ql(){if($l)return Ul;$l=1;Object.defineProperty(Ul,"__esModule",{value:true});Ul.sample=void 0;var e=Cr();var t=se();var r=W();var n=he();function i(i){return t.operate((function(t,u){var a=false;var o=null;t.subscribe(n.createOperatorSubscriber(u,(function(e){a=true;o=e})));e.innerFrom(i).subscribe(n.createOperatorSubscriber(u,(function(){if(a){a=false;var e=o;o=null;u.next(e)}}),r.noop))}))}Ul.sample=i;return Ul}var Vl={};var Gl;function Yl(){if(Gl)return Vl;Gl=1;Object.defineProperty(Vl,"__esModule",{value:true});Vl.sampleTime=void 0;var e=Mt();var t=ql();var r=tu();function n(n,i){if(i===void 0){i=e.asyncScheduler}return t.sample(r.interval(n,i))}Vl.sampleTime=n;return Vl}var Kl={};var Ql;function Xl(){if(Ql)return Kl;Ql=1;Object.defineProperty(Kl,"__esModule",{value:true});Kl.scan=void 0;var e=se();var t=pa();function r(r,n){return e.operate(t.scanInternals(r,n,arguments.length>=2,true))}Kl.scan=r;return Kl}var Zl={};var Jl;function ec(){if(Jl)return Zl;Jl=1;Object.defineProperty(Zl,"__esModule",{value:true});Zl.sequenceEqual=void 0;var e=se();var t=he();var r=Cr();function n(n,u){if(u===void 0){u=function(e,t){return e===t}}return e.operate((function(e,a){var o=i();var f=i();var l=function(e){a.next(e);a.complete()};var c=function(e,r){var n=t.createOperatorSubscriber(a,(function(t){var n=r.buffer,i=r.complete;if(n.length===0){i?l(false):e.buffer.push(t)}else{!u(t,n.shift())&&l(false)}}),(function(){e.complete=true;var t=r.complete,i=r.buffer;t&&l(i.length===0);n===null||n===void 0?void 0:n.unsubscribe()}));return n};e.subscribe(c(o,f));r.innerFrom(n).subscribe(c(f,o))}))}Zl.sequenceEqual=n;function i(){return{buffer:[],complete:false}}return Zl}var tc={};var rc;function nc(){if(rc)return tc;rc=1;var e=tc&&tc.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=tc&&tc.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(tc,"__esModule",{value:true});tc.share=void 0;var r=Cr();var n=Fe();var i=K();var u=se();function a(e){if(e===void 0){e={}}var t=e.connector,a=t===void 0?function(){return new n.Subject}:t,f=e.resetOnError,l=f===void 0?true:f,c=e.resetOnComplete,s=c===void 0?true:c,v=e.resetOnRefCountZero,d=v===void 0?true:v;return function(e){var t;var n;var f;var c=0;var v=false;var h=false;var b=function(){n===null||n===void 0?void 0:n.unsubscribe();n=undefined};var m=function(){b();t=f=undefined;v=h=false};var g=function(){var e=t;m();e===null||e===void 0?void 0:e.unsubscribe()};return u.operate((function(e,u){c++;if(!h&&!v){b()}var p=f=f!==null&&f!==void 0?f:a();u.add((function(){c--;if(c===0&&!h&&!v){n=o(g,d)}}));p.subscribe(u);if(!t&&c>0){t=new i.SafeSubscriber({next:function(e){return p.next(e)},error:function(e){h=true;b();n=o(m,l,e);p.error(e)},complete:function(){v=true;b();n=o(m,s);p.complete()}});r.innerFrom(e).subscribe(t)}}))(e)}}tc.share=a;function o(n,u){var a=[];for(var o=2;o<arguments.length;o++){a[o-2]=arguments[o]}if(u===true){n();return}if(u===false){return}var f=new i.SafeSubscriber({next:function(){f.unsubscribe();n()}});return r.innerFrom(u.apply(void 0,t([],e(a)))).subscribe(f)}return tc}var ic={};var uc;function ac(){if(uc)return ic;uc=1;Object.defineProperty(ic,"__esModule",{value:true});ic.shareReplay=void 0;var e=Be();var t=nc();function r(r,n,i){var u,a,o;var f;var l=false;if(r&&typeof r==="object"){u=r.bufferSize,f=u===void 0?Infinity:u,a=r.windowTime,n=a===void 0?Infinity:a,o=r.refCount,l=o===void 0?false:o,i=r.scheduler}else{f=r!==null&&r!==void 0?r:Infinity}return t.share({connector:function(){return new e.ReplaySubject(f,n,i)},resetOnError:true,resetOnComplete:false,resetOnRefCountZero:l})}ic.shareReplay=r;return ic}var oc={};var fc;function lc(){if(fc)return oc;fc=1;Object.defineProperty(oc,"__esModule",{value:true});oc.single=void 0;var e=jn();var t=Ln();var r=Pn();var n=se();var i=he();function u(u){return n.operate((function(n,a){var o=false;var f;var l=false;var c=0;n.subscribe(i.createOperatorSubscriber(a,(function(e){l=true;if(!u||u(e,c++,n)){o&&a.error(new t.SequenceError("Too many matching values"));o=true;f=e}}),(function(){if(o){a.next(f);a.complete()}else{a.error(l?new r.NotFoundError("No matching values"):new e.EmptyError)}})))}))}oc.single=u;return oc}var cc={};var sc;function vc(){if(sc)return cc;sc=1;Object.defineProperty(cc,"__esModule",{value:true});cc.skip=void 0;var e=ju();function t(t){return e.filter((function(e,r){return t<=r}))}cc.skip=t;return cc}var dc={};var hc;function bc(){if(hc)return dc;hc=1;Object.defineProperty(dc,"__esModule",{value:true});dc.skipLast=void 0;var e=re();var t=se();var r=he();function n(n){return n<=0?e.identity:t.operate((function(e,t){var i=new Array(n);var u=0;e.subscribe(r.createOperatorSubscriber(t,(function(e){var r=u++;if(r<n){i[r]=e}else{var a=r%n;var o=i[a];i[a]=e;t.next(o)}})));return function(){i=null}}))}dc.skipLast=n;return dc}var mc={};var gc;function pc(){if(gc)return mc;gc=1;Object.defineProperty(mc,"__esModule",{value:true});mc.skipUntil=void 0;var e=se();var t=he();var r=Cr();var n=W();function i(i){return e.operate((function(e,u){var a=false;var o=t.createOperatorSubscriber(u,(function(){o===null||o===void 0?void 0:o.unsubscribe();a=true}),n.noop);r.innerFrom(i).subscribe(o);e.subscribe(t.createOperatorSubscriber(u,(function(e){return a&&u.next(e)})))}))}mc.skipUntil=i;return mc}var _c={};var yc;function wc(){if(yc)return _c;yc=1;Object.defineProperty(_c,"__esModule",{value:true});_c.skipWhile=void 0;var e=se();var t=he();function r(r){return e.operate((function(e,n){var i=false;var u=0;e.subscribe(t.createOperatorSubscriber(n,(function(e){return(i||(i=!r(e,u++)))&&n.next(e)})))}))}_c.skipWhile=r;return _c}var Oc={};var jc;function Mc(){if(jc)return Oc;jc=1;Object.defineProperty(Oc,"__esModule",{value:true});Oc.startWith=void 0;var e=Ei();var t=rr();var r=se();function n(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}var u=t.popScheduler(n);return r.operate((function(t,r){(u?e.concat(n,t,u):e.concat(n,t)).subscribe(r)}))}Oc.startWith=n;return Oc}var xc={};var kc={};var Ac;function Ec(){if(Ac)return kc;Ac=1;Object.defineProperty(kc,"__esModule",{value:true});kc.switchMap=void 0;var e=Cr();var t=se();var r=he();function n(n,i){return t.operate((function(t,u){var a=null;var o=0;var f=false;var l=function(){return f&&!a&&u.complete()};t.subscribe(r.createOperatorSubscriber(u,(function(t){a===null||a===void 0?void 0:a.unsubscribe();var f=0;var c=o++;e.innerFrom(n(t,c)).subscribe(a=r.createOperatorSubscriber(u,(function(e){return u.next(i?i(t,e,c,f++):e)}),(function(){a=null;l()})))}),(function(){f=true;l()})))}))}kc.switchMap=n;return kc}var Sc;function Tc(){if(Sc)return xc;Sc=1;Object.defineProperty(xc,"__esModule",{value:true});xc.switchAll=void 0;var e=Ec();var t=re();function r(){return e.switchMap(t.identity)}xc.switchAll=r;return xc}var Ic={};var Cc;function Fc(){if(Cc)return Ic;Cc=1;Object.defineProperty(Ic,"__esModule",{value:true});Ic.switchMapTo=void 0;var e=Ec();var t=g();function r(r,n){return t.isFunction(n)?e.switchMap((function(){return r}),n):e.switchMap((function(){return r}))}Ic.switchMapTo=r;return Ic}var Pc={};var Nc;function Hc(){if(Nc)return Pc;Nc=1;Object.defineProperty(Pc,"__esModule",{value:true});Pc.switchScan=void 0;var e=Ec();var t=se();function r(r,n){return t.operate((function(t,i){var u=n;e.switchMap((function(e,t){return r(u,e,t)}),(function(e,t){return u=t,t}))(t).subscribe(i);return function(){u=null}}))}Pc.switchScan=r;return Pc}var Lc={};var Rc;function zc(){if(Rc)return Lc;Rc=1;Object.defineProperty(Lc,"__esModule",{value:true});Lc.takeUntil=void 0;var e=se();var t=he();var r=Cr();var n=W();function i(i){return e.operate((function(e,u){r.innerFrom(i).subscribe(t.createOperatorSubscriber(u,(function(){return u.complete()}),n.noop));!u.closed&&e.subscribe(u)}))}Lc.takeUntil=i;return Lc}var Dc={};var Wc;function Bc(){if(Wc)return Dc;Wc=1;Object.defineProperty(Dc,"__esModule",{value:true});Dc.takeWhile=void 0;var e=se();var t=he();function r(r,n){if(n===void 0){n=false}return e.operate((function(e,i){var u=0;e.subscribe(t.createOperatorSubscriber(i,(function(e){var t=r(e,u++);(t||n)&&i.next(e);!t&&i.complete()})))}))}Dc.takeWhile=r;return Dc}var Uc={};var $c;function qc(){if($c)return Uc;$c=1;Object.defineProperty(Uc,"__esModule",{value:true});Uc.tap=void 0;var e=g();var t=se();var r=he();var n=re();function i(i,u,a){var o=e.isFunction(i)||u||a?{next:i,error:u,complete:a}:i;return o?t.operate((function(e,t){var n;(n=o.subscribe)===null||n===void 0?void 0:n.call(o);var i=true;e.subscribe(r.createOperatorSubscriber(t,(function(e){var r;(r=o.next)===null||r===void 0?void 0:r.call(o,e);t.next(e)}),(function(){var e;i=false;(e=o.complete)===null||e===void 0?void 0:e.call(o);t.complete()}),(function(e){var r;i=false;(r=o.error)===null||r===void 0?void 0:r.call(o,e);t.error(e)}),(function(){var e,t;if(i){(e=o.unsubscribe)===null||e===void 0?void 0:e.call(o)}(t=o.finalize)===null||t===void 0?void 0:t.call(o)})))})):n.identity}Uc.tap=i;return Uc}var Vc={};var Gc;function Yc(){if(Gc)return Vc;Gc=1;Object.defineProperty(Vc,"__esModule",{value:true});Vc.throttle=void 0;var e=se();var t=he();var r=Cr();function n(n,i){return e.operate((function(e,u){var a=i!==null&&i!==void 0?i:{},o=a.leading,f=o===void 0?true:o,l=a.trailing,c=l===void 0?false:l;var s=false;var v=null;var d=null;var h=false;var b=function(){d===null||d===void 0?void 0:d.unsubscribe();d=null;if(c){p();h&&u.complete()}};var m=function(){d=null;h&&u.complete()};var g=function(e){return d=r.innerFrom(n(e)).subscribe(t.createOperatorSubscriber(u,b,m))};var p=function(){if(s){s=false;var e=v;v=null;u.next(e);!h&&g(e)}};e.subscribe(t.createOperatorSubscriber(u,(function(e){s=true;v=e;!(d&&!d.closed)&&(f?p():g(e))}),(function(){h=true;!(c&&s&&d&&!d.closed)&&u.complete()})))}))}Vc.throttle=n;return Vc}var Kc={};var Qc;function Xc(){if(Qc)return Kc;Qc=1;Object.defineProperty(Kc,"__esModule",{value:true});Kc.throttleTime=void 0;var e=Mt();var t=Yc();var r=Ji();function n(n,i,u){if(i===void 0){i=e.asyncScheduler}var a=r.timer(n,i);return t.throttle((function(){return a}),u)}Kc.throttleTime=n;return Kc}var Zc={};var Jc;function es(){if(Jc)return Zc;Jc=1;Object.defineProperty(Zc,"__esModule",{value:true});Zc.TimeInterval=Zc.timeInterval=void 0;var e=Mt();var t=se();var r=he();function n(n){if(n===void 0){n=e.asyncScheduler}return t.operate((function(e,t){var u=n.now();e.subscribe(r.createOperatorSubscriber(t,(function(e){var r=n.now();var a=r-u;u=r;t.next(new i(e,a))})))}))}Zc.timeInterval=n;var i=function(){function e(e,t){this.value=e;this.interval=t}return e}();Zc.TimeInterval=i;return Zc}var ts={};var rs;function ns(){if(rs)return ts;rs=1;Object.defineProperty(ts,"__esModule",{value:true});ts.timeoutWith=void 0;var e=Mt();var t=Wn();var r=Un();function n(n,i,u){var a;var o;var f;u=u!==null&&u!==void 0?u:e.async;if(t.isValidDate(n)){a=n}else if(typeof n==="number"){o=n}if(i){f=function(){return i}}else{throw new TypeError("No observable provided to switch to")}if(a==null&&o==null){throw new TypeError("No timeout provided.")}return r.timeout({first:a,each:o,scheduler:u,with:f})}ts.timeoutWith=n;return ts}var is={};var us;function as(){if(us)return is;us=1;Object.defineProperty(is,"__esModule",{value:true});is.timestamp=void 0;var e=De();var t=Kn();function r(r){if(r===void 0){r=e.dateTimestampProvider}return t.map((function(e){return{value:e,timestamp:r.now()}}))}is.timestamp=r;return is}var os={};var fs;function ls(){if(fs)return os;fs=1;Object.defineProperty(os,"__esModule",{value:true});os.window=void 0;var e=Fe();var t=se();var r=he();var n=W();var i=Cr();function u(u){return t.operate((function(t,a){var o=new e.Subject;a.next(o.asObservable());var f=function(e){o.error(e);a.error(e)};t.subscribe(r.createOperatorSubscriber(a,(function(e){return o===null||o===void 0?void 0:o.next(e)}),(function(){o.complete();a.complete()}),f));i.innerFrom(u).subscribe(r.createOperatorSubscriber(a,(function(){o.complete();a.next(o=new e.Subject)}),n.noop,f));return function(){o===null||o===void 0?void 0:o.unsubscribe();o=null}}))}os.window=u;return os}var cs={};var ss;function vs(){if(ss)return cs;ss=1;var e=cs&&cs.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(cs,"__esModule",{value:true});cs.windowCount=void 0;var t=Fe();var r=se();var n=he();function i(i,u){if(u===void 0){u=0}var a=u>0?u:i;return r.operate((function(r,u){var o=[new t.Subject];var f=0;u.next(o[0].asObservable());r.subscribe(n.createOperatorSubscriber(u,(function(r){var n,l;try{for(var c=e(o),s=c.next();!s.done;s=c.next()){var v=s.value;v.next(r)}}catch(e){n={error:e}}finally{try{if(s&&!s.done&&(l=c.return))l.call(c)}finally{if(n)throw n.error}}var d=f-i+1;if(d>=0&&d%a===0){o.shift().complete()}if(++f%a===0){var h=new t.Subject;o.push(h);u.next(h.asObservable())}}),(function(){while(o.length>0){o.shift().complete()}u.complete()}),(function(e){while(o.length>0){o.shift().error(e)}u.error(e)}),(function(){o=null})))}))}cs.windowCount=i;return cs}var ds={};var hs;function bs(){if(hs)return ds;hs=1;Object.defineProperty(ds,"__esModule",{value:true});ds.windowTime=void 0;var e=Fe();var t=Mt();var r=S();var n=se();var i=he();var u=A();var a=rr();var o=Hr();function f(f){var l,c;var s=[];for(var v=1;v<arguments.length;v++){s[v-1]=arguments[v]}var d=(l=a.popScheduler(s))!==null&&l!==void 0?l:t.asyncScheduler;var h=(c=s[0])!==null&&c!==void 0?c:null;var b=s[1]||Infinity;return n.operate((function(t,n){var a=[];var l=false;var c=function(e){var t=e.window,r=e.subs;t.complete();r.unsubscribe();u.arrRemove(a,e);l&&s()};var s=function(){if(a){var t=new r.Subscription;n.add(t);var i=new e.Subject;var u={window:i,subs:t,seen:0};a.push(u);n.next(i.asObservable());o.executeSchedule(t,d,(function(){return c(u)}),f)}};if(h!==null&&h>=0){o.executeSchedule(n,d,s,h,true)}else{l=true}s();var v=function(e){return a.slice().forEach(e)};var m=function(e){v((function(t){var r=t.window;return e(r)}));e(n);n.unsubscribe()};t.subscribe(i.createOperatorSubscriber(n,(function(e){v((function(t){t.window.next(e);b<=++t.seen&&c(t)}))}),(function(){return m((function(e){return e.complete()}))}),(function(e){return m((function(t){return t.error(e)}))})));return function(){a=null}}))}ds.windowTime=f;return ds}var ms={};var gs;function ps(){if(gs)return ms;gs=1;var e=ms&&ms.__values||function(e){var t=typeof Symbol==="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length==="number")return{next:function(){if(e&&n>=e.length)e=void 0;return{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(ms,"__esModule",{value:true});ms.windowToggle=void 0;var t=Fe();var r=S();var n=se();var i=Cr();var u=he();var a=W();var o=A();function f(f,l){return n.operate((function(n,c){var s=[];var v=function(e){while(0<s.length){s.shift().error(e)}c.error(e)};i.innerFrom(f).subscribe(u.createOperatorSubscriber(c,(function(e){var n=new t.Subject;s.push(n);var f=new r.Subscription;var d=function(){o.arrRemove(s,n);n.complete();f.unsubscribe()};var h;try{h=i.innerFrom(l(e))}catch(e){v(e);return}c.next(n.asObservable());f.add(h.subscribe(u.createOperatorSubscriber(c,d,a.noop,v)))}),a.noop));n.subscribe(u.createOperatorSubscriber(c,(function(t){var r,n;var i=s.slice();try{for(var u=e(i),a=u.next();!a.done;a=u.next()){var o=a.value;o.next(t)}}catch(e){r={error:e}}finally{try{if(a&&!a.done&&(n=u.return))n.call(u)}finally{if(r)throw r.error}}}),(function(){while(0<s.length){s.shift().complete()}c.complete()}),v,(function(){while(0<s.length){s.shift().unsubscribe()}})))}))}ms.windowToggle=f;return ms}var _s={};var ys;function ws(){if(ys)return _s;ys=1;Object.defineProperty(_s,"__esModule",{value:true});_s.windowWhen=void 0;var e=Fe();var t=se();var r=he();var n=Cr();function i(i){return t.operate((function(t,u){var a;var o;var f=function(e){a.error(e);u.error(e)};var l=function(){o===null||o===void 0?void 0:o.unsubscribe();a===null||a===void 0?void 0:a.complete();a=new e.Subject;u.next(a.asObservable());var t;try{t=n.innerFrom(i())}catch(e){f(e);return}t.subscribe(o=r.createOperatorSubscriber(u,l,l,f))};l();t.subscribe(r.createOperatorSubscriber(u,(function(e){return a.next(e)}),(function(){a.complete();u.complete()}),f,(function(){o===null||o===void 0?void 0:o.unsubscribe();a=null})))}))}_s.windowWhen=i;return _s}var Os={};var js;function Ms(){if(js)return Os;js=1;var e=Os&&Os.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Os&&Os.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Os,"__esModule",{value:true});Os.withLatestFrom=void 0;var r=se();var n=he();var i=Cr();var u=re();var a=W();var o=rr();function f(){var f=[];for(var l=0;l<arguments.length;l++){f[l]=arguments[l]}var c=o.popResultSelector(f);return r.operate((function(r,o){var l=f.length;var s=new Array(l);var v=f.map((function(){return false}));var d=false;var h=function(e){i.innerFrom(f[e]).subscribe(n.createOperatorSubscriber(o,(function(t){s[e]=t;if(!d&&!v[e]){v[e]=true;(d=v.every(u.identity))&&(v=null)}}),a.noop))};for(var b=0;b<l;b++){h(b)}r.subscribe(n.createOperatorSubscriber(o,(function(r){if(d){var n=t([r],e(s));o.next(c?c.apply(void 0,t([],e(n))):n)}})))}))}Os.withLatestFrom=f;return Os}var xs={};var ks;function As(){if(ks)return xs;ks=1;Object.defineProperty(xs,"__esModule",{value:true});xs.zipAll=void 0;var e=Lu();var t=Ma();function r(r){return t.joinAllInternals(e.zip,r)}xs.zipAll=r;return xs}var Es={};var Ss={};var Ts;function Is(){if(Ts)return Ss;Ts=1;var e=Ss&&Ss.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Ss&&Ss.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ss,"__esModule",{value:true});Ss.zip=void 0;var r=Lu();var n=se();function i(){var i=[];for(var u=0;u<arguments.length;u++){i[u]=arguments[u]}return n.operate((function(n,u){r.zip.apply(void 0,t([n],e(i))).subscribe(u)}))}Ss.zip=i;return Ss}var Cs;function Fs(){if(Cs)return Es;Cs=1;var e=Es&&Es.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Es&&Es.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Es,"__esModule",{value:true});Es.zipWith=void 0;var r=Is();function n(){var n=[];for(var i=0;i<arguments.length;i++){n[i]=arguments[i]}return r.zip.apply(void 0,t([],e(n)))}Es.zipWith=n;return Es}var Ps;function Ns(){if(Ps)return v;Ps=1;(function(e){var t=v&&v.__createBinding||(Object.create?function(e,t,r,n){if(n===undefined)n=r;Object.defineProperty(e,n,{enumerable:true,get:function(){return t[r]}})}:function(e,t,r,n){if(n===undefined)n=r;e[n]=t[r]});var r=v&&v.__exportStar||function(e,r){for(var n in e)if(n!=="default"&&!Object.prototype.hasOwnProperty.call(r,n))t(r,e,n)};Object.defineProperty(e,"__esModule",{value:true});e.interval=e.iif=e.generate=e.fromEventPattern=e.fromEvent=e.from=e.forkJoin=e.empty=e.defer=e.connectable=e.concat=e.combineLatest=e.bindNodeCallback=e.bindCallback=e.UnsubscriptionError=e.TimeoutError=e.SequenceError=e.ObjectUnsubscribedError=e.NotFoundError=e.EmptyError=e.ArgumentOutOfRangeError=e.firstValueFrom=e.lastValueFrom=e.isObservable=e.identity=e.noop=e.pipe=e.NotificationKind=e.Notification=e.Subscriber=e.Subscription=e.Scheduler=e.VirtualAction=e.VirtualTimeScheduler=e.animationFrameScheduler=e.animationFrame=e.queueScheduler=e.queue=e.asyncScheduler=e.async=e.asapScheduler=e.asap=e.AsyncSubject=e.ReplaySubject=e.BehaviorSubject=e.Subject=e.animationFrames=e.observable=e.ConnectableObservable=e.Observable=void 0;e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.combineLatestWith=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=e.config=e.NEVER=e.EMPTY=e.scheduled=e.zip=e.using=e.timer=e.throwError=e.range=e.race=e.partition=e.pairs=e.onErrorResumeNext=e.of=e.never=e.merge=void 0;e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.pairwise=e.onErrorResumeNextWith=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=e.mergeAll=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=void 0;e.zipWith=e.zipAll=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=void 0;var n=ae();Object.defineProperty(e,"Observable",{enumerable:true,get:function(){return n.Observable}});var i=pe();Object.defineProperty(e,"ConnectableObservable",{enumerable:true,get:function(){return i.ConnectableObservable}});var u=Z();Object.defineProperty(e,"observable",{enumerable:true,get:function(){return u.observable}});var a=Ae();Object.defineProperty(e,"animationFrames",{enumerable:true,get:function(){return a.animationFrames}});var o=Fe();Object.defineProperty(e,"Subject",{enumerable:true,get:function(){return o.Subject}});var f=He();Object.defineProperty(e,"BehaviorSubject",{enumerable:true,get:function(){return f.BehaviorSubject}});var l=Be();Object.defineProperty(e,"ReplaySubject",{enumerable:true,get:function(){return l.ReplaySubject}});var c=qe();Object.defineProperty(e,"AsyncSubject",{enumerable:true,get:function(){return c.AsyncSubject}});var s=wt();Object.defineProperty(e,"asap",{enumerable:true,get:function(){return s.asap}});Object.defineProperty(e,"asapScheduler",{enumerable:true,get:function(){return s.asapScheduler}});var d=Mt();Object.defineProperty(e,"async",{enumerable:true,get:function(){return d.async}});Object.defineProperty(e,"asyncScheduler",{enumerable:true,get:function(){return d.asyncScheduler}});var h=Ft();Object.defineProperty(e,"queue",{enumerable:true,get:function(){return h.queue}});Object.defineProperty(e,"queueScheduler",{enumerable:true,get:function(){return h.queueScheduler}});var b=Bt();Object.defineProperty(e,"animationFrame",{enumerable:true,get:function(){return b.animationFrame}});Object.defineProperty(e,"animationFrameScheduler",{enumerable:true,get:function(){return b.animationFrameScheduler}});var m=qt();Object.defineProperty(e,"VirtualTimeScheduler",{enumerable:true,get:function(){return m.VirtualTimeScheduler}});Object.defineProperty(e,"VirtualAction",{enumerable:true,get:function(){return m.VirtualAction}});var g=bt();Object.defineProperty(e,"Scheduler",{enumerable:true,get:function(){return g.Scheduler}});var p=S();Object.defineProperty(e,"Subscription",{enumerable:true,get:function(){return p.Subscription}});var _=K();Object.defineProperty(e,"Subscriber",{enumerable:true,get:function(){return _.Subscriber}});var y=mn();Object.defineProperty(e,"Notification",{enumerable:true,get:function(){return y.Notification}});Object.defineProperty(e,"NotificationKind",{enumerable:true,get:function(){return y.NotificationKind}});var w=ie();Object.defineProperty(e,"pipe",{enumerable:true,get:function(){return w.pipe}});var O=W();Object.defineProperty(e,"noop",{enumerable:true,get:function(){return O.noop}});var j=re();Object.defineProperty(e,"identity",{enumerable:true,get:function(){return j.identity}});var x=_n();Object.defineProperty(e,"isObservable",{enumerable:true,get:function(){return x.isObservable}});var k=xn();Object.defineProperty(e,"lastValueFrom",{enumerable:true,get:function(){return k.lastValueFrom}});var A=En();Object.defineProperty(e,"firstValueFrom",{enumerable:true,get:function(){return A.firstValueFrom}});var E=In();Object.defineProperty(e,"ArgumentOutOfRangeError",{enumerable:true,get:function(){return E.ArgumentOutOfRangeError}});var T=jn();Object.defineProperty(e,"EmptyError",{enumerable:true,get:function(){return T.EmptyError}});var I=Pn();Object.defineProperty(e,"NotFoundError",{enumerable:true,get:function(){return I.NotFoundError}});var F=Ie();Object.defineProperty(e,"ObjectUnsubscribedError",{enumerable:true,get:function(){return F.ObjectUnsubscribedError}});var P=Ln();Object.defineProperty(e,"SequenceError",{enumerable:true,get:function(){return P.SequenceError}});var N=Un();Object.defineProperty(e,"TimeoutError",{enumerable:true,get:function(){return N.TimeoutError}});var H=M();Object.defineProperty(e,"UnsubscriptionError",{enumerable:true,get:function(){return H.UnsubscriptionError}});var L=ti();Object.defineProperty(e,"bindCallback",{enumerable:true,get:function(){return L.bindCallback}});var R=ii();Object.defineProperty(e,"bindNodeCallback",{enumerable:true,get:function(){return R.bindNodeCallback}});var z=di();Object.defineProperty(e,"combineLatest",{enumerable:true,get:function(){return z.combineLatest}});var D=Ei();Object.defineProperty(e,"concat",{enumerable:true,get:function(){return D.concat}});var B=Pi();Object.defineProperty(e,"connectable",{enumerable:true,get:function(){return B.connectable}});var U=Ci();Object.defineProperty(e,"defer",{enumerable:true,get:function(){return U.defer}});var $=Kt();Object.defineProperty(e,"empty",{enumerable:true,get:function(){return $.empty}});var q=Li();Object.defineProperty(e,"forkJoin",{enumerable:true,get:function(){return q.forkJoin}});var V=ln();Object.defineProperty(e,"from",{enumerable:true,get:function(){return V.from}});var G=Di();Object.defineProperty(e,"fromEvent",{enumerable:true,get:function(){return G.fromEvent}});var Y=Ui();Object.defineProperty(e,"fromEventPattern",{enumerable:true,get:function(){return Y.fromEventPattern}});var Q=Vi();Object.defineProperty(e,"generate",{enumerable:true,get:function(){return Q.generate}});var X=Ki();Object.defineProperty(e,"iif",{enumerable:true,get:function(){return X.iif}});var J=tu();Object.defineProperty(e,"interval",{enumerable:true,get:function(){return J.interval}});var ee=iu();Object.defineProperty(e,"merge",{enumerable:true,get:function(){return ee.merge}});var te=ou();Object.defineProperty(e,"never",{enumerable:true,get:function(){return te.never}});var ne=sn();Object.defineProperty(e,"of",{enumerable:true,get:function(){return ne.of}});var ue=du();Object.defineProperty(e,"onErrorResumeNext",{enumerable:true,get:function(){return ue.onErrorResumeNext}});var oe=mu();Object.defineProperty(e,"pairs",{enumerable:true,get:function(){return oe.pairs}});var fe=xu();Object.defineProperty(e,"partition",{enumerable:true,get:function(){return fe.partition}});var le=Eu();Object.defineProperty(e,"race",{enumerable:true,get:function(){return le.race}});var ce=Iu();Object.defineProperty(e,"range",{enumerable:true,get:function(){return ce.range}});var se=hn();Object.defineProperty(e,"throwError",{enumerable:true,get:function(){return se.throwError}});var ve=Ji();Object.defineProperty(e,"timer",{enumerable:true,get:function(){return ve.timer}});var de=Pu();Object.defineProperty(e,"using",{enumerable:true,get:function(){return de.using}});var he=Lu();Object.defineProperty(e,"zip",{enumerable:true,get:function(){return he.zip}});var be=on();Object.defineProperty(e,"scheduled",{enumerable:true,get:function(){return be.scheduled}});var ge=Kt();Object.defineProperty(e,"EMPTY",{enumerable:true,get:function(){return ge.EMPTY}});var _e=ou();Object.defineProperty(e,"NEVER",{enumerable:true,get:function(){return _e.NEVER}});r(Du(),e);var ye=C();Object.defineProperty(e,"config",{enumerable:true,get:function(){return ye.config}});var we=Uu();Object.defineProperty(e,"audit",{enumerable:true,get:function(){return we.audit}});var Oe=Vu();Object.defineProperty(e,"auditTime",{enumerable:true,get:function(){return Oe.auditTime}});var je=Ku();Object.defineProperty(e,"buffer",{enumerable:true,get:function(){return je.buffer}});var Me=Zu();Object.defineProperty(e,"bufferCount",{enumerable:true,get:function(){return Me.bufferCount}});var xe=ta();Object.defineProperty(e,"bufferTime",{enumerable:true,get:function(){return xe.bufferTime}});var ke=ia();Object.defineProperty(e,"bufferToggle",{enumerable:true,get:function(){return ke.bufferToggle}});var Ee=oa();Object.defineProperty(e,"bufferWhen",{enumerable:true,get:function(){return Ee.bufferWhen}});var Se=ca();Object.defineProperty(e,"catchError",{enumerable:true,get:function(){return Se.catchError}});var Te=Ea();Object.defineProperty(e,"combineAll",{enumerable:true,get:function(){return Te.combineAll}});var Ce=ka();Object.defineProperty(e,"combineLatestAll",{enumerable:true,get:function(){return Ce.combineLatestAll}});var Pe=Pa();Object.defineProperty(e,"combineLatestWith",{enumerable:true,get:function(){return Pe.combineLatestWith}});var Ne=ki();Object.defineProperty(e,"concatAll",{enumerable:true,get:function(){return Ne.concatAll}});var Le=La();Object.defineProperty(e,"concatMap",{enumerable:true,get:function(){return Le.concatMap}});var Re=Da();Object.defineProperty(e,"concatMapTo",{enumerable:true,get:function(){return Re.concatMapTo}});var ze=Va();Object.defineProperty(e,"concatWith",{enumerable:true,get:function(){return ze.concatWith}});var De=Za();Object.defineProperty(e,"connect",{enumerable:true,get:function(){return De.connect}});var We=to();Object.defineProperty(e,"count",{enumerable:true,get:function(){return We.count}});var Ue=io();Object.defineProperty(e,"debounce",{enumerable:true,get:function(){return Ue.debounce}});var $e=oo();Object.defineProperty(e,"debounceTime",{enumerable:true,get:function(){return $e.debounceTime}});var Ve=co();Object.defineProperty(e,"defaultIfEmpty",{enumerable:true,get:function(){return Ve.defaultIfEmpty}});var Ge=ko();Object.defineProperty(e,"delay",{enumerable:true,get:function(){return Ge.delay}});var Ye=Mo();Object.defineProperty(e,"delayWhen",{enumerable:true,get:function(){return Ye.delayWhen}});var Ke=So();Object.defineProperty(e,"dematerialize",{enumerable:true,get:function(){return Ke.dematerialize}});var Qe=Co();Object.defineProperty(e,"distinct",{enumerable:true,get:function(){return Qe.distinct}});var Xe=No();Object.defineProperty(e,"distinctUntilChanged",{enumerable:true,get:function(){return Xe.distinctUntilChanged}});var Ze=Ro();Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:true,get:function(){return Ze.distinctUntilKeyChanged}});var Je=$o();Object.defineProperty(e,"elementAt",{enumerable:true,get:function(){return Je.elementAt}});var et=Go();Object.defineProperty(e,"endWith",{enumerable:true,get:function(){return et.endWith}});var tt=Qo();Object.defineProperty(e,"every",{enumerable:true,get:function(){return tt.every}});var rt=af();Object.defineProperty(e,"exhaust",{enumerable:true,get:function(){return rt.exhaust}});var nt=nf();Object.defineProperty(e,"exhaustAll",{enumerable:true,get:function(){return nt.exhaustAll}});var it=tf();Object.defineProperty(e,"exhaustMap",{enumerable:true,get:function(){return it.exhaustMap}});var ut=lf();Object.defineProperty(e,"expand",{enumerable:true,get:function(){return ut.expand}});var at=ju();Object.defineProperty(e,"filter",{enumerable:true,get:function(){return at.filter}});var ot=vf();Object.defineProperty(e,"finalize",{enumerable:true,get:function(){return ot.finalize}});var ft=bf();Object.defineProperty(e,"find",{enumerable:true,get:function(){return ft.find}});var lt=pf();Object.defineProperty(e,"findIndex",{enumerable:true,get:function(){return lt.findIndex}});var ct=wf();Object.defineProperty(e,"first",{enumerable:true,get:function(){return ct.first}});var st=Mf();Object.defineProperty(e,"groupBy",{enumerable:true,get:function(){return st.groupBy}});var vt=_o();Object.defineProperty(e,"ignoreElements",{enumerable:true,get:function(){return vt.ignoreElements}});var dt=Af();Object.defineProperty(e,"isEmpty",{enumerable:true,get:function(){return dt.isEmpty}});var ht=Ff();Object.defineProperty(e,"last",{enumerable:true,get:function(){return ht.last}});var mt=Kn();Object.defineProperty(e,"map",{enumerable:true,get:function(){return mt.map}});var gt=Oo();Object.defineProperty(e,"mapTo",{enumerable:true,get:function(){return gt.mapTo}});var pt=Hf();Object.defineProperty(e,"materialize",{enumerable:true,get:function(){return pt.materialize}});var _t=zf();Object.defineProperty(e,"max",{enumerable:true,get:function(){return _t.max}});var yt=Mi();Object.defineProperty(e,"mergeAll",{enumerable:true,get:function(){return yt.mergeAll}});var Ot=Bf();Object.defineProperty(e,"flatMap",{enumerable:true,get:function(){return Ot.flatMap}});var jt=Oi();Object.defineProperty(e,"mergeMap",{enumerable:true,get:function(){return jt.mergeMap}});var xt=qf();Object.defineProperty(e,"mergeMapTo",{enumerable:true,get:function(){return xt.mergeMapTo}});var kt=Yf();Object.defineProperty(e,"mergeScan",{enumerable:true,get:function(){return kt.mergeScan}});var At=el();Object.defineProperty(e,"mergeWith",{enumerable:true,get:function(){return At.mergeWith}});var Et=nl();Object.defineProperty(e,"min",{enumerable:true,get:function(){return Et.min}});var St=al();Object.defineProperty(e,"multicast",{enumerable:true,get:function(){return St.multicast}});var Tt=Rr();Object.defineProperty(e,"observeOn",{enumerable:true,get:function(){return Tt.observeOn}});var It=ll();Object.defineProperty(e,"onErrorResumeNextWith",{enumerable:true,get:function(){return It.onErrorResumeNextWith}});var Ct=vl();Object.defineProperty(e,"pairwise",{enumerable:true,get:function(){return Ct.pairwise}});var Pt=bl();Object.defineProperty(e,"pluck",{enumerable:true,get:function(){return Pt.pluck}});var Nt=pl();Object.defineProperty(e,"publish",{enumerable:true,get:function(){return Nt.publish}});var Ht=wl();Object.defineProperty(e,"publishBehavior",{enumerable:true,get:function(){return Ht.publishBehavior}});var Lt=Ml();Object.defineProperty(e,"publishLast",{enumerable:true,get:function(){return Lt.publishLast}});var Rt=Al();Object.defineProperty(e,"publishReplay",{enumerable:true,get:function(){return Rt.publishReplay}});var zt=Tl();Object.defineProperty(e,"raceWith",{enumerable:true,get:function(){return zt.raceWith}});var Dt=ya();Object.defineProperty(e,"reduce",{enumerable:true,get:function(){return Dt.reduce}});var Wt=Fl();Object.defineProperty(e,"repeat",{enumerable:true,get:function(){return Wt.repeat}});var Ut=Hl();Object.defineProperty(e,"repeatWhen",{enumerable:true,get:function(){return Ut.repeatWhen}});var $t=zl();Object.defineProperty(e,"retry",{enumerable:true,get:function(){return $t.retry}});var Vt=Bl();Object.defineProperty(e,"retryWhen",{enumerable:true,get:function(){return Vt.retryWhen}});var Gt=me();Object.defineProperty(e,"refCount",{enumerable:true,get:function(){return Gt.refCount}});var Yt=ql();Object.defineProperty(e,"sample",{enumerable:true,get:function(){return Yt.sample}});var Qt=Yl();Object.defineProperty(e,"sampleTime",{enumerable:true,get:function(){return Qt.sampleTime}});var Xt=Xl();Object.defineProperty(e,"scan",{enumerable:true,get:function(){return Xt.scan}});var Zt=ec();Object.defineProperty(e,"sequenceEqual",{enumerable:true,get:function(){return Zt.sequenceEqual}});var Jt=nc();Object.defineProperty(e,"share",{enumerable:true,get:function(){return Jt.share}});var er=ac();Object.defineProperty(e,"shareReplay",{enumerable:true,get:function(){return er.shareReplay}});var tr=lc();Object.defineProperty(e,"single",{enumerable:true,get:function(){return tr.single}});var rr=vc();Object.defineProperty(e,"skip",{enumerable:true,get:function(){return rr.skip}});var nr=bc();Object.defineProperty(e,"skipLast",{enumerable:true,get:function(){return nr.skipLast}});var ir=pc();Object.defineProperty(e,"skipUntil",{enumerable:true,get:function(){return ir.skipUntil}});var ur=wc();Object.defineProperty(e,"skipWhile",{enumerable:true,get:function(){return ur.skipWhile}});var ar=Mc();Object.defineProperty(e,"startWith",{enumerable:true,get:function(){return ar.startWith}});var or=Wr();Object.defineProperty(e,"subscribeOn",{enumerable:true,get:function(){return or.subscribeOn}});var fr=Tc();Object.defineProperty(e,"switchAll",{enumerable:true,get:function(){return fr.switchAll}});var lr=Ec();Object.defineProperty(e,"switchMap",{enumerable:true,get:function(){return lr.switchMap}});var cr=Fc();Object.defineProperty(e,"switchMapTo",{enumerable:true,get:function(){return cr.switchMapTo}});var sr=Hc();Object.defineProperty(e,"switchScan",{enumerable:true,get:function(){return sr.switchScan}});var vr=mo();Object.defineProperty(e,"take",{enumerable:true,get:function(){return vr.take}});var dr=If();Object.defineProperty(e,"takeLast",{enumerable:true,get:function(){return dr.takeLast}});var hr=zc();Object.defineProperty(e,"takeUntil",{enumerable:true,get:function(){return hr.takeUntil}});var br=Bc();Object.defineProperty(e,"takeWhile",{enumerable:true,get:function(){return br.takeWhile}});var mr=qc();Object.defineProperty(e,"tap",{enumerable:true,get:function(){return mr.tap}});var gr=Yc();Object.defineProperty(e,"throttle",{enumerable:true,get:function(){return gr.throttle}});var pr=Xc();Object.defineProperty(e,"throttleTime",{enumerable:true,get:function(){return pr.throttleTime}});var _r=Bo();Object.defineProperty(e,"throwIfEmpty",{enumerable:true,get:function(){return _r.throwIfEmpty}});var yr=es();Object.defineProperty(e,"timeInterval",{enumerable:true,get:function(){return yr.timeInterval}});var wr=Un();Object.defineProperty(e,"timeout",{enumerable:true,get:function(){return wr.timeout}});var Or=ns();Object.defineProperty(e,"timeoutWith",{enumerable:true,get:function(){return Or.timeoutWith}});var jr=as();Object.defineProperty(e,"timestamp",{enumerable:true,get:function(){return jr.timestamp}});var Mr=Oa();Object.defineProperty(e,"toArray",{enumerable:true,get:function(){return Mr.toArray}});var xr=ls();Object.defineProperty(e,"window",{enumerable:true,get:function(){return xr.window}});var kr=vs();Object.defineProperty(e,"windowCount",{enumerable:true,get:function(){return kr.windowCount}});var Ar=bs();Object.defineProperty(e,"windowTime",{enumerable:true,get:function(){return Ar.windowTime}});var Er=ps();Object.defineProperty(e,"windowToggle",{enumerable:true,get:function(){return Er.windowToggle}});var Sr=ws();Object.defineProperty(e,"windowWhen",{enumerable:true,get:function(){return Sr.windowWhen}});var Tr=Ms();Object.defineProperty(e,"withLatestFrom",{enumerable:true,get:function(){return Tr.withLatestFrom}});var Ir=As();Object.defineProperty(e,"zipAll",{enumerable:true,get:function(){return Ir.zipAll}});var Cr=Fs();Object.defineProperty(e,"zipWith",{enumerable:true,get:function(){return Cr.zipWith}})})(v);return v}var Hs=Ns();var Ls={};var Rs={};var zs;function Ds(){if(zs)return Rs;zs=1;Object.defineProperty(Rs,"__esModule",{value:true});Rs.partition=void 0;var e=yu();var t=ju();function r(r,n){return function(i){return[t.filter(r,n)(i),t.filter(e.not(r,n))(i)]}}Rs.partition=r;return Rs}var Ws={};var Bs;function Us(){if(Bs)return Ws;Bs=1;var e=Ws&&Ws.__read||function(e,t){var r=typeof Symbol==="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,u=[],a;try{while((t===void 0||t-- >0)&&!(i=n.next()).done)u.push(i.value)}catch(e){a={error:e}}finally{try{if(i&&!i.done&&(r=n["return"]))r.call(n)}finally{if(a)throw a.error}}return u};var t=Ws&&Ws.__spreadArray||function(e,t){for(var r=0,n=t.length,i=e.length;r<n;r++,i++)e[i]=t[r];return e};Object.defineProperty(Ws,"__esModule",{value:true});Ws.race=void 0;var r=su();var n=Tl();function i(){var i=[];for(var u=0;u<arguments.length;u++){i[u]=arguments[u]}return n.raceWith.apply(void 0,t([],e(r.argsOrArgArray(i))))}Ws.race=i;return Ws}var $s;function qs(){if($s)return Ls;$s=1;(function(e){Object.defineProperty(e,"__esModule",{value:true});e.mergeAll=e.merge=e.max=e.materialize=e.mapTo=e.map=e.last=e.isEmpty=e.ignoreElements=e.groupBy=e.first=e.findIndex=e.find=e.finalize=e.filter=e.expand=e.exhaustMap=e.exhaustAll=e.exhaust=e.every=e.endWith=e.elementAt=e.distinctUntilKeyChanged=e.distinctUntilChanged=e.distinct=e.dematerialize=e.delayWhen=e.delay=e.defaultIfEmpty=e.debounceTime=e.debounce=e.count=e.connect=e.concatWith=e.concatMapTo=e.concatMap=e.concatAll=e.concat=e.combineLatestWith=e.combineLatest=e.combineLatestAll=e.combineAll=e.catchError=e.bufferWhen=e.bufferToggle=e.bufferTime=e.bufferCount=e.buffer=e.auditTime=e.audit=void 0;e.timeInterval=e.throwIfEmpty=e.throttleTime=e.throttle=e.tap=e.takeWhile=e.takeUntil=e.takeLast=e.take=e.switchScan=e.switchMapTo=e.switchMap=e.switchAll=e.subscribeOn=e.startWith=e.skipWhile=e.skipUntil=e.skipLast=e.skip=e.single=e.shareReplay=e.share=e.sequenceEqual=e.scan=e.sampleTime=e.sample=e.refCount=e.retryWhen=e.retry=e.repeatWhen=e.repeat=e.reduce=e.raceWith=e.race=e.publishReplay=e.publishLast=e.publishBehavior=e.publish=e.pluck=e.partition=e.pairwise=e.onErrorResumeNext=e.observeOn=e.multicast=e.min=e.mergeWith=e.mergeScan=e.mergeMapTo=e.mergeMap=e.flatMap=void 0;e.zipWith=e.zipAll=e.zip=e.withLatestFrom=e.windowWhen=e.windowToggle=e.windowTime=e.windowCount=e.window=e.toArray=e.timestamp=e.timeoutWith=e.timeout=void 0;var t=Uu();Object.defineProperty(e,"audit",{enumerable:true,get:function(){return t.audit}});var r=Vu();Object.defineProperty(e,"auditTime",{enumerable:true,get:function(){return r.auditTime}});var n=Ku();Object.defineProperty(e,"buffer",{enumerable:true,get:function(){return n.buffer}});var i=Zu();Object.defineProperty(e,"bufferCount",{enumerable:true,get:function(){return i.bufferCount}});var u=ta();Object.defineProperty(e,"bufferTime",{enumerable:true,get:function(){return u.bufferTime}});var a=ia();Object.defineProperty(e,"bufferToggle",{enumerable:true,get:function(){return a.bufferToggle}});var o=oa();Object.defineProperty(e,"bufferWhen",{enumerable:true,get:function(){return o.bufferWhen}});var f=ca();Object.defineProperty(e,"catchError",{enumerable:true,get:function(){return f.catchError}});var l=Ea();Object.defineProperty(e,"combineAll",{enumerable:true,get:function(){return l.combineAll}});var c=ka();Object.defineProperty(e,"combineLatestAll",{enumerable:true,get:function(){return c.combineLatestAll}});var s=Ca();Object.defineProperty(e,"combineLatest",{enumerable:true,get:function(){return s.combineLatest}});var v=Pa();Object.defineProperty(e,"combineLatestWith",{enumerable:true,get:function(){return v.combineLatestWith}});var d=$a();Object.defineProperty(e,"concat",{enumerable:true,get:function(){return d.concat}});var h=ki();Object.defineProperty(e,"concatAll",{enumerable:true,get:function(){return h.concatAll}});var b=La();Object.defineProperty(e,"concatMap",{enumerable:true,get:function(){return b.concatMap}});var m=Da();Object.defineProperty(e,"concatMapTo",{enumerable:true,get:function(){return m.concatMapTo}});var g=Va();Object.defineProperty(e,"concatWith",{enumerable:true,get:function(){return g.concatWith}});var p=Za();Object.defineProperty(e,"connect",{enumerable:true,get:function(){return p.connect}});var _=to();Object.defineProperty(e,"count",{enumerable:true,get:function(){return _.count}});var y=io();Object.defineProperty(e,"debounce",{enumerable:true,get:function(){return y.debounce}});var w=oo();Object.defineProperty(e,"debounceTime",{enumerable:true,get:function(){return w.debounceTime}});var O=co();Object.defineProperty(e,"defaultIfEmpty",{enumerable:true,get:function(){return O.defaultIfEmpty}});var j=ko();Object.defineProperty(e,"delay",{enumerable:true,get:function(){return j.delay}});var M=Mo();Object.defineProperty(e,"delayWhen",{enumerable:true,get:function(){return M.delayWhen}});var x=So();Object.defineProperty(e,"dematerialize",{enumerable:true,get:function(){return x.dematerialize}});var k=Co();Object.defineProperty(e,"distinct",{enumerable:true,get:function(){return k.distinct}});var A=No();Object.defineProperty(e,"distinctUntilChanged",{enumerable:true,get:function(){return A.distinctUntilChanged}});var E=Ro();Object.defineProperty(e,"distinctUntilKeyChanged",{enumerable:true,get:function(){return E.distinctUntilKeyChanged}});var S=$o();Object.defineProperty(e,"elementAt",{enumerable:true,get:function(){return S.elementAt}});var T=Go();Object.defineProperty(e,"endWith",{enumerable:true,get:function(){return T.endWith}});var I=Qo();Object.defineProperty(e,"every",{enumerable:true,get:function(){return I.every}});var C=af();Object.defineProperty(e,"exhaust",{enumerable:true,get:function(){return C.exhaust}});var F=nf();Object.defineProperty(e,"exhaustAll",{enumerable:true,get:function(){return F.exhaustAll}});var P=tf();Object.defineProperty(e,"exhaustMap",{enumerable:true,get:function(){return P.exhaustMap}});var N=lf();Object.defineProperty(e,"expand",{enumerable:true,get:function(){return N.expand}});var H=ju();Object.defineProperty(e,"filter",{enumerable:true,get:function(){return H.filter}});var L=vf();Object.defineProperty(e,"finalize",{enumerable:true,get:function(){return L.finalize}});var R=bf();Object.defineProperty(e,"find",{enumerable:true,get:function(){return R.find}});var z=pf();Object.defineProperty(e,"findIndex",{enumerable:true,get:function(){return z.findIndex}});var D=wf();Object.defineProperty(e,"first",{enumerable:true,get:function(){return D.first}});var W=Mf();Object.defineProperty(e,"groupBy",{enumerable:true,get:function(){return W.groupBy}});var B=_o();Object.defineProperty(e,"ignoreElements",{enumerable:true,get:function(){return B.ignoreElements}});var U=Af();Object.defineProperty(e,"isEmpty",{enumerable:true,get:function(){return U.isEmpty}});var $=Ff();Object.defineProperty(e,"last",{enumerable:true,get:function(){return $.last}});var q=Kn();Object.defineProperty(e,"map",{enumerable:true,get:function(){return q.map}});var V=Oo();Object.defineProperty(e,"mapTo",{enumerable:true,get:function(){return V.mapTo}});var G=Hf();Object.defineProperty(e,"materialize",{enumerable:true,get:function(){return G.materialize}});var Y=zf();Object.defineProperty(e,"max",{enumerable:true,get:function(){return Y.max}});var K=Zf();Object.defineProperty(e,"merge",{enumerable:true,get:function(){return K.merge}});var Q=Mi();Object.defineProperty(e,"mergeAll",{enumerable:true,get:function(){return Q.mergeAll}});var X=Bf();Object.defineProperty(e,"flatMap",{enumerable:true,get:function(){return X.flatMap}});var Z=Oi();Object.defineProperty(e,"mergeMap",{enumerable:true,get:function(){return Z.mergeMap}});var J=qf();Object.defineProperty(e,"mergeMapTo",{enumerable:true,get:function(){return J.mergeMapTo}});var ee=Yf();Object.defineProperty(e,"mergeScan",{enumerable:true,get:function(){return ee.mergeScan}});var te=el();Object.defineProperty(e,"mergeWith",{enumerable:true,get:function(){return te.mergeWith}});var re=nl();Object.defineProperty(e,"min",{enumerable:true,get:function(){return re.min}});var ne=al();Object.defineProperty(e,"multicast",{enumerable:true,get:function(){return ne.multicast}});var ie=Rr();Object.defineProperty(e,"observeOn",{enumerable:true,get:function(){return ie.observeOn}});var ue=ll();Object.defineProperty(e,"onErrorResumeNext",{enumerable:true,get:function(){return ue.onErrorResumeNext}});var ae=vl();Object.defineProperty(e,"pairwise",{enumerable:true,get:function(){return ae.pairwise}});var oe=Ds();Object.defineProperty(e,"partition",{enumerable:true,get:function(){return oe.partition}});var fe=bl();Object.defineProperty(e,"pluck",{enumerable:true,get:function(){return fe.pluck}});var le=pl();Object.defineProperty(e,"publish",{enumerable:true,get:function(){return le.publish}});var ce=wl();Object.defineProperty(e,"publishBehavior",{enumerable:true,get:function(){return ce.publishBehavior}});var se=Ml();Object.defineProperty(e,"publishLast",{enumerable:true,get:function(){return se.publishLast}});var ve=Al();Object.defineProperty(e,"publishReplay",{enumerable:true,get:function(){return ve.publishReplay}});var de=Us();Object.defineProperty(e,"race",{enumerable:true,get:function(){return de.race}});var he=Tl();Object.defineProperty(e,"raceWith",{enumerable:true,get:function(){return he.raceWith}});var be=ya();Object.defineProperty(e,"reduce",{enumerable:true,get:function(){return be.reduce}});var ge=Fl();Object.defineProperty(e,"repeat",{enumerable:true,get:function(){return ge.repeat}});var pe=Hl();Object.defineProperty(e,"repeatWhen",{enumerable:true,get:function(){return pe.repeatWhen}});var _e=zl();Object.defineProperty(e,"retry",{enumerable:true,get:function(){return _e.retry}});var ye=Bl();Object.defineProperty(e,"retryWhen",{enumerable:true,get:function(){return ye.retryWhen}});var we=me();Object.defineProperty(e,"refCount",{enumerable:true,get:function(){return we.refCount}});var Oe=ql();Object.defineProperty(e,"sample",{enumerable:true,get:function(){return Oe.sample}});var je=Yl();Object.defineProperty(e,"sampleTime",{enumerable:true,get:function(){return je.sampleTime}});var Me=Xl();Object.defineProperty(e,"scan",{enumerable:true,get:function(){return Me.scan}});var xe=ec();Object.defineProperty(e,"sequenceEqual",{enumerable:true,get:function(){return xe.sequenceEqual}});var ke=nc();Object.defineProperty(e,"share",{enumerable:true,get:function(){return ke.share}});var Ae=ac();Object.defineProperty(e,"shareReplay",{enumerable:true,get:function(){return Ae.shareReplay}});var Ee=lc();Object.defineProperty(e,"single",{enumerable:true,get:function(){return Ee.single}});var Se=vc();Object.defineProperty(e,"skip",{enumerable:true,get:function(){return Se.skip}});var Te=bc();Object.defineProperty(e,"skipLast",{enumerable:true,get:function(){return Te.skipLast}});var Ie=pc();Object.defineProperty(e,"skipUntil",{enumerable:true,get:function(){return Ie.skipUntil}});var Ce=wc();Object.defineProperty(e,"skipWhile",{enumerable:true,get:function(){return Ce.skipWhile}});var Fe=Mc();Object.defineProperty(e,"startWith",{enumerable:true,get:function(){return Fe.startWith}});var Pe=Wr();Object.defineProperty(e,"subscribeOn",{enumerable:true,get:function(){return Pe.subscribeOn}});var Ne=Tc();Object.defineProperty(e,"switchAll",{enumerable:true,get:function(){return Ne.switchAll}});var He=Ec();Object.defineProperty(e,"switchMap",{enumerable:true,get:function(){return He.switchMap}});var Le=Fc();Object.defineProperty(e,"switchMapTo",{enumerable:true,get:function(){return Le.switchMapTo}});var Re=Hc();Object.defineProperty(e,"switchScan",{enumerable:true,get:function(){return Re.switchScan}});var ze=mo();Object.defineProperty(e,"take",{enumerable:true,get:function(){return ze.take}});var De=If();Object.defineProperty(e,"takeLast",{enumerable:true,get:function(){return De.takeLast}});var We=zc();Object.defineProperty(e,"takeUntil",{enumerable:true,get:function(){return We.takeUntil}});var Be=Bc();Object.defineProperty(e,"takeWhile",{enumerable:true,get:function(){return Be.takeWhile}});var Ue=qc();Object.defineProperty(e,"tap",{enumerable:true,get:function(){return Ue.tap}});var $e=Yc();Object.defineProperty(e,"throttle",{enumerable:true,get:function(){return $e.throttle}});var qe=Xc();Object.defineProperty(e,"throttleTime",{enumerable:true,get:function(){return qe.throttleTime}});var Ve=Bo();Object.defineProperty(e,"throwIfEmpty",{enumerable:true,get:function(){return Ve.throwIfEmpty}});var Ge=es();Object.defineProperty(e,"timeInterval",{enumerable:true,get:function(){return Ge.timeInterval}});var Ye=Un();Object.defineProperty(e,"timeout",{enumerable:true,get:function(){return Ye.timeout}});var Ke=ns();Object.defineProperty(e,"timeoutWith",{enumerable:true,get:function(){return Ke.timeoutWith}});var Qe=as();Object.defineProperty(e,"timestamp",{enumerable:true,get:function(){return Qe.timestamp}});var Xe=Oa();Object.defineProperty(e,"toArray",{enumerable:true,get:function(){return Xe.toArray}});var Ze=ls();Object.defineProperty(e,"window",{enumerable:true,get:function(){return Ze.window}});var Je=vs();Object.defineProperty(e,"windowCount",{enumerable:true,get:function(){return Je.windowCount}});var et=bs();Object.defineProperty(e,"windowTime",{enumerable:true,get:function(){return et.windowTime}});var tt=ps();Object.defineProperty(e,"windowToggle",{enumerable:true,get:function(){return tt.windowToggle}});var rt=ws();Object.defineProperty(e,"windowWhen",{enumerable:true,get:function(){return rt.windowWhen}});var nt=Ms();Object.defineProperty(e,"withLatestFrom",{enumerable:true,get:function(){return nt.withLatestFrom}});var it=Is();Object.defineProperty(e,"zip",{enumerable:true,get:function(){return it.zip}});var ut=As();Object.defineProperty(e,"zipAll",{enumerable:true,get:function(){return ut.zipAll}});var at=Fs();Object.defineProperty(e,"zipWith",{enumerable:true,get:function(){return at.zipWith}})})(Ls);return Ls}var Vs=qs();const Gs="RAUserPreferences";const Ys="0.1";function Ks(){return/iPad|iPhone|iPod/.test(navigator.userAgent)}async function Qs(e){let t=await fetch(e);if(!t.ok){console.error(`fetch(${e}) failed with status ${t.status}`);return{pages:null,meta:null}}let r=await t.text();let n=new DOMParser;let i=n.parseFromString(r,"text/xml");return{pages:Xs(i),meta:Zs(i)}}function Xs(e){let t=Array.from(e.querySelectorAll("div[type=page]")).map((e=>{let t=e.querySelector("graphic[url]");let r=e.querySelectorAll("p");let n={id:e.getAttribute("id"),paragraphs:Array.from(r)};if(t!==null){n["img"]=t.getAttribute("url")}if(e.attributes)n["attributes"]=e.attributes;return n}));return t}function Zs(e){let t={};Array.from(e.querySelectorAll("meta")).forEach((e=>{const r=e.getAttribute("name");let n=e.getAttribute("content");t[r]=n.trim()}));return t}function Js(e){let t={};for(const r of e){for(const e of r.paragraphs){for(const r of Array.from(e.querySelectorAll("w[time][dur]"))){const e=r.getAttribute("time");const n=r.getAttribute("dur");if(e!==null&&n!==null)t[r.getAttribute("id")]=[Math.round(parseFloat(e)*1e3),Math.round(parseFloat(n)*1e3)]}}}return t}var ev=function(e){var t=this;const r=Ks();t.sounds=[];t._sprite=e.sprite;t._reading$=new Hs.Subject;t._tinySprite=Object.keys(e.sprite).map((e=>[t._sprite[e][0],e,t._sprite[e][0]+t._sprite[e][1]]));t._tinySprite.pop();t._percentPlayed=new Hs.BehaviorSubject("0%");t.sound=new s.Howl({src:e.src,sprite:e.sprite,rate:e.rate,html5:r,onend:function(){t._reading$.next("")}});requestAnimationFrame(t.step.bind(t))};ev.prototype={play:function(e){var t=this;t._spriteLeft=t._tinySprite;var r=e;var n=t.sound.play(r);return n},pause:function(){var e=this;e.sound.pause();return e.sound.id},goBack:function(e,t){var r=this;r._spriteLeft=r._tinySprite;if(r.sound.seek(e=e)-t>0){var e=r.sound.seek(r.sound.seek(e=e)-t,e);var n=r.sound.seek(e=e);for(var i=0;i<r._spriteLeft.length;i++){if(n*1e3>=r._spriteLeft[i][0]){if(n*1e3<=r._spriteLeft[i][2]){r._reading$.next(r._spriteLeft[i][1])}r._spriteLeft=r._spriteLeft.slice(i,r._spriteLeft.length)}}r._reading$.next(r._spriteLeft[0][1])}else{var e=r.sound.seek(0,e);r._reading$.next(r._spriteLeft[0][1])}return e},goTo:function(e,t){var r=this;r._spriteLeft=r._tinySprite;var e=r.sound.seek(t,e);var n=r.sound.seek(e=e)*1e3;for(var i=0;i<r._spriteLeft.length;i++){if(n>=r._spriteLeft[i][0]){if(n<=r._spriteLeft[i][2]){r._reading$.next(r._spriteLeft[i][1]);e=r.sound.seek(r._spriteLeft[i][0],e);r.sound.seek(e=e);r._spriteLeft=r._spriteLeft.slice(i,r._spriteLeft.length);break}}}if(r.sounds.length){const n=(Math.round(t/r.sound.duration(e)*100)||0)+"%";r.sounds[0].style.width=n;r.sounds[0].setAttribute("offset",n)}return e},stop:function(){var e=this;e._reading$.next("");var t=e.sound.stop();return t},step:function(){var e=this;for(var t=0;t<e.sounds.length;t++){var r=e.sound.seek()||0;for(var n=0;n<e._spriteLeft.length;n++){if(r>0){if(r*1e3>=e._spriteLeft[n][0]){if(r*1e3<=e._spriteLeft[n][2]){e._reading$.next(e._spriteLeft[n][1])}e._spriteLeft=e._spriteLeft.slice(n,e._spriteLeft.length)}}}let i=(r/e.sound.duration()*100||0)+"%";e.sounds[t].style.width=i;e.sounds[t].setAttribute("offset",i)}requestAnimationFrame(e.step.bind(e))}};async function tv(e){return new Promise((function(t,r){let n=new XMLHttpRequest;n.open("HEAD",e);n.onload=function(){if(this.status>=200&&this.status<300){t(true)}else{t(false)}};n.onerror=function(){t(false)};n.send()}))}const rv=()=>{const e=window.localStorage.getItem(Gs);if(e&&e.length){const t=JSON.parse(e);if(t.version&&t.version===Ys){return t}}return null};const nv=e=>{window.localStorage.setItem(Gs,JSON.stringify(e))};const iv=()=>window.localStorage.getItem(Gs)!==null;const uv=()=>{window.localStorage.removeItem(Gs)};const av=e=>e.innerHTML.includes("</w>");const ov={page:"Page",speed:"Playback Speed","re-align":"Re-align with audio","loading-error":'Error: the <FILETYPE> file "<FILENAME>" could not be loaded.',"parse-error":'Error: the <FILETYPE> file "<FILENAME>" could not be parsed.',"alignment-error":"Error: No alignments were found.","image-error":'Error: the file "<FILENAME>" is not an image file.',loading:"Loading...","line-placeholder":"Type your text here","upload-image":"Upload an image for this page","choose-file":"Choose a file","play-tooltip":"Play/pause audio recording","rewind-tooltip":"Rewind 5 seconds","stop-tooltip":"Stop audio playback","theme-tooltip":"Toggle dark/light mode","full-screen-tooltip":"Full screen mode","translation-tooltip":"Toggle translations","add-translation":"Add a translation, transliteration or gloss","configuration-tooltip":"Preferences",settings:"My preferences","page-animation":"Animated page transitions","auto-pause":"Pause at the end of each page",language:"Interface language","save-settings":"Remember my preferences","reset-title":"Reset all preferences",reset:"Reset",eng:"English",fra:"French",spa:"Spanish",close:"Close","annotations-tooltip":"Annotations"};const fv={page:"Page",speed:"Vitesse de Lecture","re-align":"Raligner avec l'audio","loading-error":'Erreur: le fichier <FILETYPE> "<FILENAME>" n\'a pas pu tre charg.',"parse-error":'Erreur: le fichier <FILETYPE> "<FILENAME>" n\'a pas pu tre analys.',"alignment-error":"Erreur: aucun alignement n'a t trouv.","image-error":'Erreur: le fichier "<FILENAME>" n\'est pas un fichier image.',loading:"Chargement en cours","line-placeholder":"crivez votre texte ici","upload-image":"Ajouter une image  cette page","choose-file":"Choisir un fichier","play-tooltip":"couter/mettre en pause l'enregistrement","rewind-tooltip":"Reculer de 5 secondes","stop-tooltip":"Arrter la lecture","theme-tooltip":"Basculer en mode sombre/clair","full-screen-tooltip":"Mode plein cran","translation-tooltip":"Afficher ou cacher les traductions","add-translation":"Ajouter une traduction, une translitration ou une glose","configuration-tooltip":"Prfrences",settings:"Mes prfrences","page-animation":"Transitions de page animes","auto-pause":"Pause  la fin de chaque page",language:"Langue de l'interface","save-settings":"Sauvegarder mes prfrences","reset-title":"Rinitialiser toutes les prfrences",reset:"Rinitialiser",eng:"Anglais",fra:"Franais",spa:"Espagnol",close:"Fermer","annotations-tooltip":"Annotations"};const lv={page:"Pgina",speed:"Velocidad de reproduccin","re-align":"Re-alinear con el audio","loading-error":'Error: el fichero <FILETYPE> "<FILENAME>" no se pudo cargar.',"parse-error":'Error: el fichero <FILETYPE> "<FILENAME>" no se pudo analizar.',"alignment-error":"Error: No se encontr ningn alineamiento.","image-error":'Error: el fichero "<FILENAME>" no es un archivo de imagen.',loading:"Cargando...","line-placeholder":"Escriba su texto aqu","upload-image":"Cargue una imagen para esta pgina","choose-file":"Seleccione un fichero","play-tooltip":"Reproducir/pausar grabacin de audio","rewind-tooltip":"Rebobine (rewind) 5 segundos","stop-tooltip":"Pare la reproduccin de audio","theme-tooltip":"Cambie la paleta de colores","full-screen-tooltip":"Modo pantalla completa","translation-tooltip":"Active o desactive las traducciones","add-translation":"Aada una traduccin, transliteracin o glosa","configuration-tooltip":"Preferencias",settings:"Mis preferencias","page-animation":"Transicines de pgina animadas","auto-pause":"Pausa al final de cada pgina",language:"Idioma de la interfaz","save-settings":"Recordar mis preferencias","reset-title":"Restablecer todas las preferencias",reset:"Reinicializar",eng:"Ingls",fra:"Francs",spa:"Espaol",close:"Cerrar","annotations-tooltip":"Anotaciones"};const cv="1.6.3";const sv=()=>`.font-weight--100{font-weight:100}.font-weight--200{font-weight:200}.font-weight--300{font-weight:300}.font-weight--400{font-weight:400}.font-weight--500{font-weight:500}.font-weight--600{font-weight:600}.font-weight--700{font-weight:700}.font-weight--800{font-weight:800}.font-weight--900{font-weight:900}.shadowed{text-shadow:0.3px 0.2px black}.theme--light.settings,.theme--light.page__container,.theme--light.page__col__image,.theme--light.sentence,.theme--light.scroll-guide__container{background-color:#fff}.theme--dark.settings,.theme--dark.page__container,.theme--dark.page__col__image,.theme--dark.sentence,.theme--dark.scroll-guide__container{background-color:rgb(59.9272727273, 67.4181818182, 104.8727272727)}.sentence__text,.sentence__word,.scroll-guide__text{line-height:1.5;border-radius:0.3125em;position:relative;padding:0.0625em;font-size:1em}.theme--light.ripple,.theme--light.reading,.page p.theme--light,.theme--light.sentence__text,.theme--light.sentence__word,.theme--light.scroll-guide__text{color:rgb(4.2909090909, 4.8272727273, 7.5090909091)}.theme--dark.ripple,.theme--dark.reading,.page p.theme--dark,.theme--dark.sentence__text,.theme--dark.sentence__word,.theme--dark.scroll-guide__text{color:#fff}.theme--light.ripple:active,.theme--light.reading:active,.theme--light.sentence__word:hover{color:#fff;background:rgb(127.5, 127.5, 127.5) radial-gradient(circle, transparent 1%, rgb(127.5, 127.5, 127.5) 1%) center/15000%}.theme--dark.ripple:active,.theme--dark.reading:active,.theme--dark.sentence__word:hover{color:#fff;background:rgb(165.75, 165.75, 165.75) radial-gradient(circle, transparent 1%, rgb(165.75, 165.75, 165.75) 1%) center/15000%}.theme--light.sentence__word.reading{color:#fff;background:#666666 radial-gradient(circle, transparent 1%, #666666 1%) center/15000%}.theme--dark.sentence__word.reading{color:rgb(4.2909090909, 4.8272727273, 7.5090909091);background:#fff radial-gradient(circle, transparent 1%, #fff 1%) center/15000%}.theme--light.page__col__img-placeholder{border:0.046875em dotted rgb(127.5, 127.5, 127.5)}.theme--dark.page__col__img-placeholder{border:0.046875em dotted rgb(165.75, 165.75, 165.75)}.theme--light.overlay__container,.theme--light.scroll-guide__container{border:0.046875em solid rgb(127.5, 127.5, 127.5)}.theme--dark.overlay__container,.theme--dark.scroll-guide__container{border:0.046875em solid rgb(165.75, 165.75, 165.75)}.theme--light#annotationsMenu,.theme--light.settings,.theme--light.pages__container,.theme--light.page--multi,.theme--light.control-panel{border-left:0.046875em solid rgb(127.5, 127.5, 127.5)}.theme--dark#annotationsMenu,.theme--dark.settings,.theme--dark.pages__container,.theme--dark.page--multi,.theme--dark.control-panel{border-left:0.046875em solid rgb(165.75, 165.75, 165.75)}.theme--light#annotationsMenu,.theme--light.settings,.theme--light.pages__container,.theme--light.page--multi,.theme--light.control-panel{border-right:0.046875em solid rgb(127.5, 127.5, 127.5)}.theme--dark#annotationsMenu,.theme--dark.settings,.theme--dark.pages__container,.theme--dark.page--multi,.theme--dark.control-panel{border-right:0.046875em solid rgb(165.75, 165.75, 165.75)}.theme--light#annotationsMenu,#annotationsMenu button.theme--light,.theme--light.settings,.settings>.content>.theme--light.preference-btns,.settings>.theme--light.footer,.theme--light.pages__container{border-top:0.046875em solid rgb(127.5, 127.5, 127.5)}.theme--dark#annotationsMenu,#annotationsMenu button.theme--dark,.theme--dark.settings,.settings>.content>.theme--dark.preference-btns,.settings>.theme--dark.footer,.theme--dark.pages__container{border-top:0.046875em solid rgb(165.75, 165.75, 165.75)}.theme--light#annotationsMenu,#annotationsMenu h3.theme--light,#annotationsMenu button.theme--light,.theme--light.settings,.theme--light.control-panel{border-bottom:0.046875em solid rgb(127.5, 127.5, 127.5)}.theme--dark#annotationsMenu,#annotationsMenu h3.theme--dark,#annotationsMenu button.theme--dark,.theme--dark.settings,.theme--dark.control-panel{border-bottom:0.046875em solid rgb(165.75, 165.75, 165.75)}.ripple:hover,.reading:hover,.sentence__word:hover{cursor:pointer}@viewport{width:device-width}button{border:0;cursor:pointer}html{background-color:#fff;box-sizing:border-box;height:100%}*:before,*:after{box-sizing:inherit}body{-webkit-font-smoothing:antialiased;color:rgb(4.2909090909, 4.8272727273, 7.5090909091);font-family:"BCSans", "Noto Sans", Verdana, Arial, sans-serif;min-height:100%;overflow-x:hidden;overflow-y:hidden;text-rendering:optimizeLegibility}a{background:transparent;color:#c69;text-decoration:none;transition:color 0.2s;outline:none}a:active,a:focus{outline:none}img{height:90%;max-width:90%;object-fit:cover}h1,h2,h3,h4,h5,h6{font-family:"BCSans", "Noto Sans", Verdana, Arial, sans-serif;font-weight:normal}p,mat-chip,mat-tab-label,span,button,div,a{font-family:"BCSans", "Noto Sans", Verdana, Arial, sans-serif}.theme--light::-webkit-scrollbar{width:0.5em;height:0.5em}.theme--light::-webkit-scrollbar-track{background:#fff}.theme--light::-webkit-scrollbar-thumb{background:rgb(4.2909090909, 4.8272727273, 7.5090909091);border-radius:0.3125em;height:0.625em;width:0.625em}.theme--dark::-webkit-scrollbar{width:0.5em;height:0.5em}.theme--dark::-webkit-scrollbar-track{background:rgb(59.9272727273, 67.4181818182, 104.8727272727)}.theme--dark::-webkit-scrollbar-thumb{background:#fff;border-radius:0.3125em;height:0.625em;width:0.625em}.bg-img{background-image:url("../assets/img/bg.jpg");height:100vh;overflow:overlay;overflow-x:hidden;background-position:center;background-repeat:no-repeat;background-size:cover;min-height:100%}.shadow-box{box-shadow:0 0.3125rem 1rem 0 rgba(0, 0, 0, 0.24);padding:25px;background:rgba(255, 255, 255, 0.94);border-radius:5px}.font-xs{font-size:0.5em}.font-sm{font-size:0.75em}.font-md{font-size:1em}.font-lg{font-size:1.25em}.font-xl{font-size:1.5em}.font-xxl{font-size:2em}.faded{opacity:0.2;color:black}table{table-layout:fixed}.center{margin-left:auto;margin-right:auto;text-align:center}.container{max-width:80em}.background--light{background:#fff}.stop-color--light{fill:#fff}.color--light{color:rgb(4.2909090909, 4.8272727273, 7.5090909091)}.background--dark{background:rgb(59.9272727273, 67.4181818182, 104.8727272727)}.stop-color--dark{fill:rgb(59.9272727273, 67.4181818182, 104.8727272727)}.color--dark{color:#fff}.abs{position:absolute}.top-0{top:0}.left-0{left:0}.right-0{right:0}.top-5{top:0.3125em}.left-5{left:0.3125em}.right-5{right:0.3125em}.top-10{top:0.625em}.left-10{left:0.625em}.right-10{right:0.625em}.top-15{top:0.9375em}.left-15{left:0.9375em}.right-15{right:0.9375em}.top-20{top:1.25em}.left-20{left:1.25em}.right-20{right:1.25em}.top-25{top:1.5625em}.left-25{left:1.5625em}.right-25{right:1.5625em}.top-30{top:1.875em}.left-30{left:1.875em}.right-30{right:1.875em}.top-35{top:2.1875em}.left-35{left:2.1875em}.right-35{right:2.1875em}.top-40{top:2.5em}.left-40{left:2.5em}.right-40{right:2.5em}.top-45{top:2.8125em}.left-45{left:2.8125em}.right-45{right:2.8125em}.top-50{top:3.125em}.left-50{left:3.125em}.right-50{right:3.125em}.invisible{visibility:hidden !important}.control-panel{border-radius:0 0 0.3125em 0.3125em;position:relative;min-width:100%;display:inline-flex}.control-panel__buttons--left{width:25%;float:left;margin-top:0.3125em;padding:0.3125em}.control-panel__buttons--center{width:25%;text-align:center;margin:0 auto}.control-panel__buttons--right{width:25%;text-align:right;float:right;margin-top:0.3125em;margin-right:0.3125em}.control-panel__buttons__header{margin:0.3125em}.control-panel__control{border-radius:0.3125em;margin:0.5em auto}.control-panel__control:focus{outline:none}.settings{margin-left:0;margin-right:0;text-align:center}.settings__option__header{margin-bottom:0.5em}#waveform{background-size:contain;background-repeat:no-repeat;background-position:center center;width:100%;height:100%;position:absolute;top:0;left:0}.low{z-index:700}.overlay__container{width:100%;max-width:100%;height:3.125em;position:relative;z-index:800}#overlay__object{z-index:700;max-height:100%;min-width:100%;fill:"transparent"}#overlay__object.theme--light{stroke:rgb(127.5, 127.5, 127.5)}#overlay__object.theme--dark{stroke:rgb(165.75, 165.75, 165.75)}.scroll-guide__container{text-align:center;z-index:700;width:20%;position:fixed;left:50%;transform:translate(-50%, 0)}.scroll-guide__text{font-size:1.25em}.pages__container{overflow:auto;max-height:55vh;height:100%;max-width:100%;width:100%;position:relative;display:-webkit-inline-flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;border-radius:0.3125em 0.3125em 0 0;transition:margin-right 0.5s}.page{overflow-y:hidden;overflow-x:auto;flex-grow:1;min-width:99.6%;width:100%;max-width:55em}.page__container{display:grid;grid-template-columns:[col-start] [col-end];grid-template-rows:[row-start] 5% [row-end] 95%;grid-template-areas:"image page-no" "image text";justify-items:stretch}.page__counter{grid-area:page-no;margin:0.625em 0 0 0.9375em;text-align:right;padding-right:0.9375em;max-height:5rem}.page__col__image{grid-area:image;max-height:100%;text-align:center;margin:5%;padding:0;border-radius:0 0 0 0;position:relative}.page__col__image img{max-height:55vh;max-width:95%;object-fit:contain}.page__col__img-placeholder{cursor:pointer}.page__col__text{grid-area:text}.page.two-column-layout-page{grid-template-columns:40% auto}.page.one-column-layout-page{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;overflow-y:auto}.page.one-column-layout-page .page__col__image img{max-height:33vh !important}.page.one-column-layout-page .page__counter{width:100%;display:block;text-align:center}.hide-page-counter .page__counter{display:none}.pages__container.vertical{flex-direction:column !important}.pages__container.vertical>.page{min-height:100%}.paragraph__container{overflow-y:auto;min-width:40%;padding-bottom:0.75em}.sentence{margin:0 1.5em;text-align:left;max-width:90%}.sentence__container{margin:3.75em 0.625em 3.75em 0.625em;scroll-behavior:smooth;max-width:100%;position:relative;overflow-y:auto;overflow-x:hidden}.sentence__container__buttons{position:absolute;top:0;right:0}.sentence__text{font-size:1.5em;padding:0}.sentence__word{font-size:1.5em}.sentence__translation .sentence__text,.sentence[annotation-id] .sentence__text,.sentence__translation .sentence__word{color:#777;font-style:italic;font-size:95%}.sentence__translation__button{margin-left:10px}.sentence__translation__button i{font-size:medium}.paragraph.visually_aligned .sentence .sentence__text,.paragraph.visually_aligned .sentence .sentence__word{display:table-cell}.paragraph.visually_aligned .sentence .sentence__text:empty{display:none}.paragraph.visually_aligned{display:table}.paragraph.visually_aligned .sentence{display:table-row}.read-along-container{max-width:75em;margin:0 auto;overflow-y:hidden;overflow-x:hidden;padding:0.3125em;position:relative}.read-along-container--fullscreen{max-width:80%;min-width:80%}.slot__header{margin-bottom:0.3125em}.slot__subheader{margin-top:0;margin-left:1em}.settings-background{position:fixed;top:0;left:0;height:100vh;width:100vw;background-color:rgba(0, 0, 0, 0.075);z-index:900;-webkit-backdrop-filter:blur(5px) !important;backdrop-filter:blur(5px) !important}.settings{height:55vh;max-height:55vh;width:375px;max-width:375px;position:fixed;z-index:1000;top:15vh;left:calc((100% - 375px) / 2);display:flex;flex-direction:column;justify-content:space-between;overflow-x:hidden;transition:0.5s}.settings>div.header{border-bottom:1px solid #ccc;flex-grow:0;flex-shrink:0}.settings>div.header h3 button{float:inline-start;margin-top:0;margin-bottom:0}.settings>div.header h3{padding:10px;margin:0}.settings>div.header>.close{position:relative;float:inline-end;background-color:inherit;color:inherit;font-size:18px;padding:0.275rem 0.75rem;font-weight:400;line-height:1.5;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none;border:0;transition:color 0.15s ease-in-out, background-color 0.15s ease-in-out, border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out}.settings>div.header>.close:hover{color:#fff;background-color:#bb2d3b;border-color:#bb2d3b;box-shadow:inset 0 1px 0 rgba(255, 255, 255, 0.15), 0 1px 1px rgba(0, 0, 0, 0.075)}.settings>.content{flex-grow:10}.settings>.content p{cursor:pointer;text-align:left;color:inherit}.settings>.content p select,.settings>.content p button{margin-right:1em;width:80px;text-align:justify;background-color:transparent !important}.settings>.content p button{margin:0 1em 0 0;padding:0 0.0625em}.settings>.content p{margin:0.5em 1em}.settings>.content p.version{position:absolute;bottom:35px;left:0;right:0;text-align:center}.settings>.content>.preference-btns{height:3em;display:flex;flex-grow:0;flex-shrink:0;flex-direction:row;align-content:space-between;justify-content:space-between}.settings>.content>.preference-btns button{width:75%;border:1px solid #ccc;padding:0.25em 0.5em !important}.settings>.content>.preference-btns button:hover{background-color:rgba(0, 0, 0, 0.15);box-shadow:1px 1px 1px rgba(0, 0, 0, 0.15)}.settings>.footer{padding:0.01em 1em;height:3em;display:flex;flex-grow:0;flex-shrink:0;flex-direction:row;justify-content:space-between;column-gap:1em}.settings>.footer>div{flex-grow:8}.settings>.footer>button{margin-left:0;margin-right:0;border:1px solid #ccc;padding:0.25em 0.5em !important}.settings>.footer>button:hover{background-color:rgba(0, 0, 0, 0.15);box-shadow:1px 1px 1px rgba(0, 0, 0, 0.15)}.settings button:disabled{background-color:rgba(200, 200, 200, 0.15);color:#ccc}.settings p.version{cursor:unset;padding:1em;font-size:0.7em;font-weight:100;color:#ccc}.settings.theme--dark select,.settings.theme--dark select option,.settings.theme--dark{color:#fff}@media screen and (max-width: 385px){.settings{width:95vw;max-width:95vw;left:2.5vw;overflow:auto}.settings p select,.settings p button{display:block;width:80%}.settings p{margin-bottom:1em;border-bottom:1px solid #ccc}}button:focus,input:focus{box-shadow:0 1px 1px rgba(0, 0, 0, 0.15)}#annotationsMenu{position:absolute;bottom:4em;right:0.3125em;z-index:1000;width:fit-content;width:-moz-fit-content;display:flex;flex-direction:column;border-radius:0.3125em}#annotationsMenu h3{margin:0.3125em 0;padding:0.3125em 0.5em}#annotationsMenu button{display:flex;justify-content:flex-start;align-content:baseline;font-size:medium;padding:0.5em}#annotationsMenu button .material-icons-outlined{font-size:inherit;border-radius:0;margin-right:0.3125em}.sentence.invisible[annotation-id]{display:none}.loader{border:16px solid #eee;border-radius:50%;border-right-color:#aa0;border-bottom-color:#a33;border-left-color:#111;width:10rem;height:10rem;-webkit-animation:spin 3s linear infinite;animation:spin 3s linear infinite;position:fixed;top:calc(50vh - 10rem);left:calc(50vw - 10rem);z-index:1000;box-shadow:0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19)}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg)}}@keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}.alert{display:flex;padding:1rem 1rem;margin-bottom:1rem;border:1px solid transparent;border-radius:0.25rem;transition-delay:2s;transition:visibility 5s, height 5s}.alert.status-success{color:#0f5132;background-color:#d1e7dd;border-color:#badbcc}.alert.status-error{color:#842029;background-color:#f8d7da;border-color:#f5c2c7}.alert.fade{visibility:collapse;height:0 !important;overflow:hidden !important;line-height:0 !important;padding:0 !important;margin:0 !important;border:0 !important}.alert>i.material-icons{padding-inline-end:0.3em}.animate-transition,.ripple,.reading{transition:background 0.4s}.animate-transition:active,.ripple:active,.reading:active{transition:background 0s}.ripple,.reading{background-position:center;padding:0.0625em}.ripple:active,.reading:active{background-size:100%}.progress{position:absolute;top:0;left:0;height:100%;width:0}.progress.theme--light{background-color:rgba(127.5, 127.5, 127.5, 0.2)}.progress.theme--dark{background-color:rgba(165.75, 165.75, 165.75, 0.2)}.material-icons{font-family:"Material Icons";font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}.material-icons-outlined{font-family:"Material Icons Outlined";font-weight:normal;font-style:normal;font-size:24px;line-height:1;letter-spacing:normal;text-transform:none;display:inline-block;white-space:nowrap;word-wrap:normal;direction:ltr;-webkit-font-feature-settings:"liga";-webkit-font-smoothing:antialiased}[contenteditable][data-placeholder]:empty:before{content:attr(data-placeholder);position:absolute;color:gray;cursor:text;background-color:transparent}.drop-area{border:2px dashed #ccc;border-radius:20px;width:50%;font-family:sans-serif;margin:50px auto;padding:20px}.drop-area.highlight{border-color:purple}p{margin-top:0}.my-form{margin-bottom:10px}#gallery{margin-top:10px}#gallery img{width:150px;margin-bottom:10px;margin-right:10px;vertical-align:middle}.button{display:inline-block;padding:10px;background:#ccc;cursor:pointer;border-radius:5px;border:1px solid #ccc}.button:hover{background:#ddd}.fileElem{display:none}#img-remover{margin:0;position:absolute;z-index:700;border-radius:50px;color:red}#image-container{display:contents}`;const vv=0;const dv=1;const hv=2;const bv=3;const mv=5e4;function gv(){if(window.matchMedia){if(window.matchMedia("prefers-color-scheme: dark").matches){return"dark"}}return"light"}const pv=e(class e extends t{constructor(e){super();if(e!==false){this.__registerHost()}this.__attachShadow();this.reading$=new Hs.Subject;this.theme=gv();this.language="eng";this.i18nStrings={eng:ov,fra:fv,spa:lv};this.imageAssetsFolder="assets/";this.pageScrolling="horizontal";this.mode="VIEW";this.scrollBehaviour="smooth";this.displayTranslation=true;this.playbackRateRange=15;this.autoPauseAtEndOfPage=false;this.playing=false;this.playback_rate=1;this.fullscreen=false;this.autoScroll=true;this.hasLoaded=0;this.showGuide=false;this.hasTextTranslations=false;this.invalidImages={};this.assetsStatus={AUDIO:vv,RAS:vv};this.alignment_failed=false;this.isScrolling=false;this.scrollTimer=null;this.endOfPageTags={};this.settingsVisible=false;this.userPreferencesDirty=false;this.hasUserPreferences=iv();this.meta={};this.annotations=[];this.annotationsMenuVisible=false;this.Guide=()=>r("button",{class:"scroll-guide__container ripple ui-button theme--"+this.userPreferences.theme,onClick:()=>this.hideGuideAndScroll()},r("span",{class:"scroll-guide__text theme--"+this.userPreferences.theme},this.getI18nString("re-align")));this.Overlay=()=>r("object",{onClick:e=>this.goToSeekFromProgress(e),id:"overlay__object",type:"image/svg+xml",data:this.svgOverlay});this.RemoveImg=e=>r("button",{"data-test-id":"delete-button","aria-label":"Delete",title:"Delete image",onClick:()=>this.deleteImage(e.pageIndex),id:"img-remover",class:"ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},r(u,null,"delete"));this.Img=e=>r("div",{class:"image__container page__col__image theme--"+this.userPreferences.theme},this.mode==="EDIT"&&r("span",{id:"image-container"},r(this.RemoveImg,{pageIndex:e.pageIndex})),r("img",{alt:"image",class:"image",src:e.imgURL}));this.ImgPlaceHolder=e=>r("div",{class:"image__container page__col__image theme--"+this.userPreferences.theme},r("div",{class:"drop-area"},r("form",{class:"my-form"},r("p",{class:"theme--"+this.userPreferences.theme},this.getI18nString("upload-image")),r("input",{type:"file",class:"fileElem",id:"fileElem--"+e.pageID,accept:"image/*",onChange:t=>{const r=t.target;if(r.files.length===0){return}this.handleImageFile(r.files[0],e.pageIndex);r.value=""}}),r("label",{class:"button",htmlFor:"fileElem--"+e.pageID},this.getI18nString("choose-file")))));this.PageCount=e=>r("div",{class:"page__counter color--"+this.userPreferences.theme},this.getI18nString("page")," ",r("span",{"data-test-id":"page-count__current"},e.currentPage)," / ",r("span",{"data-test-id":"page-count__total"},e.pgCount));this.ImgContainer=e=>{const t=e.pageIndex in this.images&&this.images[e.pageIndex]!==null;if(t){return r(this.Img,{imgURL:this.images[e.pageIndex],pageIndex:e.pageIndex})}if(this.mode==="EDIT"){return r(this.ImgPlaceHolder,{pageID:e.pageID,pageIndex:e.pageIndex})}};this.Page=e=>r("div",{class:"page page__container page--multi animate-transition  theme--"+this.userPreferences.theme+" "+(e.pageData.attributes["class"]?e.pageData.attributes["class"].value:""),id:e.pageData["id"]},this.parsed_text.length>1?r(this.PageCount,{pgCount:this.parsed_text.length,currentPage:this.parsed_text.indexOf(e.pageData)+1}):null,r(this.ImgContainer,{pageID:e.pageData.id,pageIndex:this.parsed_text.indexOf(e.pageData)}),r("div",{class:"page__col__text paragraph__container theme--"+this.userPreferences.theme},e.pageData.paragraphs.map((e=>r(this.Paragraph,{sentences:Array.from(e.childNodes),attributes:e.attributes})))));this.Paragraph=e=>r("div",Object.assign({},e.attributes,{class:"paragraph sentence__container theme--"+this.userPreferences.theme+" "+(e.attributes["class"]?e.attributes["class"].value:"")}),e.sentences.map((e=>e.childNodes.length>0&&r(this.Sentence,{sentenceData:e}))));this.Sentence=e=>{let t=Array.from(e.sentenceData.childNodes);let i=e.sentenceData.id;if(!this.hasTextTranslations&&e.sentenceData.hasAttribute("class")){this.hasTextTranslations=/translation/.test(e.sentenceData.getAttribute("class"))}let a={};for(const t of["annotation-id","do-not-align","lang","id"]){if(e.sentenceData.hasAttribute(t)){a[t]=e.sentenceData.getAttribute(t)}}if(e.sentenceData.hasAttribute("xml:lang")){a["lang"]=e.sentenceData.getAttribute("xml:lang")}if(this.mode==="EDIT"&&/translation/.test(e.sentenceData.getAttribute("class")))return r(n,null);return r("div",Object.assign({},a,{class:"sentence"+" "+(e.sentenceData.hasAttribute("class")?e.sentenceData.getAttribute("class"):"")+(a["annotation-id"]?" invisible":"")}),t.map(((t,n)=>{if(t.nodeName==="#text"){return r(this.NonWordText,{text:t.textContent,attributes:t.attributes,id:(e.sentenceData.hasAttribute("id")?e.sentenceData.getAttribute("id"):"P")+"text"+n})}else if(t.nodeName==="w"||t.nodeName==="W"){return r(this.Word,{text:t.textContent,id:t["id"],attributes:t.attributes})}else if(t){let i={};if(t.hasAttribute("xml:lang"))i["lang"]=e.sentenceData.getAttribute("xml:lang");if(t.hasAttribute("lang"))i["lang"]=e.sentenceData.getAttribute("lang");return r("span",Object.assign({},i,{class:"sentence__text theme--"+this.userPreferences.theme+(" "+t.className),id:t.id?t.id:"text_"+n}),t.textContent)}})),(()=>{if(this.mode==="EDIT"&&!/translation/.test(e.sentenceData.getAttribute("class"))){if(i in this.translations&&i in this.translations&&this.translations[i]!==null){return r("span",{class:"sentence__translation"},r("button",{title:"Remove translation","aria-label":"Remove translation","data-test-id":"remove-translation-button",onClick:()=>this.removeLine(e.sentenceData),class:"sentence__translation__button remove"},r(u,null,"remove")),r("p",{id:i+"translation","data-test-id":"translation-line",class:"sentence__text editable__translation",onInput:e=>{this.updateTranslation(i,e.currentTarget.innerText)},contentEditable:true,onKeyDown:e=>{if(e.key=="Enter")e.preventDefault()},"data-placeholder":this.getI18nString("line-placeholder"),innerHTML:this.translations[i]}))}else{return r("button",{title:this.getI18nString("add-translation"),"aria-label":"Add translation","data-test-id":"add-translation-button",class:"sentence__translation sentence__translation__button",onClick:()=>this.addLine(e.sentenceData)},r(u,null,"add"))}}else{return null}})())};this.NonWordText=e=>{let t={};if(e.attributes&&e.attributes["xml:lang"])t["lang"]=e.attributes["xml:lang"].value;if(e.attributes&&e.attributes["lang"])t["lang"]=e.attributes["lang"].value;return r("span",Object.assign({},t,{class:"sentence__text theme--"+this.userPreferences.theme,id:e.id}),e.text)};this.Word=e=>{let t={};if(e.attributes&&e.attributes["xml:lang"])t["lang"]=e.attributes["xml:lang"].value;if(e.attributes&&e.attributes["lang"])t["lang"]=e.attributes["lang"].value;return r("span",Object.assign({},t,{class:"sentence__word theme--"+this.userPreferences.theme+" "+(e&&e.attributes["class"]?e.attributes["class"].value:""),id:e.id,onClick:e=>this.playSprite(e)}),e.text)};this.PlayControl=()=>r("button",{"data-test-id":"play-button",disabled:!this.isReadyToPlay(),"aria-label":"Play",title:this.getI18nString("play-tooltip"),onClick:()=>{this.playing?this.pause():this.play()},class:"control-panel__control ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme,tabindex:1},this.playing?r(u,null,"pause"):r(u,null,"play_arrow"));this.ReplayControl=()=>r("button",{"data-test-id":"replay-button",disabled:this.hasLoaded<2,"aria-label":"Rewind",title:this.getI18nString("rewind-tooltip"),onClick:()=>this.goBack(5),class:"control-panel__control ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},r(u,null,"replay_5"));this.StopControl=()=>r("button",{"data-test-id":"stop-button",disabled:this.hasLoaded<2,"aria-label":"Stop",title:this.getI18nString("stop-tooltip"),onClick:()=>this.stop(),class:"control-panel__control ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},r(u,null,"stop"));this.PlaybackSpeedControl=()=>r("div",null,r("h5",{class:"control-panel__buttons__header color--"+this.userPreferences.theme,id:"speed-slider-label"},this.getI18nString("speed")),r("input",{type:"range",min:100-this.playbackRateRange,max:100+this.playbackRateRange,value:this.playback_rate*100,class:"slider control-panel__control",id:"myRange","aria-labelledby":"speed-slider-label",onInput:e=>{this.changePlayback(e)}}));this.StyleControl=()=>r("button",{"aria-label":"Change theme",title:this.getI18nString("theme-tooltip"),class:"control-panel__control ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},r(u,{outline:true},"style"));this.FullScreenControl=()=>r("button",{"aria-label":"Full screen mode",onClick:()=>this.toggleFullscreen(),title:this.getI18nString("full-screen-tooltip"),class:"control-panel__control ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},this.fullscreen?r(u,{"aria-label":"Exit full screen mode"},"fullscreen_exit"):r(u,{"aria-label":"Full screen mode"},"fullscreen"));this.TextAnnotationsControl=()=>r("button",{"data-test-id":"annotations-toggle","aria-label":"Toggle Annotations",title:this.getI18nString("annotations-tooltip"),onClick:()=>this.annotationsMenuVisible=!this.annotationsMenuVisible,class:"control-panel__control ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},r(u,{outline:true},"layers"));this.TextTranslationDisplayControl=()=>r("button",{"data-test-id":"translation-toggle","aria-label":"Toggle Translation",title:this.getI18nString("translation-tooltip"),onClick:()=>this.toggleTextTranslation(),class:"control-panel__control ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},r(u,{outline:true},"subtitles"));this.ToggleSettingsControl=()=>r("button",{"data-test-id":"settings-button",title:this.getI18nString("configuration-tooltip"),onClick:()=>this.toggleSettings(),id:"settings-button",class:"control-panel__control ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},r(u,{"aria-label":"Show settings"},"settings"));this.ControlPanel=()=>r("div",{"data-test-id":"control-panel",class:"control-panel theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},r("div",{class:"control-panel__buttons--left"},r(this.PlayControl,null),r(this.ReplayControl,null),r(this.StopControl,null)),r("div",{class:"control-panel__buttons--center"},r(this.PlaybackSpeedControl,null)),r("div",{class:"control-panel__buttons--right"},this.annotations.length>0?r(this.TextAnnotationsControl,null):this.hasTextTranslations&&r(this.TextTranslationDisplayControl,null),window.document.fullscreenEnabled&&r(this.FullScreenControl,null),r(this.ToggleSettingsControl,null)));this.Settings=()=>r("div",{id:"settings","data-test-id":"settings",class:"settings  theme--"+this.userPreferences.theme},r("div",{class:"header"},r("button",{class:"close","data-test-id":"settings-close-button",onClick:()=>{this.toggleSettings()}},""," "),r("h3",null,this.getI18nString("settings"))),r("div",{class:"content"},r("p",null,r("label",null,r("select",{title:this.getI18nString("language"),onChange:e=>{const t=e.target.value;this.userPreferences=Object.assign(Object.assign({},this.userPreferences),{language:t});this.userPreferencesDirty=true},id:"settings-language","data-test-id":"settings-language",tabindex:2},Object.keys(this.i18nStrings).map((e=>r("option",{class:`background--${this.userPreferences.theme}`,selected:this.userPreferences.language==e,value:e},this.i18nStrings[e][e]||e)))),this.getI18nString("language"))),r("p",{onClick:()=>{this.changeTheme();this.userPreferencesDirty=true},tabindex:3},r(this.StyleControl,null),this.getI18nString("theme-tooltip")),r("p",{onClick:()=>{this.toggleScrollBehavior();this.userPreferencesDirty=true},tabindex:4},r("button",{class:"control-panel__control  ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme,title:this.getI18nString("page-animation"),"data-test-id":"settings-scroll-behavior"},this.userPreferences.scrollBehaviour==="smooth"?r(u,{outline:true},"check_box"):r(u,{outline:true},"check_box_outline_blank")),this.getI18nString("page-animation")),r("p",{onClick:()=>{this.userPreferences=Object.assign(Object.assign({},this.userPreferences),{autoPauseAtEndOfPage:!this.userPreferences.autoPauseAtEndOfPage});this.userPreferencesDirty=true},tabindex:5},r("button",{class:"control-panel__control  ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme,title:this.getI18nString("auto-pause"),"data-test-id":"settings-auto-pause"},this.userPreferences.autoPauseAtEndOfPage?r(u,{outline:true},"check_box"):r(u,{outline:true},"check_box_outline_blank")),this.getI18nString("auto-pause")),r("div",{class:"preference-btns"},r("button",{type:"button",class:"control-panel__control  ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme,title:this.getI18nString("save-settings"),onClick:()=>{nv(this.userPreferences);this.userPreferencesDirty=false;this.hasUserPreferences=true},"data-test-id":"settings-save",disabled:!this.userPreferencesDirty,tabindex:6},this.getI18nString("save-settings"))),r("p",{class:"version"},"@readalongs/web-component version: ",cv)),r("div",{class:"footer"},r("button",{type:"button",class:"control-panel__control ripple"+` theme--${this.userPreferences.theme}`+` background--${this.userPreferences.theme}`,title:this.getI18nString("reset-title"),onClick:()=>{uv();this.userPreferences=this.defaultUserPreferences();this.userPreferencesDirty=false;this.hasUserPreferences=false},"data-test-id":"reset",disabled:!this.hasUserPreferences&&!this.userPreferencesDirty,tabindex:7},this.getI18nString("reset")),r("button",{onClick:()=>this.toggleSettings(),class:"control-panel__control  ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme,tabindex:8},this.getI18nString("close"))));this.AnnotationsMenu=()=>r("div",{id:"annotationsMenu",class:"annotations-menu  theme--"+this.userPreferences.theme},this.annotations.map((e=>r("button",{"data-test-id":"toggle-annotation-"+e.id,class:"ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme,onClick:()=>this.toggleTextAnnotation(e.id)},e.isVisible?r(u,{outline:true},"check_box"):r(u,{outline:true},"check_box_outline_blank"),e.name))),r("button",{"data-test-id":"toggle-all-annotations",class:"ripple theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme,onClick:()=>this.toggleTextAnnotation("*")},r(u,{outline:true},"layers")," All"))}handleScrollEvent(){this.isScrolling=true;if(this.scrollTimer)clearTimeout(this.scrollTimer);this.scrollTimer=setTimeout((()=>{this.isScrolling=false}),125)}wheelHandler(e){if(this.el.shadowRoot.querySelector(".reading")){if(e["path"]&&e["path"].length>0&&(e["path"][0].classList.contains("sentence__word")||e["path"][0].classList.contains("sentence__container")||e["path"][0].classList.contains("sentence"))){if(this.autoScroll){let e=this.el.shadowRoot.querySelector(".reading");if(e){this.autoScroll=!this.inPageContentOverflow(e);this.showGuide=!this.autoScroll}}}}}fullScreenHandler(){this.fullscreen=window.document.fullscreenElement!=null}handleKeyDown(e){if(e.key==="Escape"&&this.settingsVisible){this.settingsVisible=false}}urlTransform(e){if(this.useAssetsFolder!==undefined){if(this.useAssetsFolder&&t(e)&&!e.startsWith("blob")){return"assets/"+e}else{return e}}else if(this.imageAssetsFolder&&t(e)&&!e.startsWith("blob")){if(this.imageAssetsFolder&&!this.imageAssetsFolder.endsWith("/")){this.imageAssetsFolder+="/"}return this.imageAssetsFolder+e}return e;function t(e){return!/^(https?:[/][/]|assets[/]|data:)/.test(e)}}buildSprite(e,t){return new ev({src:[e],sprite:t,rate:this.playback_rate})}tagToQuery(e){e=e.replace(".","\\.");e=e.replace("#","\\#");return"#"+e}returnWordClosestTo(e){let t=Object.keys(this.processed_alignment);t.pop();for(let r=1;r<t.length;r++){if(e*1e3>this.processed_alignment[t[r]][0]&&this.processed_alignment[t[r+1]]&&e*1e3<this.processed_alignment[t[r+1]][0]){return this.el.shadowRoot.querySelector(this.tagToQuery(t[r]))}}}getPathFromAssetType(e){if(e==="AUDIO"){return this.audio}else if(e==="RAS"){return this.href}else{return"Asset Path Not Supported"}}toggleSettings(){if(this.playing){this.pause()}this.settingsVisible=!this.settingsVisible}toggleScrollBehavior(){this.userPreferences=Object.assign(Object.assign({},this.userPreferences),{scrollBehaviour:this.userPreferences.scrollBehaviour==="auto"?"smooth":"auto"})}changePlayback(e){let t=e.currentTarget;this.playback_rate=parseInt(t.value)/100;this.audio_howl_sprites.sound.rate(this.playback_rate)}goBack(e){this.autoScroll=false;if(this.play_id){this.audio_howl_sprites.goBack(this.play_id,e)}setTimeout((()=>this.autoScroll=true),100)}goTo(e){if(this.play_id===undefined){this.play();this.pause()}this.autoScroll=true;e=e/1e3;this.audio_howl_sprites.goTo(this.play_id,e);setTimeout((()=>this.autoScroll=true),100)}goToSeekAtEl(e){let t=e.currentTarget;let r=t.id;let n=this.processed_alignment[r][0];this.goTo(n);return r}goToSeekFromProgress(e){let t=e.currentTarget;let r=t.getBoundingClientRect();let n=r.left;let i=r.width;let u=e.pageX-n;let a=u/i*this.duration*1e3;this.goTo(a)}pause(){if(this.playing){this.playing=false;this.audio_howl_sprites.pause()}}play(){if(this.audio_howl_sprites===undefined)return;this.playing=true;if(this.play_id!==undefined){this.play_id=this.audio_howl_sprites.play(this.play_id)}else{this.play_id=this.audio_howl_sprites.play("all")}this.animateProgress()}playSprite(e){let t=this.goToSeekAtEl(e);if(!this.playing){this.audio_howl_sprites.play(t)}}stop(){this.playing=false;this.play_id=undefined;if(this.audio_howl_sprites){this.audio_howl_sprites.stop()}this.el.shadowRoot.querySelectorAll(".reading").forEach((e=>e.classList.remove("reading")));if(!this.autoScroll){this.autoScroll=true;this.showGuide=false}}toggleTextTranslation(){this.el.shadowRoot.querySelectorAll(".translation, .sentence__translation, [annotation-id]").forEach((e=>e.classList.toggle("invisible")))}toggleTextAnnotation(e){this.el.shadowRoot.querySelectorAll("[annotation-id"+(e==="*"?"]":'="'+e+'"]')).forEach((e=>e.classList.toggle("invisible")));this.annotations=this.annotations.map((t=>{if(t.id==e||e==="*")t.isVisible=!t.isVisible;return t}))}addHighlightingTo(e){this.el.shadowRoot.querySelectorAll(".reading").forEach((e=>e.classList.remove("reading")));e.classList.add("reading")}animateProgressWithOverlay(){let e=this.el.shadowRoot.querySelector("#overlay__object");let t=e.contentDocument.querySelector("#progress-fill");let r=e.contentDocument.querySelector("#progress-trail");let n=e.contentDocument.querySelector("#progress-base");t.classList.add("stop-color--"+this.userPreferences.theme);n.classList.add("stop-color--"+this.userPreferences.theme);this.audio_howl_sprites.sounds.push(t);this.audio_howl_sprites.sounds.push(r);this.audio_howl_sprites.sound.once("end",(()=>{this.audio_howl_sprites.sounds.forEach((e=>{e.setAttribute("offset","0%")}));this.el.shadowRoot.querySelectorAll(".reading").forEach((e=>e.classList.remove("reading")));this.playing=false}),this.play_id)}animateProgressDefault(e,t){let r=document.createElement("div");r.className="progress theme--"+this.userPreferences.theme;r.id=e.toString();r.dataset.sprite=t;let n=this.tagToQuery(t);this.el.shadowRoot.querySelector(n).appendChild(r);this.audio_howl_sprites.sounds.push(r);this.audio_howl_sprites.sound.once("end",(()=>{this.el.shadowRoot.querySelectorAll(".reading").forEach((e=>e.classList.remove("reading")));this.playing=false}),this.play_id)}animateProgress(e=this.play_id){if(this.svgOverlay){this.animateProgressWithOverlay()}else if(e){this.animateProgressDefault(e,"all")}}changeFill(){let e=this.el.shadowRoot.querySelector(".sentence__word");let t=window.getComputedStyle(e).color;let r=this.el.shadowRoot.querySelector("#overlay__object");let n=r.contentDocument.querySelector("#progress-fill");let i=r.contentDocument.querySelector("#progress-base");let u=r.contentDocument.querySelector("#polygon");u.setAttribute("stroke",t);i.setAttribute("stop-color",t);n.setAttribute("stop-color",t)}async getCurrentWord(){return this.reading$}async getImages(){return this.images}async updateSpriteAlignments(e){this.stop();this.processed_alignment=e;this.attachScrollingLogicToAudio()}async getReadAlongElement(){return this.el}async getAlignments(){return this.processed_alignment}async getTranslations(){return this.translations}async changeTheme(){const e=this.userPreferences.theme==="light"?"dark":"light";this.userPreferences=Object.assign(Object.assign({},this.userPreferences),{theme:e})}async setCss(e){this.cssUrl=e}async addCustomFont(e){const t=document.createElement("style");t.setAttribute("id","ra-wc-custom-font");t.setAttribute("type","text/css");t.innerHTML=e;document.head.appendChild(t)}static _getSentenceContainerOfWord(e){return e.parentElement.parentElement.parentElement}toggleFullscreen(){let e;if(!this.fullscreen){let t=this.el.shadowRoot.getElementById("read-along-container");if(t.requestFullscreen){e=t.requestFullscreen()}else if(t.mozRequestFullScreen){e=t.mozRequestFullScreen()}else if(t.webkitRequestFullscreen){e=t.webkitRequestFullscreen()}else if(t.msRequestFullscreen){e=t.msRequestFullscreen()}e.then((()=>{this.fullscreen=true;this.el.shadowRoot.getElementById("read-along-container").classList.add("read-along-container--fullscreen")}))}else{let t=this.el.ownerDocument;if(t.exitFullscreen){e=t.exitFullscreen()}else if(t.mozCancelFullScreen){e=t.mozCancelFullScreen()}else if(t.webkitExitFullscreen){e=t.webkitExitFullscreen()}else if(t.msExitFullscreen){e=t.msExitFullscreen()}e.then((()=>{this.fullscreen=false;this.el.shadowRoot.getElementById("read-along-container").classList.remove("read-along-container--fullscreen")}))}}hideGuideAndScroll(){let e=this.el.shadowRoot.querySelector(".reading");let t=new IntersectionObserver((r=>{let[n]=r;if(n.isIntersecting){setTimeout((()=>{this.showGuide=false;this.autoScroll=true}),100);t.unobserve(e)}}));t.observe(e);this.scrollTo(e)}inParagraphContentOverflow(t){let r=e._getSentenceContainerOfWord(t);let n=r.getBoundingClientRect();let i=t.getBoundingClientRect();let u=i.right<n.left;let a=i.right>n.right;let o=new IntersectionObserver((e=>{let[r]=e;if(r.isIntersecting){setTimeout((()=>{this.showGuide=false;this.autoScroll=true}),100);o.unobserve(t)}}));o.observe(t);return u||a}inPageContentOverflow(e){let t=this.el.shadowRoot.querySelector("#"+this.current_page);let r=t.getBoundingClientRect();let n=e.getBoundingClientRect();let i=n.top+n.height>r.top+r.height;let u=n.top<r.top;let a=new IntersectionObserver((t=>{let[r]=t;if(r.isIntersecting){setTimeout((()=>{this.showGuide=false;this.autoScroll=true}),100);u=i=false;a.unobserve(e)}}));a.observe(e);return u||i}inPage(t){let r=e._getSentenceContainerOfWord(t);let n=r.getBoundingClientRect();let i=t.getBoundingClientRect();let u=i.top+i.height>n.top+n.height;let a=i.top+i.height<0;let o=new IntersectionObserver((e=>{let[r]=e;if(r.isIntersecting){setTimeout((()=>{this.showGuide=false;this.autoScroll=true}),100);o.unobserve(t)}}));o.observe(t);return a||u}scrollToPage(e){let t=this.el.shadowRoot.querySelector(".pages__container");let r=this.el.shadowRoot.querySelector("#"+e);t.scrollBy({top:this.pageScrolling.match("vertical")!=null?r.offsetTop-t.scrollTop:0,left:this.pageScrolling.match("vertical")!=null?0:r.offsetLeft-t.scrollLeft,behavior:this.userPreferences.scrollBehaviour});r.scrollTo(0,0)}scrollByHeight(t){let r=e._getSentenceContainerOfWord(t);let n=t.parentElement.getBoundingClientRect();let i=new IntersectionObserver((e=>{let[u]=e;if(u.isIntersecting){i.unobserve(t)}else{r.scrollTo({top:r.getBoundingClientRect().height-n.height,left:0,behavior:this.userPreferences.scrollBehaviour})}}),{root:r,threshold:[0,.25,.5,.75,1]});i.observe(t)}scrollByWidth(t){let r=e._getSentenceContainerOfWord(t);let n=t.getBoundingClientRect();r.scrollTo({left:n.left-10,top:0,behavior:this.userPreferences.scrollBehaviour})}scrollTo(e){e.scrollIntoView({behavior:this.userPreferences.scrollBehaviour})}disconnectedCallback(){this.stop()}componentDidUpdate(){if(this.svgOverlay){this.changeFill()}}defaultUserPreferences(){const e={version:Ys,autoPauseAtEndOfPage:this.autoPauseAtEndOfPage,scrollBehaviour:this.scrollBehaviour.toLowerCase(),language:this.language.toLowerCase(),theme:this.theme.toLowerCase()};if(e.scrollBehaviour!=="smooth"&&e.scrollBehaviour!=="auto"){console.error("Invalid scroll-behaviour value, using default (smooth)");e.scrollBehaviour="smooth"}const t={en:"eng",eng:"eng",fr:"fra",fra:"fra",es:"spa",spa:"spa"};e.language=t[e.language]||"eng";return e}async componentWillLoad(){this.userPreferences=rv();if(!this.userPreferences){this.userPreferences=this.defaultUserPreferences()}if(isNaN(this.playbackRateRange)||this.playbackRateRange<0||this.playbackRateRange>99){console.error("Invalid playback-rate-range value, using default (15).");this.playbackRateRange=15}const e=this.el.querySelector("read-along > text");if(e){this.parsed_text=Xs(e);this.meta=Zs(this.el)}else{const e=await Qs(this.href);this.parsed_text=e.pages;this.meta=e.meta}if(this.parsed_text===null){this.parsed_text=[];this.assetsStatus.RAS=bv}else if(this.parsed_text.length===0){this.assetsStatus.RAS=hv}else{this.images={};this.translations={};for(const[e,r]of this.parsed_text.entries()){if("img"in r){var t=this.urlTransform(r.img);this.images[e]=this.urlTransform(r.img);if(/^(https?:[/]|assets)[/]\b/.test(t)){let r=await tv(t);if(!r){this.images[e]=null}}}else{this.images[e]=null}if("paragraphs"in r){try{const e=r.paragraphs;const t=e[e.length-1].querySelectorAll("s:not(.translation), s:not(.sentence__translation)");const n=t[t.length-1].querySelector("w:last-of-type");this.endOfPageTags[n.id]=[parseFloat(n.getAttribute("time")),parseFloat(n.getAttribute("dur"))*1e3];this.finalTaggedWord=n.id}catch(e){}let e=null;r.paragraphs.map((e=>e.querySelectorAll("s"))).forEach((t=>{if(t.length){t.forEach((t=>{if(t.id&&av(t)){e=`${t.id}`}else if(/translation/.test(t.className)){const r={};if(t.hasAttribute("sentence-id")){let e=t.getAttribute("sentence-id");r[e]=t.textContent;this.translations=Object.assign(Object.assign({},this.translations),r)}else if(e!=null){r[e]=t.textContent;e=null;this.translations=Object.assign(Object.assign({},this.translations),r)}}}))}}))}}if(this.meta["annotations-ids"]){const e=",";const t=this.meta["annotations-labels-"+this.userPreferences.language]?this.meta["annotations-labels-"+this.userPreferences.language]:this.meta["annotations-labels"];const r=t?t.split(e):[];this.meta["annotations-ids"].split(e).forEach(((e,t)=>{var n;this.annotations.push({isVisible:false,name:(n=r[t].trim())!==null&&n!==void 0?n:e.trim(),id:e.trim()})}))}this.assetsStatus.RAS=dv}this.hasLoaded+=1}componentDidLoad(){const e="https://unpkg.com/@bcgov/bc-sans@1.0.1/css/BCSans.css";const t="https://fonts.googleapis.com/css2?family=Material+Icons&family=Material+Icons+Outlined&display=swap";[e,t].filter((e=>!document.querySelector(`link[href="${e}"]`))).forEach((e=>{const t=document.createElement("link");t.setAttribute("rel","stylesheet");t.setAttribute("href",e);document.head.appendChild(t)}));this.processed_alignment=Js(this.parsed_text);this.alignment_failed=Object.keys(this.processed_alignment).length==0;this.audio_howl=new s.Howl({src:[this.audio],html5:Ks(),preload:false});this.audio_howl.once("load",(()=>{this.attachScrollingLogicToAudio()}));this.audio_howl.once("loaderror",(()=>{this.hasLoaded+=1;this.assetsStatus.AUDIO=bv}));this.audio_howl.load()}attachScrollingLogicToAudio(){this.processed_alignment["all"]=[0,this.audio_howl.duration()*1e3];this.duration=this.audio_howl.duration();this.audio_howl_sprites=this.buildSprite(this.audio,this.processed_alignment);this.audio_howl_sprites._reading$.pipe(Vs.distinctUntilChanged()).subscribe((t=>{this.reading$.next(t);if(t=="")return;if(this.playing&&this.userPreferences.autoPauseAtEndOfPage&&t in this.endOfPageTags&&this.finalTaggedWord!==t){if(this.autoPauseTimer)window.clearTimeout(this.autoPauseTimer);this.autoPauseTimer=window.setTimeout((()=>{this.pause()}),this.endOfPageTags[t][1]-25)}let r=this.tagToQuery(t);if(r===undefined)return;let n=this.el.shadowRoot.querySelector(r);this.el.shadowRoot.querySelectorAll(".reading").forEach((e=>e.classList.remove("reading")));n.classList.add("reading");let i=e._getSentenceContainerOfWord(n).parentElement.id;if(i!==this.current_page){if(this.current_page!==undefined&&!this.isScrolling){this.scrollToPage(i)}this.current_page=i}const u=Math.ceil(this.el.shadowRoot.querySelector(".pages__container").getBoundingClientRect().left)+1;const a=Math.ceil(this.el.shadowRoot.querySelector("#"+this.current_page).getBoundingClientRect().left);if(n.getBoundingClientRect().left<0||a!==u){if(!this.isScrolling)this.scrollToPage(i)}if(this.inPageContentOverflow(n)){if(this.autoScroll){n.scrollIntoView({block:"start",inline:"nearest"});if(!this.isScrolling)this.scrollByHeight(n)}}if(this.inParagraphContentOverflow(n)){if(this.autoScroll){n.scrollIntoView(false);if(!this.isScrolling)this.scrollByWidth(n)}}}));this.hasLoaded+=1;this.assetsStatus.AUDIO=dv}componentDidRender(){if(!this.displayTranslation&&this.parsed_text&&this.parsed_text.length>0){this.toggleTextTranslation();this.displayTranslation=true}if(this.latestTranslation){let e=this.el.shadowRoot.querySelector(this.latestTranslation);e.focus();this.latestTranslation=""}}isReadyToPlay(){if(this.hasLoaded<2)return false;if(this.audio_howl_sprites===undefined)return false;if(this.audio_howl_sprites.sound===undefined)return false;return true}getRawI18nString(e){if(this.i18nStrings[this.userPreferences.language]&&this.i18nStrings[this.userPreferences.language][e]){return this.i18nStrings[this.userPreferences.language][e]}else if(this.i18nStrings.eng[e]){return this.i18nStrings.eng[e]}else{return e}}getI18nString(e,t={}){let r=this.getRawI18nString(e);for(const[e,n]of Object.entries(t)){r=r.replace("<"+e+">",n)}return r}addLine(e){if(!this.hasTextTranslations){this.hasTextTranslations=true}let t={};t[e.id]="";this.translations=Object.assign(Object.assign({},this.translations),t);this.latestTranslation="#"+e.id+"translation"}removeLine(e){delete this.translations[e.id];this.translations=Object.assign({},this.translations)}updateTranslation(e,t){this.translations[e]=t}handleImageFile(e,t){if(!e.type.toLowerCase().startsWith("image/")){this.invalidImages[t]={fileName:e.name,pageIndex:t};this.invalidImages=Object.assign({},this.invalidImages);return}if(t in this.invalidImages){delete this.invalidImages[t];this.invalidImages=Object.assign({},this.invalidImages)}this.images[t]=URL.createObjectURL(e);this.images=Object.assign({},this.images)}deleteImage(e){if(this.images[e].startsWith("blob:")){URL.revokeObjectURL(this.images[e])}const t={};t[e]=null;this.images=Object.assign(Object.assign({},this.images),t)}render(){return r("div",{key:"9e97168f2185f956462e96f9f36e47cdb02b66cb",id:"read-along-container",class:"read-along-container"},r("div",{key:"ed2e6c564afff98609d43bfecd025dd387a9cc39",id:"title__slot__container"},r("h1",{key:"37cab34fce33269faa2358551a6d1c915b415cbd",class:"slot__header"},r("slot",{key:"bd3b4811eb6a103013a23cbc2d3527b24882a1a3",name:"read-along-header"})),r("h3",{key:"1b9f5380c25d7078c8584cb6c03d0fb667537a4e",class:"slot__subheader"},r("slot",{key:"449845200d61903a88d1d206890b3a01b87f4e39",name:"read-along-subheader"}))),Object.entries(this.assetsStatus).map((([e,t])=>{if(t===hv){let t=this.getPathFromAssetType(e);return r("error-message",{msg:this.getI18nString("parse-error",{FILETYPE:e,FILENAME:t}),data_cy:e+"-error"})}if(t===bv){let t=this.getPathFromAssetType(e);return r("error-message",{msg:this.getI18nString("loading-error",{FILETYPE:e,FILENAME:t}),data_cy:e+"-error"})}})),this.alignment_failed&&this.assetsStatus.RAS===dv&&r("error-message",{key:"eaf54cd7fc20104524300f7a953d09cb82973f42",msg:this.getI18nString("alignment-error"),data_cy:"alignment-error"}),this.assetsStatus.RAS===dv&&Object.values(this.invalidImages).map((e=>r("error-message",{msg:this.getI18nString("image-error",{FILENAME:e.fileName,PAGENUMBER:(e.pageIndex+1).toString()}),timeout:mv,data_cy:"invalid-image-file",onExpired:()=>{delete this.invalidImages[e.pageIndex]}}))),r("div",{key:"a61e2c9b732b0b984284eb89992dfc4e68fcb359",onScroll:()=>{this.handleScrollEvent()},"data-test-id":"text-container",class:"pages__container"+" theme--"+this.userPreferences.theme+" "+this.pageScrolling},this.showGuide?r(this.Guide,null):null,this.assetsStatus.RAS==dv&&this.parsed_text.map((e=>r(this.Page,{pageData:e}))),this.hasLoaded<2&&r("div",{key:"1c11b5f5a2a24bc4665e518847083e84e8ba9075",class:"loader"})),this.settingsVisible&&r("div",{key:"bd23100cafa0691bc14f78d3ed601db07b730a1f",class:"settings-background",onClick:()=>this.settingsVisible=false}),this.settingsVisible&&r(this.Settings,{key:"3b424d3cae6aec26b2db79cfc342a80611a97998"}),this.alignment_failed||r("div",{key:"b112277b73af8aa0989f7bc2eee89e8945f2439c",onClick:e=>this.goToSeekFromProgress(e),id:"all","data-test-id":"progress-bar",class:"overlay__container theme--"+this.userPreferences.theme+" background--"+this.userPreferences.theme},this.svgOverlay?r(this.Overlay,null):null),this.annotationsMenuVisible&&r(this.AnnotationsMenu,{key:"5184e678db807b007c2317883ee1d5a36b983a54"}),this.assetsStatus.AUDIO==dv&&r(this.ControlPanel,{key:"f5269089e11c1c34875ed5efcd5f7123e08115a7"}),this.cssUrl&&this.cssUrl.match(".css")!=null&&r("link",{key:"166f32c96ce9dd8d838f6f177e293f8c1dc23eb9",href:this.cssUrl,rel:"stylesheet"}))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{audio_howl_sprites:[{wheelHandler:0}]}}static get style(){return sv()}},[257,"read-along",{href:[1],audio:[1],svgOverlay:[1,"svg-overlay"],theme:[1],language:[1],cssUrl:[1025,"css-url"],useAssetsFolder:[4,"use-assets-folder"],imageAssetsFolder:[1,"image-assets-folder"],pageScrolling:[1,"page-scrolling"],mode:[1],scrollBehaviour:[1,"scroll-behaviour"],displayTranslation:[4,"display-translation"],playbackRateRange:[2,"playback-rate-range"],autoPauseAtEndOfPage:[4,"auto-pause-at-end-of-page"],playing:[32],fullscreen:[32],autoScroll:[32],hasLoaded:[32],images:[32],invalidImages:[32],translations:[32],settingsVisible:[32],userPreferences:[32],userPreferencesDirty:[32],hasUserPreferences:[32],annotations:[32],annotationsMenuVisible:[32],getCurrentWord:[64],getImages:[64],updateSpriteAlignments:[64],getReadAlongElement:[64],getAlignments:[64],getTranslations:[64],changeTheme:[64],setCss:[64],addCustomFont:[64]},[[9,"wheel","wheelHandler"],[0,"fullscreenchange","fullScreenHandler"],[4,"keydown","handleKeyDown"]],{audio_howl_sprites:[{wheelHandler:0}]}]);function _v(){if(typeof customElements==="undefined"){return}const e=["read-along","error-message"];e.forEach((e=>{switch(e){case"read-along":if(!customElements.get(i(e))){customElements.define(i(e),pv)}break;case"error-message":if(!customElements.get(i(e))){a()}break}}))}const yv=pv;const wv=_v;export{yv as ReadAlong,wv as defineCustomElement};
//# sourceMappingURL=read-along.js.map